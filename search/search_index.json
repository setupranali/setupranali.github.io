{"config":{"lang":["en"],"separator":"[\\s\\-\\.]","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SetuPranali","text":""},{"location":"#the-bridge-system-for-bi","title":"The Bridge System for BI","text":"<p>Connect Power BI and Tableau to your data warehouse in 5 minutes.  No credential sprawl. No complex setup. No vendor lock-in.</p> <p>\u26a1 5-Minute Setup \u00b7 \ud83d\udd12 Automatic Security \u00b7 \ud83d\udcca BI-Native Protocols</p> <p>Get Started View on GitHub</p>"},{"location":"#the-problem","title":"The Problem","text":"<p>Modern data teams face a painful reality:</p> <ul> <li> <p> Credential Sprawl</p> <p>Every BI user gets database credentials. Every tool has its own connection. Security reviews become a nightmare.</p> </li> <li> <p> Metric Drift</p> <p>\"Revenue\" means three different things in three different dashboards. No single source of truth.</p> </li> <li> <p> BI Lock-In</p> <p>Your semantic model lives inside your BI tool. Switching means  rebuilding everything.</p> </li> <li> <p> Performance Issues</p> <p>Every dashboard hits the database directly. No caching. Slow queries. Frustrated users.</p> </li> </ul>"},{"location":"#the-solution","title":"The Solution","text":"<p>SetuPranali is a semantic bridge that sits between your  data warehouse and your BI tools.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Power BI   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502                     \u2502     \u2502  Snowflake   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524     \u2502    SetuPranali      \u2502\u2500\u2500\u2500\u2500\u25b6\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Tableau    \u2502\u2500\u2500\u2500\u2500\u25b6\u2502    (Bridge System)  \u2502     \u2502  BigQuery    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524     \u2502                     \u2502     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  REST API    \u2502\u2500\u2500\u2500\u2500\u25b6\u2502   - Authentication  \u2502     \u2502  PostgreSQL  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502   - Authorization   \u2502     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n                     \u2502   - Semantic Layer  \u2502     \u2502  Databricks  \u2502\n                     \u2502   - Caching         \u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#how-it-works","title":"How It Works","text":"<ul> <li> <p> Define Once</p> <p>Create your semantic model with datasets, dimensions, metrics,  and relationships in a simple YAML catalog.</p> <pre><code>datasets:\n  - name: orders\n    dimensions:\n      - name: region\n      - name: product\n    metrics:\n      - name: revenue\n        expr: \"SUM(amount)\"\n</code></pre> </li> <li> <p> Secure Centrally</p> <p>Configure API keys with tenant context. Row-level security  is automatic\u2014no database grants needed.</p> <pre><code>api_keys:\n  - key: \"pk_acme_...\"\n    tenant: acme_corp\n    role: analyst\n</code></pre> </li> <li> <p> Connect Any BI</p> <p>Power BI via OData. Tableau via Web Data Connector.  Any tool via REST API. Your choice.</p> <pre><code>GET /odata/orders?$select=region,revenue\nAuthorization: X-API-Key pk_acme_...\n</code></pre> </li> </ul>"},{"location":"#key-features","title":"Key Features","text":"Enterprise Security API-key authentication, row-level security, tenant isolation. No database credentials in BI tools. BI Agnostic Native Power BI (OData), Tableau (WDC), Metabase driver, and REST API. Switch tools without rebuilding your semantic layer. High Performance Intelligent caching with Redis. Query deduplication. Rate limiting to protect your warehouse. Incremental Refresh Date-partitioned loading for Power BI. Load only what's new. Faster refreshes, lower costs. :material-database-multiple:{ .feature-icon } Multi-Source Connect to Snowflake, BigQuery, Databricks, PostgreSQL,  MySQL, ClickHouse, Redshift\u2014all through one API. Model-Agnostic Use with dbt, existing views, or standalone. Your modeling layer, your rules. Web UI &amp; Modeling Studio Full-featured admin dashboard and visual modeling interface. Build semantic models without writing YAML. SQL Dialect Conversion Automatic SQL conversion between databases using SQLGlot. Write once, run anywhere."},{"location":"#supported-integrations","title":"Supported Integrations","text":""},{"location":"#data-sources","title":"Data Sources","text":"Database Status Adapter PostgreSQL \u2705 GA <code>postgres</code> MySQL \u2705 GA <code>mysql</code> Snowflake \u2705 GA <code>snowflake</code> BigQuery \u2705 GA <code>bigquery</code> Databricks \u2705 GA <code>databricks</code> Redshift \u2705 GA <code>redshift</code> ClickHouse \u2705 GA <code>clickhouse</code> DuckDB \u2705 GA <code>duckdb</code> Trino/Presto \u2705 GA <code>trino</code> / <code>presto</code> SQL Server \u2705 GA <code>tsql</code> Oracle \u2705 GA <code>oracle</code> SQLite \u2705 GA <code>sqlite</code> TimescaleDB \u2705 GA <code>postgres</code> CockroachDB \u2705 GA <code>postgres</code>"},{"location":"#bi-tools","title":"BI Tools","text":"Tool Protocol Status Power BI OData \u2705 Native Tableau Web Data Connector \u2705 Native Excel OData \u2705 Native Apache Superset REST API \u2705 Supported Looker Studio Community Connector \u2705 Supported Metabase Native Driver \u2705 Native Grafana REST API \u2705 Supported Qlik Sense REST API \u2705 Supported Mode Analytics REST API \u2705 Supported Any REST Client REST API \u2705 Supported"},{"location":"#apis-sdks","title":"APIs &amp; SDKs","text":"Interface Description Status Query API Semantic queries with dimensions &amp; metrics \u2705 Stable GraphQL API Flexible, typed query interface \u2705 Stable SQL API Direct SQL with automatic RLS \u2705 Stable NLQ API Natural language to query \u2705 Beta OData API Power BI native protocol \u2705 Stable Python SDK <code>pip install setupranali</code> \u2705 Stable JavaScript SDK <code>npm install @setupranali/client</code> \u2705 Stable Jupyter Widget Interactive notebook widget \u2705 Stable Web UI Admin dashboard &amp; modeling studio \u2705 Stable SQL Dialect Conversion Cross-database SQL with SQLGlot \u2705 Stable"},{"location":"#quick-example","title":"Quick Example","text":""},{"location":"#1-start-the-server","title":"1. Start the Server","text":"<pre><code>docker run -p 8080:8080 adeygifting/connector:latest\n</code></pre>"},{"location":"#2-register-a-data-source","title":"2. Register a Data Source","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"my-warehouse\",\n    \"type\": \"snowflake\",\n    \"connection\": {\n      \"account\": \"xxx.snowflakecomputing.com\",\n      \"user\": \"svc_bi\",\n      \"password\": \"***\",\n      \"warehouse\": \"ANALYTICS_WH\",\n      \"database\": \"PROD\",\n      \"schema\": \"PUBLIC\"\n    }\n  }'\n</code></pre>"},{"location":"#3-define-a-dataset","title":"3. Define a Dataset","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: sales\n    source: my-warehouse\n    table: fact_sales\n    dimensions:\n      - name: region\n        expr: region_name\n      - name: product\n        expr: product_category\n    metrics:\n      - name: revenue\n        expr: \"SUM(sale_amount)\"\n      - name: orders\n        expr: \"COUNT(*)\"\n    rls:\n      tenant_column: tenant_id\n</code></pre>"},{"location":"#4-query-via-api","title":"4. Query via API","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_tenant_abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\", \"orders\"]\n  }'\n</code></pre>"},{"location":"#5-connect-power-bi","title":"5. Connect Power BI","text":"<pre><code>Data Source: OData\nURL: http://localhost:8080/odata/sales\nHeader: X-API-Key = pk_tenant_abc123\n</code></pre>"},{"location":"#6-use-web-ui-optional","title":"6. Use Web UI (Optional)","text":"<p>Open http://localhost:5173 to access: - Dashboard with system metrics - Query Playground for testing - Modeling Studio for visual modeling - API Key management - Data source configuration</p>"},{"location":"#why-not-just-use","title":"Why Not Just Use...?","text":""},{"location":"#vs-direct-database-connections","title":"vs. Direct Database Connections","text":"Direct Connection SetuPranali Credentials in every BI tool API keys only\u2014revocable, auditable Build RLS per tool RLS automatic via API key No caching Redis-based query caching Metric definitions scattered Single source of truth"},{"location":"#vs-cubedev","title":"vs. Cube.dev","text":"Cube.dev SetuPranali Complex Cube schema language Simple YAML config REST API for BI tools Native OData + WDC Powerful but steep learning curve Get started in 5 minutes Best for API-first products Best for BI teams"},{"location":"#vs-dbt-semantic-layer","title":"vs. dbt Semantic Layer","text":"dbt Semantic Layer SetuPranali Requires dbt Cloud Fully standalone Part of larger ecosystem Single-purpose bridge MetricFlow learning curve YAML you already know Great for dbt shops Great for everyone <p>Bottom line: SetuPranali is the simplest bridge from \"BI tool\" to \"secure data access.\"</p>"},{"location":"#who-uses-setupranali","title":"Who Uses SetuPranali?","text":"<ul> <li> <p> Data Platform Teams</p> <p>Centralize data access. Eliminate credential management. Enforce governance at scale.</p> </li> <li> <p> BI Engineers</p> <p>Build once, deploy everywhere. Same metrics in every tool. No more copy-paste SQL.</p> </li> <li> <p> Multi-Tenant Platforms</p> <p>Automatic tenant isolation. Self-service analytics for customers. No custom security code.</p> </li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Ready to bridge your BI tools?</p> <ul> <li> <p>Quick Start \u2192</p> <p>Get up and running in 5 minutes with our tutorial.</p> </li> <li> <p>Installation \u2192</p> <p>Deploy with Docker, Kubernetes, or from source.</p> </li> <li> <p>Concepts \u2192</p> <p>Understand the architecture and security model.</p> </li> <li> <p>API Reference \u2192</p> <p>Complete API documentation with examples.</p> </li> </ul>"},{"location":"#ready-to-start","title":"Ready to Start?","text":"<p>Get Started Join the Community</p>"},{"location":"ARCHITECTURE/","title":"SetuPranali - Universal BI Connector Architecture","text":""},{"location":"ARCHITECTURE/#overview","title":"\ud83d\udccb Overview","text":"<p>SetuPranali is a Semantic Analytics Layer that acts as a universal connector between various data sources and BI tools. It provides a unified semantic layer that abstracts the complexity of underlying data sources, enabling business users to query data using business terminology.</p>"},{"location":"ARCHITECTURE/#high-level-architecture","title":"\ud83c\udfd7\ufe0f High-Level Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                              BI TOOLS (Consumers)                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502Power BI \u2502  \u2502 Tableau \u2502  \u2502 Grafana \u2502  \u2502 Metabase\u2502  \u2502  Excel  \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502       \u2502            \u2502            \u2502            \u2502            \u2502                 \u2502\n\u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                              \u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        SETUPRANALI WEB UI (React)                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   Dashboard    \u2502  \u2502    Datasets    \u2502  \u2502      Modeling Studio           \u2502 \u2502\n\u2502  \u2502   - Health     \u2502  \u2502  - Semantic    \u2502  \u2502  - Schema Browser              \u2502 \u2502\n\u2502  \u2502   - Stats      \u2502  \u2502  - Catalog     \u2502  \u2502  - ERD Canvas                  \u2502 \u2502\n\u2502  \u2502   - Usage      \u2502  \u2502  - Sources     \u2502  \u2502  - Semantic Model Builder      \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  - Query Workbench             \u2502 \u2502\n\u2502                                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Contract Editor\u2502  \u2502 Query Playground\u2502 \u2502       Sources Manager          \u2502 \u2502\n\u2502  \u2502  - YAML Editor \u2502  \u2502  - SQL Editor  \u2502  \u2502  - Connection Setup            \u2502 \u2502\n\u2502  \u2502  - Validation  \u2502  \u2502  - Results     \u2502  \u2502  - Schema Introspection        \u2502 \u2502\n\u2502  \u2502  - Sync        \u2502  \u2502  - Charts      \u2502  \u2502  - Test Connection             \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u2502 REST API / GraphQL / OData\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      SETUPRANALI BACKEND (FastAPI)                          \u2502\n\u2502                                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                          API Layer                                     \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502\n\u2502  \u2502  \u2502 REST API \u2502  \u2502 GraphQL  \u2502  \u2502  OData   \u2502  \u2502 JSON:API \u2502  \u2502Streaming \u2502 \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                     Semantic Layer (Core)                              \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502\n\u2502  \u2502  \u2502  ERD Manager    \u2502  \u2502 Semantic Model  \u2502  \u2502    Query Planner        \u2502 \u2502 \u2502\n\u2502  \u2502  \u2502  - Tables       \u2502  \u2502 - Dimensions    \u2502  \u2502  - SQL Generation       \u2502 \u2502 \u2502\n\u2502  \u2502  \u2502  - Relationships\u2502  \u2502 - Measures      \u2502  \u2502  - Join Resolution      \u2502 \u2502 \u2502\n\u2502  \u2502  \u2502  - Joins        \u2502  \u2502 - Calc Fields   \u2502  \u2502  - Dialect Adaptation   \u2502 \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502\n\u2502  \u2502  \u2502  Catalog        \u2502  \u2502 Schema Introspect\u2502 \u2502   Expression Validator  \u2502 \u2502 \u2502\n\u2502  \u2502  \u2502  - YAML Parser  \u2502  \u2502 - Table Discovery\u2502 \u2502  - Syntax Check         \u2502 \u2502 \u2502\n\u2502  \u2502  \u2502  - Dataset Defs \u2502  \u2502 - Column Info   \u2502  \u2502  - Reference Resolution \u2502 \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                    Cross-Cutting Concerns                              \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502\n\u2502  \u2502  \u2502 Security \u2502  \u2502  Cache   \u2502  \u2502Rate Limit\u2502  \u2502 Logging  \u2502  \u2502   RLS    \u2502 \u2502 \u2502\n\u2502  \u2502  \u2502 API Keys \u2502  \u2502  Redis   \u2502  \u2502Per-Key   \u2502  \u2502Structured\u2502  \u2502Row-Level \u2502 \u2502 \u2502\n\u2502  \u2502  \u2502 OAuth    \u2502  \u2502  Memory  \u2502  \u2502Throttle  \u2502  \u2502 Tracing  \u2502  \u2502Security  \u2502 \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                      Adapter Layer                                     \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502 \u2502\n\u2502  \u2502  \u2502                     Base Adapter Interface                       \u2502  \u2502 \u2502\n\u2502  \u2502  \u2502  - execute(sql, params) \u2192 QueryResult                            \u2502  \u2502 \u2502\n\u2502  \u2502  \u2502  - get_schemas() \u2192 List[Schema]                                  \u2502  \u2502 \u2502\n\u2502  \u2502  \u2502  - get_tables(schema) \u2192 List[Table]                              \u2502  \u2502 \u2502\n\u2502  \u2502  \u2502  - get_columns(schema, table) \u2192 List[Column]                     \u2502  \u2502 \u2502\n\u2502  \u2502  \u2502  - test_connection() \u2192 ConnectionResult                          \u2502  \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 \u2502\n\u2502  \u2502                                                                        \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502 \u2502\n\u2502  \u2502  \u2502PostgreSQL\u2502MySQL   \u2502StarRocks\u2502ClickHse\u2502Snowflake\u2502BigQuery\u2502         \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502 \u2502\n\u2502  \u2502  \u2502 DuckDB \u2502 Redshift\u2502Databricks\u2502 Trino  \u2502SQLServer\u2502 Oracle \u2502         \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                     Persistence Layer                                  \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u2502 \u2502\n\u2502  \u2502  \u2502 sources.db  \u2502  \u2502   erd.db    \u2502  \u2502 semantic.db \u2502                    \u2502 \u2502\n\u2502  \u2502  \u2502 (SQLite)    \u2502  \u2502  (SQLite)   \u2502  \u2502  (SQLite)   \u2502                    \u2502 \u2502\n\u2502  \u2502  \u2502 - Sources   \u2502  \u2502 - ERD Models\u2502  \u2502 - Semantic  \u2502                    \u2502 \u2502\n\u2502  \u2502  \u2502 - Configs   \u2502  \u2502 - Tables    \u2502  \u2502   Models    \u2502                    \u2502 \u2502\n\u2502  \u2502  \u2502             \u2502  \u2502 - Relations \u2502  \u2502 - Dims/Meas \u2502                    \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u2502 Native Database Protocols\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          DATA SOURCES (Databases)                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502PostgreSQL\u2502 \u2502  MySQL  \u2502  \u2502StarRocks\u2502  \u2502ClickHouse\u2502 \u2502Snowflake\u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502BigQuery \u2502  \u2502 DuckDB  \u2502  \u2502 Redshift\u2502  \u2502  Trino  \u2502  \u2502Databricks\u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ARCHITECTURE/#component-details","title":"\ud83e\udde9 Component Details","text":""},{"location":"ARCHITECTURE/#1-web-ui-frontend-react-typescript","title":"1. Web UI (Frontend - React + TypeScript)","text":"Component Path Description Dashboard <code>/</code> System health, stats, quick access Sources <code>/sources</code> Manage database connections Datasets <code>/datasets</code> View semantic models, catalog datasets Modeling Studio <code>/modeling</code> Visual ERD &amp; semantic model builder Contract Editor <code>/contracts</code> YAML contract editing with bi-directional sync Query Playground <code>/playground</code> Ad-hoc SQL query interface Semantic Model Detail <code>/models/:id</code> Detailed view of semantic models <p>Key Libraries: - React 18 + TypeScript - Zustand (state management) - TanStack Query (data fetching) - React Flow (ERD visualization) - Monaco Editor (code editing) - Tailwind CSS (styling) - React Resizable Panels (layout) - Recharts (visualizations)</p>"},{"location":"ARCHITECTURE/#2-backend-api-fastapi-python","title":"2. Backend API (FastAPI - Python)","text":"Module Path Description main.py <code>/app/main.py</code> Application entry, routes registration modeling/ <code>/app/modeling/</code> ERD, Semantic Model, Query Planning adapters/ <code>/app/adapters/</code> Database-specific implementations catalog.py <code>/app/catalog.py</code> YAML catalog parser sources.py <code>/app/sources.py</code> Source connection management security.py <code>/app/security.py</code> Authentication, API keys"},{"location":"ARCHITECTURE/#3-database-adapters","title":"3. Database Adapters","text":"<p>All adapters implement the <code>BaseAdapter</code> interface:</p> <pre><code>class BaseAdapter(ABC):\n    @abstractmethod\n    def execute(self, sql: str, params: list = None) -&gt; QueryResult\n\n    @abstractmethod\n    def get_schemas(self) -&gt; List[SchemaInfo]\n\n    @abstractmethod\n    def get_tables(self, schema: str) -&gt; List[TableInfo]\n\n    @abstractmethod\n    def get_columns(self, schema: str, table: str) -&gt; List[ColumnInfo]\n\n    @abstractmethod\n    def test_connection(self) -&gt; ConnectionResult\n</code></pre> <p>Supported Databases: | Database | Adapter | Quote Char | Status | |----------|---------|------------|--------| | PostgreSQL | <code>postgres_adapter.py</code> | <code>\"</code> | \u2705 | | MySQL | <code>mysql_adapter.py</code> | <code>`</code> | \u2705 | | StarRocks | <code>mysql_adapter.py</code> | <code>`</code> | \u2705 | | ClickHouse | <code>clickhouse_adapter.py</code> | <code>`</code> | \u2705 | | Snowflake | <code>snowflake_adapter.py</code> | <code>\"</code> | \u2705 | | BigQuery | <code>bigquery_adapter.py</code> | <code>`</code> | \u2705 | | DuckDB | <code>duckdb_adapter.py</code> | <code>\"</code> | \u2705 | | Redshift | <code>redshift_adapter.py</code> | <code>\"</code> | \u2705 | | Trino | <code>trino_adapter.py</code> | <code>\"</code> | \u2705 | | Databricks | <code>databricks_adapter.py</code> | <code>`</code> | \u2705 | | SQL Server | <code>sqlserver_adapter.py</code> | <code>[</code> | \u2705 | | Oracle | <code>oracle_adapter.py</code> | <code>\"</code> | \u2705 |</p>"},{"location":"ARCHITECTURE/#data-models","title":"\ud83d\udcca Data Models","text":""},{"location":"ARCHITECTURE/#erd-model","title":"ERD Model","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   ERD Model                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 id: string                                       \u2502\n\u2502 name: string                                     \u2502\n\u2502 sourceId: string (FK \u2192 Source)                   \u2502\n\u2502 description?: string                             \u2502\n\u2502 nodes: TableNode[]                               \u2502\n\u2502 edges: RelationshipEdge[]                        \u2502\n\u2502 createdAt: datetime                              \u2502\n\u2502 updatedAt: datetime                              \u2502\n\u2502 version: number                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                    \u2502\n         \u2502                    \u2502\n         \u25bc                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   TableNode     \u2502    \u2502   RelationshipEdge      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 id: string      \u2502    \u2502 id: string              \u2502\n\u2502 schemaName      \u2502    \u2502 sourceNodeId            \u2502\n\u2502 tableName       \u2502    \u2502 sourceColumn            \u2502\n\u2502 fullName        \u2502    \u2502 targetNodeId            \u2502\n\u2502 position: {x,y} \u2502    \u2502 targetColumn            \u2502\n\u2502 columns[]       \u2502    \u2502 cardinality: 1:1|1:N|N:N\u2502\n\u2502 isCollapsed     \u2502    \u2502 joinType: inner|left... \u2502\n\u2502 isVisible       \u2502    \u2502 isActive                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ARCHITECTURE/#semantic-model","title":"Semantic Model","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                Semantic Model                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 id: string                                       \u2502\n\u2502 name: string                                     \u2502\n\u2502 sourceId: string (FK \u2192 Source)                   \u2502\n\u2502 erdModelId?: string (FK \u2192 ERDModel)              \u2502\n\u2502 dimensions: Dimension[]                          \u2502\n\u2502 measures: Measure[]                              \u2502\n\u2502 calculatedFields: CalculatedField[]              \u2502\n\u2502 timeIntelligence: TimeIntelligence[]             \u2502\n\u2502 createdAt: datetime                              \u2502\n\u2502 updatedAt: datetime                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                    \u2502                \u2502\n         \u25bc                    \u25bc                \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Dimension     \u2502  \u2502    Measure      \u2502  \u2502 CalculatedField \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 id: string      \u2502  \u2502 id: string      \u2502  \u2502 id: string      \u2502\n\u2502 name: string    \u2502  \u2502 name: string    \u2502  \u2502 name: string    \u2502\n\u2502 sourceTable     \u2502  \u2502 expression      \u2502  \u2502 expression      \u2502\n\u2502 sourceColumn    \u2502  \u2502 aggregation     \u2502  \u2502 resultType      \u2502\n\u2502 dimensionType:  \u2502  \u2502 sourceTable?    \u2502  \u2502 referencedFields\u2502\n\u2502  categorical    \u2502  \u2502 formatString    \u2502  \u2502 formatString    \u2502\n\u2502  time           \u2502  \u2502 isAdditive      \u2502  \u2502 isVisible       \u2502\n\u2502  geo            \u2502  \u2502 dependsOn[]     \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  hierarchical   \u2502  \u2502 filters[]       \u2502\n\u2502 hierarchyLevel  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502 synonyms[]      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ARCHITECTURE/#process-flows","title":"\ud83d\udd04 Process Flows","text":""},{"location":"ARCHITECTURE/#flow-1-data-source-connection","title":"Flow 1: Data Source Connection","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Web UI  \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Backend    \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Database \u2502\n\u2502         \u2502     \u2502 Sources \u2502     \u2502  API        \u2502     \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502               \u2502                 \u2502                  \u2502\n     \u2502 1. Enter      \u2502                 \u2502                  \u2502\n     \u2502 connection    \u2502 2. POST         \u2502                  \u2502\n     \u2502 details       \u2502 /v1/sources     \u2502                  \u2502\n     \u2502               \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n     \u2502               \u2502                 \u2502 3. Adapter       \u2502\n     \u2502               \u2502                 \u2502 Factory          \u2502\n     \u2502               \u2502                 \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 \u2502\n     \u2502               \u2502                 \u2502                  \u2502\n     \u2502               \u2502                 \u2502 4. Test          \u2502\n     \u2502               \u2502                 \u2502 Connection       \u2502\n     \u2502               \u2502                 \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502               \u2502                 \u2502                  \u2502\n     \u2502               \u2502                 \u2502 5. Encrypt       \u2502\n     \u2502               \u2502                 \u2502 credentials      \u2502\n     \u2502               \u2502                 \u2502                  \u2502\n     \u2502               \u2502                 \u2502 6. Store in      \u2502\n     \u2502               \u2502                 \u2502 sources.db       \u2502\n     \u2502               \u2502 7. Success      \u2502                  \u2502\n     \u2502               \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n     \u2502 8. Show       \u2502                 \u2502                  \u2502\n     \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                 \u2502                  \u2502\n</code></pre>"},{"location":"ARCHITECTURE/#flow-2-erd-model-creation","title":"Flow 2: ERD Model Creation","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Modeling Studio \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Backend    \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Database \u2502\n\u2502         \u2502     \u2502 ERD Canvas      \u2502     \u2502  API        \u2502     \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502 1. Select        \u2502                      \u2502                  \u2502\n     \u2502 source           \u2502 2. GET schemas       \u2502                  \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n     \u2502                  \u2502                      \u2502 3. Introspect    \u2502\n     \u2502                  \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                  \u2502                      \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502 4. Drag table    \u2502                      \u2502                  \u2502\n     \u2502 to canvas        \u2502 5. POST /erd/nodes   \u2502                  \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n     \u2502                  \u2502                      \u2502 6. Store node    \u2502\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502 7. Draw          \u2502 8. POST /erd/edges   \u2502                  \u2502\n     \u2502 relationship     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n     \u2502                  \u2502                      \u2502 9. Store edge    \u2502\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502 10. Save         \u2502 11. PUT /erd/{id}    \u2502                  \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n     \u2502                  \u2502                      \u2502 12. Persist      \u2502\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502    to erd.db     \u2502\n</code></pre>"},{"location":"ARCHITECTURE/#flow-3-semantic-model-creation","title":"Flow 3: Semantic Model Creation","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Modeling Studio \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Backend    \u2502\n\u2502         \u2502     \u2502 Semantic Panel  \u2502     \u2502  API        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                  \u2502                      \u2502\n     \u2502 1. Create new    \u2502 2. POST              \u2502\n     \u2502 semantic model   \u2502 /semantic            \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                  \u2502                      \u2502 3. Initialize\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 empty model\n     \u2502                  \u2502                      \u2502\n     \u2502 4. Add dimension \u2502                      \u2502\n     \u2502 (name, table,    \u2502 5. POST              \u2502\n     \u2502  column, type)   \u2502 /semantic/{id}/dims  \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                  \u2502                      \u2502 6. Validate:\n     \u2502                  \u2502                      \u2502 - Table exists?\n     \u2502                  \u2502                      \u2502 - Column exists?\n     \u2502                  \u2502                      \u2502 - Type compatible?\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                  \u2502                      \u2502\n     \u2502 7. Add measure   \u2502                      \u2502\n     \u2502 (name, expr,     \u2502 8. POST              \u2502\n     \u2502  aggregation)    \u2502 /semantic/{id}/meas  \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                  \u2502                      \u2502 9. Validate expr\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                  \u2502                      \u2502\n     \u2502 10. Save         \u2502 11. PUT              \u2502\n     \u2502                  \u2502 /semantic/{id}       \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502 12. Persist to\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 semantic.db\n</code></pre>"},{"location":"ARCHITECTURE/#flow-4-semantic-query-execution","title":"Flow 4: Semantic Query Execution","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Query Workbench \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Backend    \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Database \u2502\n\u2502         \u2502     \u2502                 \u2502     \u2502  API        \u2502     \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502 1. Select        \u2502                      \u2502                  \u2502\n     \u2502 dimensions &amp;     \u2502                      \u2502                  \u2502\n     \u2502 measures         \u2502                      \u2502                  \u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502 2. Click         \u2502 3. POST              \u2502                  \u2502\n     \u2502 Run Query        \u2502 /query/semantic      \u2502                  \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n     \u2502                  \u2502 {                    \u2502                  \u2502\n     \u2502                  \u2502   erdModelId,        \u2502                  \u2502\n     \u2502                  \u2502   semanticModelId,   \u2502                  \u2502\n     \u2502                  \u2502   dimensions[],      \u2502                  \u2502\n     \u2502                  \u2502   measures[]         \u2502                  \u2502\n     \u2502                  \u2502 }                    \u2502                  \u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502                  \u2502                      \u2502 4. Load ERD model\u2502\n     \u2502                  \u2502                      \u2502 5. Load Semantic \u2502\n     \u2502                  \u2502                      \u2502    model         \u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502                  \u2502                      \u2502 6. QueryPlanner  \u2502\n     \u2502                  \u2502                      \u2502 - Resolve dims   \u2502\n     \u2502                  \u2502                      \u2502 - Resolve meas   \u2502\n     \u2502                  \u2502                      \u2502 - Build JOINs    \u2502\n     \u2502                  \u2502                      \u2502 - Generate SQL   \u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502                  \u2502                      \u2502 7. Get source    \u2502\n     \u2502                  \u2502                      \u2502    type (MySQL?) \u2502\n     \u2502                  \u2502                      \u2502 8. Set quote_char\u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502                  \u2502                      \u2502 9. Execute SQL   \u2502\n     \u2502                  \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                  \u2502                      \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                  \u2502                      \u2502                  \u2502\n     \u2502                  \u2502 10. Return results   \u2502                  \u2502\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n     \u2502                  \u2502 {                    \u2502                  \u2502\n     \u2502                  \u2502   rows,              \u2502                  \u2502\n     \u2502                  \u2502   columns,           \u2502                  \u2502\n     \u2502                  \u2502   sql,               \u2502                  \u2502\n     \u2502                  \u2502   executionTimeMs    \u2502                  \u2502\n     \u2502                  \u2502 }                    \u2502                  \u2502\n     \u2502 11. Display      \u2502                      \u2502                  \u2502\n     \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                      \u2502                  \u2502\n</code></pre>"},{"location":"ARCHITECTURE/#flow-5-contract-bi-directional-sync","title":"Flow 5: Contract Bi-directional Sync","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         BI-DIRECTIONAL SYNC                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nDirection A: Semantic Model \u2192 Contract (YAML)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Modeling    \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Contract Editor \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Backend    \u2502\n\u2502 Studio      \u2502     \u2502 \"Pull from Model\"\u2502     \u2502  API        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                      \u2502                      \u2502\n     \u2502 1. Create/Edit       \u2502                      \u2502\n     \u2502 Semantic Model       \u2502                      \u2502\n     \u2502                      \u2502                      \u2502\n     \u2502 2. Save model        \u2502                      \u2502\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                      \u2502\n     \u2502                      \u2502 3. Click \"Pull      \u2502\n     \u2502                      \u2502 from Model\"          \u2502\n     \u2502                      \u2502                      \u2502\n     \u2502                      \u2502 4. GET               \u2502\n     \u2502                      \u2502 /semantic/{id}/yaml  \u2502\n     \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                      \u2502                      \u2502 5. Generate YAML\n     \u2502                      \u2502                      \u2502    from model\n     \u2502                      \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                      \u2502                      \u2502\n     \u2502                      \u2502 6. Display YAML      \u2502\n     \u2502                      \u2502    in editor         \u2502\n\n\nDirection B: Contract (YAML) \u2192 Semantic Model\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Contract Editor \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Contract Editor \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Backend    \u2502\n\u2502 YAML Editor     \u2502     \u2502 \"Push to Model\" \u2502     \u2502  API        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                      \u2502                      \u2502\n     \u2502 1. Edit YAML         \u2502                      \u2502\n     \u2502 contract manually    \u2502                      \u2502\n     \u2502                      \u2502                      \u2502\n     \u2502 2. Click \"Push       \u2502                      \u2502\n     \u2502 to Model\"            \u2502                      \u2502\n     \u2502                      \u2502 3. PUT               \u2502\n     \u2502                      \u2502 /semantic/{id}/from-yaml\n     \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                      \u2502 { content: yaml }    \u2502\n     \u2502                      \u2502                      \u2502\n     \u2502                      \u2502                      \u2502 4. Parse YAML\n     \u2502                      \u2502                      \u2502 5. Update model:\n     \u2502                      \u2502                      \u2502    - dimensions\n     \u2502                      \u2502                      \u2502    - measures\n     \u2502                      \u2502                      \u2502    - calc fields\n     \u2502                      \u2502                      \u2502\n     \u2502                      \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 6. Return updated\n     \u2502                      \u2502                      \u2502    model\n     \u2502                      \u2502                      \u2502\n     \u2502 7. Modeling Studio   \u2502                      \u2502\n     \u2502 reflects changes     \u2502                      \u2502\n     \u2502 after refresh        \u2502                      \u2502\n</code></pre>"},{"location":"ARCHITECTURE/#api-endpoints","title":"\ud83d\udd0c API Endpoints","text":""},{"location":"ARCHITECTURE/#source-management","title":"Source Management","text":"Method Endpoint Description GET <code>/v1/sources</code> List all sources POST <code>/v1/sources</code> Register new source GET <code>/v1/sources/{id}</code> Get source details DELETE <code>/v1/sources/{id}</code> Delete source POST <code>/v1/sources/{id}/test</code> Test connection"},{"location":"ARCHITECTURE/#schema-introspection","title":"Schema Introspection","text":"Method Endpoint Description GET <code>/v1/modeling/sources/{id}/schemas</code> List schemas GET <code>/v1/modeling/sources/{id}/schemas/{schema}/tables</code> List tables GET <code>/v1/modeling/sources/{id}/schemas/{schema}/tables/{table}/columns</code> List columns"},{"location":"ARCHITECTURE/#erd-management","title":"ERD Management","text":"Method Endpoint Description GET <code>/v1/modeling/erd</code> List ERD models POST <code>/v1/modeling/erd</code> Create ERD model GET <code>/v1/modeling/erd/{id}</code> Get ERD model PUT <code>/v1/modeling/erd/{id}</code> Update ERD model DELETE <code>/v1/modeling/erd/{id}</code> Delete ERD model POST <code>/v1/modeling/erd/{id}/nodes</code> Add table node POST <code>/v1/modeling/erd/{id}/edges</code> Add relationship"},{"location":"ARCHITECTURE/#semantic-model-management","title":"Semantic Model Management","text":"Method Endpoint Description GET <code>/v1/modeling/semantic</code> List semantic models POST <code>/v1/modeling/semantic</code> Create semantic model GET <code>/v1/modeling/semantic/{id}</code> Get semantic model PUT <code>/v1/modeling/semantic/{id}</code> Update semantic model DELETE <code>/v1/modeling/semantic/{id}</code> Delete semantic model POST <code>/v1/modeling/semantic/{id}/dimensions</code> Add dimension PUT <code>/v1/modeling/semantic/{id}/dimensions/{dimId}</code> Update dimension POST <code>/v1/modeling/semantic/{id}/measures</code> Add measure PUT <code>/v1/modeling/semantic/{id}/measures/{measId}</code> Update measure GET <code>/v1/modeling/semantic/{id}/yaml</code> Generate YAML PUT <code>/v1/modeling/semantic/{id}/from-yaml</code> Update from YAML"},{"location":"ARCHITECTURE/#query-execution","title":"Query Execution","text":"Method Endpoint Description POST <code>/v1/modeling/query/semantic</code> Execute semantic query POST <code>/v1/modeling/query/sql</code> Execute raw SQL POST <code>/v1/modeling/query/explain</code> Explain query POST <code>/v1/modeling/query/validate-expression</code> Validate expression"},{"location":"ARCHITECTURE/#data-persistence","title":"\ud83d\uddc4\ufe0f Data Persistence","text":""},{"location":"ARCHITECTURE/#sqlite-databases-development","title":"SQLite Databases (Development)","text":"<pre><code>app/db/\n\u251c\u2500\u2500 sources.db      # Data source connections\n\u251c\u2500\u2500 erd.db          # ERD models (tables, relationships)\n\u2514\u2500\u2500 semantic.db     # Semantic models (dims, measures, calcs)\n</code></pre>"},{"location":"ARCHITECTURE/#redis-production-caching","title":"Redis (Production - Caching)","text":"<ul> <li>Query result caching</li> <li>Session management</li> <li>Rate limiting counters</li> </ul>"},{"location":"ARCHITECTURE/#security-features","title":"\ud83d\udd10 Security Features","text":"Feature Description API Key Auth Per-key authentication with lifecycle management Row-Level Security Automatic tenant isolation based on API key Encryption Credentials encrypted at rest Rate Limiting Per-API-key request throttling CORS Configurable cross-origin policy OAuth 2.0 External identity provider integration SAML Enterprise SSO support"},{"location":"ARCHITECTURE/#deployment-options","title":"\ud83d\ude80 Deployment Options","text":"Option Description Docker Single container with all components Docker Compose Multi-container with Redis Kubernetes Helm chart available Cloud Native AWS, GCP, Azure deployment guides"},{"location":"ARCHITECTURE/#technology-stack-summary","title":"\ud83d\udcc8 Technology Stack Summary","text":"Layer Technology Frontend React 18, TypeScript, Tailwind CSS, Zustand Backend Python 3.11+, FastAPI, Pydantic Database SQLite (dev), PostgreSQL (prod) Cache Redis Visualization React Flow, Recharts, Monaco Editor API Protocols REST, GraphQL, OData Documentation MkDocs Material"},{"location":"ARCHITECTURE/#key-design-principles","title":"\ud83c\udfaf Key Design Principles","text":"<ol> <li>Database Agnostic: Adapters abstract database-specific SQL dialects</li> <li>Semantic Abstraction: Business users query using dimensions/measures, not SQL</li> <li>Visual Modeling: ERD canvas for intuitive relationship management</li> <li>Bi-directional Sync: YAML contracts \u2194 Semantic models stay in sync</li> <li>Multi-tenant: Row-level security isolates tenant data</li> <li>Extensible: Plugin architecture for new adapters and features</li> <li>API-First: Multiple API protocols for different BI tool integrations</li> </ol> <p>Document generated: January 2026 Version: 1.0</p>"},{"location":"PROCESS_FLOW/","title":"SetuPranali - Process Flow Diagrams","text":""},{"location":"PROCESS_FLOW/#end-to-end-user-journey","title":"\ud83d\udcca End-to-End User Journey","text":"<pre><code>                                    USER JOURNEY\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502                          PHASE 1: SETUP                                  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  1. CONNECT DATA SOURCE                                                  \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n  \u2502  \u2502   Sources   \u2502\u2500\u2500\u2500\u25b6\u2502   Enter     \u2502\u2500\u2500\u2500\u25b6\u2502    Test     \u2502                  \u2502\n  \u2502  \u2502    Page     \u2502    \u2502  Conn Info  \u2502    \u2502 Connection  \u2502                  \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n  \u2502                                               \u2502                          \u2502\n  \u2502                                   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n  \u2502                                   \u2502                       \u2502              \u2502\n  \u2502                              \u2705 Success              \u274c Failed           \u2502\n  \u2502                                   \u2502                       \u2502              \u2502\n  \u2502                              Save Source           Show Error            \u2502\n  \u2502                                   \u2502                       \u2502              \u2502\n  \u2502                                   \u25bc                       \u25bc              \u2502\n  \u2502                          Source Available         Fix &amp; Retry            \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502                          PHASE 2: MODELING                               \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                            \u2502                            \u2502\n        \u25bc                            \u25bc                            \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  2A. SCHEMA   \u2502          \u2502  2B. ERD      \u2502          \u2502  2C. SEMANTIC \u2502\n  \u2502  BROWSER      \u2502          \u2502  CANVAS       \u2502          \u2502  MODEL        \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                          \u2502                          \u2502\n          \u25bc                          \u25bc                          \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 View Schemas  \u2502          \u2502 Drag Tables   \u2502          \u2502 Add Dimensions\u2502\n  \u2502 View Tables   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502 to Canvas     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502 Add Measures  \u2502\n  \u2502 View Columns  \u2502          \u2502               \u2502          \u2502 Add CalcFields\u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502 Draw          \u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502 Relationships \u2502\n                             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  3. SAVE MODELS                                                          \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n  \u2502  \u2502 Save ERD    \u2502\u2500\u2500\u2500\u25b6\u2502 Save        \u2502\u2500\u2500\u2500\u25b6\u2502   Models    \u2502                  \u2502\n  \u2502  \u2502   Model     \u2502    \u2502 Semantic    \u2502    \u2502  Persisted  \u2502                  \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502                          PHASE 3: QUERY                                  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                                                         \u2502\n        \u25bc                                                         \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  4A. SEMANTIC QUERY       \u2502                    \u2502  4B. RAW SQL QUERY        \u2502\n  \u2502  (Business User Friendly) \u2502                    \u2502  (Technical User)         \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502                                                \u2502\n                \u25bc                                                \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Select Dimensions         \u2502                    \u2502 Write SQL                 \u2502\n  \u2502 Select Measures           \u2502                    \u2502 SELECT ...                \u2502\n  \u2502 Add Filters (optional)    \u2502                    \u2502 FROM ...                  \u2502\n  \u2502 Add Sorts (optional)      \u2502                    \u2502 WHERE ...                 \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502                                                \u2502\n                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  5. EXECUTE QUERY                                                        \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n  \u2502  \u2502   Build     \u2502\u2500\u2500\u2500\u25b6\u2502  Execute    \u2502\u2500\u2500\u2500\u25b6\u2502   Return    \u2502                  \u2502\n  \u2502  \u2502    SQL      \u2502    \u2502  on Source  \u2502    \u2502   Results   \u2502                  \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  6. VIEW RESULTS                                                         \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n  \u2502  \u2502   Table     \u2502    \u2502   Chart     \u2502    \u2502 Generated   \u2502                  \u2502\n  \u2502  \u2502    View     \u2502    \u2502    View     \u2502    \u2502    SQL      \u2502                  \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502                          PHASE 4: CONTRACT                               \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                                                         \u2502\n        \u25bc                                                         \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  7A. GENERATE CONTRACT    \u2502                    \u2502  7B. EDIT CONTRACT        \u2502\n  \u2502  (From Semantic Model)    \u2502                    \u2502  (Manual YAML Edit)       \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502                                                \u2502\n                \u25bc                                                \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Click \"Pull from Model\"   \u2502                    \u2502 Edit YAML in editor       \u2502\n  \u2502 YAML generated            \u2502                    \u2502 Click \"Push to Model\"     \u2502\n  \u2502 automatically             \u2502                    \u2502 Model updated             \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  8. BI TOOL INTEGRATION (Future)                                         \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n  \u2502  \u2502  Power BI   \u2502    \u2502  Tableau    \u2502    \u2502  Grafana    \u2502    \u2502 Metabase  \u2502 \u2502\n  \u2502  \u2502 Connector   \u2502    \u2502 Connector   \u2502    \u2502 Plugin      \u2502    \u2502 Driver    \u2502 \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"PROCESS_FLOW/#detailed-component-interactions","title":"\ud83d\udd04 Detailed Component Interactions","text":""},{"location":"PROCESS_FLOW/#schema-introspection-flow","title":"Schema Introspection Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        SCHEMA INTROSPECTION                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Schema  \u2502       \u2502  Backend \u2502       \u2502 Adapter  \u2502       \u2502 Database \u2502\n\u2502  Browser \u2502       \u2502    API   \u2502       \u2502 Layer    \u2502       \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502 GET /schemas     \u2502                  \u2502                  \u2502\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502                  \u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502                  \u2502 get_schemas()    \u2502                  \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502                  \u2502                  \u2502 SHOW SCHEMAS     \u2502\n     \u2502                  \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502                  \u2502                  \u2502 [iceberg_db,     \u2502\n     \u2502                  \u2502                  \u2502  default, ...]   \u2502\n     \u2502                  \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502                  \u2502 SchemaInfo[]     \u2502                  \u2502\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502 [{name: ...}]    \u2502                  \u2502                  \u2502\n     \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502                  \u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502 GET /tables      \u2502                  \u2502                  \u2502\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502                  \u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502                  \u2502 get_tables()     \u2502                  \u2502\n     \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502                  \u2502                  \u2502 SHOW TABLES      \u2502\n     \u2502                  \u2502                  \u2502 FROM schema      \u2502\n     \u2502                  \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502                  \u2502                  \u2502 [orders,         \u2502\n     \u2502                  \u2502                  \u2502  customers, ...] \u2502\n     \u2502                  \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502                  \u2502 TableInfo[]      \u2502                  \u2502\n     \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u2502 [{name, cols}]   \u2502                  \u2502                  \u2502\n     \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502                  \u2502\n     \u2502                  \u2502                  \u2502                  \u2502\n     \u25bc                  \u25bc                  \u25bc                  \u25bc\n</code></pre>"},{"location":"PROCESS_FLOW/#query-planning-flow","title":"Query Planning Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           QUERY PLANNING                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n                        INPUT                              OUTPUT\n               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n               \u2502   Semantic Query    \u2502           \u2502    Generated SQL    \u2502\n               \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502           \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n               \u2502 \u2502 dimensions:     \u2502 \u2502           \u2502 \u2502 SELECT          \u2502 \u2502\n               \u2502 \u2502  - customer_name\u2502 \u2502    \u2500\u2500\u2500\u25b6   \u2502 \u2502   c.name,       \u2502 \u2502\n               \u2502 \u2502  - product_cat  \u2502 \u2502           \u2502 \u2502   p.category,   \u2502 \u2502\n               \u2502 \u2502 measures:       \u2502 \u2502           \u2502 \u2502   SUM(o.amount) \u2502 \u2502\n               \u2502 \u2502  - total_sales  \u2502 \u2502           \u2502 \u2502 FROM orders o   \u2502 \u2502\n               \u2502 \u2502  - order_count  \u2502 \u2502           \u2502 \u2502 JOIN customers c\u2502 \u2502\n               \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502           \u2502 \u2502 JOIN products p \u2502 \u2502\n               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502 \u2502 GROUP BY 1, 2   \u2502 \u2502\n                                                 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n                                                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n                              QUERY PLANNER STEPS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nStep 1: Load Models\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    ERD Model    \u2502    \u2502 Semantic Model  \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502    \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502  Tables     \u2502 \u2502    \u2502 \u2502 Dimensions  \u2502 \u2502\n\u2502 \u2502  - orders   \u2502 \u2502    \u2502 \u2502 - cust_name \u2502 \u2502\n\u2502 \u2502  - customers\u2502 \u2502    \u2502 \u2502 - prod_cat  \u2502 \u2502\n\u2502 \u2502  - products \u2502 \u2502    \u2502 \u2502             \u2502 \u2502\n\u2502 \u2502             \u2502 \u2502    \u2502 \u2502 Measures    \u2502 \u2502\n\u2502 \u2502 Relations   \u2502 \u2502    \u2502 \u2502 - tot_sales \u2502 \u2502\n\u2502 \u2502  - o\u2192c      \u2502 \u2502    \u2502 \u2502 - ord_count \u2502 \u2502\n\u2502 \u2502  - o\u2192p      \u2502 \u2502    \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\nStep 2: Resolve Dimensions\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Dimension: \"customer_name\"                                                 \u2502\n\u2502  \u251c\u2500\u2500 Source Table: customers                                                \u2502\n\u2502  \u251c\u2500\u2500 Source Column: name                                                    \u2502\n\u2502  \u2514\u2500\u2500 Resolved: customers.`name` (or customers.\"name\" for PostgreSQL)       \u2502\n\u2502                                                                             \u2502\n\u2502  Dimension: \"product_category\"                                              \u2502\n\u2502  \u251c\u2500\u2500 Source Table: products                                                 \u2502\n\u2502  \u251c\u2500\u2500 Source Column: category                                                \u2502\n\u2502  \u2514\u2500\u2500 Resolved: products.`category`                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\nStep 3: Resolve Measures\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Measure: \"total_sales\"                                                     \u2502\n\u2502  \u251c\u2500\u2500 Expression: SUM(amount)                                                \u2502\n\u2502  \u251c\u2500\u2500 Source Table: orders                                                   \u2502\n\u2502  \u2514\u2500\u2500 Resolved: SUM(orders.`amount`)                                         \u2502\n\u2502                                                                             \u2502\n\u2502  Measure: \"order_count\"                                                     \u2502\n\u2502  \u251c\u2500\u2500 Expression: COUNT(*)                                                   \u2502\n\u2502  \u2514\u2500\u2500 Resolved: COUNT(*)                                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\nStep 4: Build FROM Clause with JOINs\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Tables Needed: {orders, customers, products}                               \u2502\n\u2502                                                                             \u2502\n\u2502  Primary Table: orders (first in dependency order)                          \u2502\n\u2502                                                                             \u2502\n\u2502  Join Path from ERD:                                                        \u2502\n\u2502    orders \u2500\u2500[order.customer_id = customers.id]\u2500\u2500\u25b6 customers                 \u2502\n\u2502    orders \u2500\u2500[order.product_id = products.id]\u2500\u2500\u25b6 products                    \u2502\n\u2502                                                                             \u2502\n\u2502  Generated:                                                                 \u2502\n\u2502    FROM orders                                                              \u2502\n\u2502    LEFT JOIN customers ON orders.customer_id = customers.id                 \u2502\n\u2502    LEFT JOIN products ON orders.product_id = products.id                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\nStep 5: Apply Database-Specific Quoting\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Source Type: starrocks                                                     \u2502\n\u2502  Quote Character: ` (backtick)                                              \u2502\n\u2502                                                                             \u2502\n\u2502  MySQL/StarRocks/ClickHouse: `column_name`                                  \u2502\n\u2502  PostgreSQL/DuckDB/Snowflake: \"column_name\"                                 \u2502\n\u2502  SQL Server: [column_name]                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\nStep 6: Assemble Final SQL\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  SELECT                                                                     \u2502\n\u2502    customers.`name` AS `customer_name`,                                     \u2502\n\u2502    products.`category` AS `product_category`,                               \u2502\n\u2502    SUM(orders.`amount`) AS `total_sales`,                                   \u2502\n\u2502    COUNT(*) AS `order_count`                                                \u2502\n\u2502  FROM orders                                                                \u2502\n\u2502  LEFT JOIN customers ON orders.`customer_id` = customers.`id`               \u2502\n\u2502  LEFT JOIN products ON orders.`product_id` = products.`id`                  \u2502\n\u2502  GROUP BY 1, 2                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"PROCESS_FLOW/#system-components-mapping","title":"\ud83c\udfe2 System Components Mapping","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         FRONTEND (React)                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  Pages/                          Components/                                 \u2502\n\u2502  \u251c\u2500\u2500 Dashboard.tsx               \u251c\u2500\u2500 Layout.tsx                             \u2502\n\u2502  \u251c\u2500\u2500 Sources.tsx                 \u2514\u2500\u2500 modeling/                              \u2502\n\u2502  \u251c\u2500\u2500 Datasets.tsx                    \u251c\u2500\u2500 SchemaPanel.tsx                    \u2502\n\u2502  \u251c\u2500\u2500 ModelingStudio.tsx              \u251c\u2500\u2500 ERDCanvas.tsx                      \u2502\n\u2502  \u251c\u2500\u2500 ContractEditor.tsx              \u251c\u2500\u2500 SemanticModelPanel.tsx             \u2502\n\u2502  \u251c\u2500\u2500 QueryPlayground.tsx             \u251c\u2500\u2500 QueryWorkbench.tsx                 \u2502\n\u2502  \u2514\u2500\u2500 SemanticModelDetail.tsx         \u2514\u2500\u2500 SourceConnectionDialog.tsx         \u2502\n\u2502                                                                              \u2502\n\u2502  Store/                          Lib/                                        \u2502\n\u2502  \u251c\u2500\u2500 modeling.ts (Zustand)       \u251c\u2500\u2500 api.ts (Base API client)               \u2502\n\u2502  \u2514\u2500\u2500 theme.ts                    \u251c\u2500\u2500 modeling-api.ts (Modeling API)         \u2502\n\u2502                                  \u2514\u2500\u2500 utils.ts                                \u2502\n\u2502                                                                              \u2502\n\u2502  Types/                                                                      \u2502\n\u2502  \u251c\u2500\u2500 index.ts                                                                \u2502\n\u2502  \u2514\u2500\u2500 modeling.ts                                                             \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                                    \u2502 HTTP (REST API)\n                                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         BACKEND (FastAPI)                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  main.py                         modeling/                                   \u2502\n\u2502  \u251c\u2500\u2500 App init                    \u251c\u2500\u2500 routes.py (API endpoints)              \u2502\n\u2502  \u251c\u2500\u2500 Router registration         \u251c\u2500\u2500 erd_manager.py (ERD CRUD)              \u2502\n\u2502  \u2514\u2500\u2500 Middleware setup            \u251c\u2500\u2500 semantic_model.py (Semantic CRUD)      \u2502\n\u2502                                  \u251c\u2500\u2500 query_planner.py (SQL generation)      \u2502\n\u2502                                  \u2514\u2500\u2500 schema_introspection.py                \u2502\n\u2502                                                                              \u2502\n\u2502  sources.py                      adapters/                                   \u2502\n\u2502  \u251c\u2500\u2500 register_source()           \u251c\u2500\u2500 base.py (Interface)                    \u2502\n\u2502  \u251c\u2500\u2500 list_sources()              \u251c\u2500\u2500 factory.py (Adapter factory)           \u2502\n\u2502  \u2514\u2500\u2500 get_source()                \u251c\u2500\u2500 mysql_adapter.py                       \u2502\n\u2502                                  \u251c\u2500\u2500 postgres_adapter.py                    \u2502\n\u2502  catalog.py                      \u251c\u2500\u2500 duckdb_adapter.py                      \u2502\n\u2502  \u251c\u2500\u2500 load_catalog()              \u251c\u2500\u2500 snowflake_adapter.py                   \u2502\n\u2502  \u2514\u2500\u2500 get_dataset()               \u2514\u2500\u2500 ... (12+ adapters)                     \u2502\n\u2502                                                                              \u2502\n\u2502  Cross-cutting:                                                              \u2502\n\u2502  \u251c\u2500\u2500 security.py (Auth)                                                      \u2502\n\u2502  \u251c\u2500\u2500 cache.py (Redis)                                                        \u2502\n\u2502  \u251c\u2500\u2500 rate_limit.py                                                           \u2502\n\u2502  \u2514\u2500\u2500 errors.py (Exception handling)                                          \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                                    \u2502 Native protocols\n                                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         DATA SOURCES                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502  \u2502PostgreSQL\u2502 \u2502  MySQL  \u2502 \u2502StarRocks\u2502 \u2502ClickHouse\u2502 \u2502Snowflake\u2502             \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502  \u2502BigQuery \u2502 \u2502 DuckDB  \u2502 \u2502Databricks\u2502 \u2502  Trino  \u2502 \u2502SQLServer\u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"PROCESS_FLOW/#validation-checkpoints","title":"\u2705 Validation Checkpoints","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        VALIDATION POINTS                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n1. SOURCE CONNECTION VALIDATION\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502 \u2713 Host/port reachable?                                          \u2502\n   \u2502 \u2713 Credentials valid?                                            \u2502\n   \u2502 \u2713 Database/catalog exists?                                      \u2502\n   \u2502 \u2713 User has required permissions?                                \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n2. DIMENSION VALIDATION (AddFieldDialog)\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502 \u2713 Name is unique in model?                                      \u2502\n   \u2502 \u2713 Source table exists in ERD?                                   \u2502\n   \u2502 \u2713 Source column exists in table?                                \u2502\n   \u2502 \u2713 Dimension type compatible with column data type?              \u2502\n   \u2502   - String column \u2192 categorical \u2713                               \u2502\n   \u2502   - Date column \u2192 time \u2713                                        \u2502\n   \u2502   - String column \u2192 time \u2717 (invalid cast)                       \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n3. MEASURE VALIDATION\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502 \u2713 Name is unique in model?                                      \u2502\n   \u2502 \u2713 Expression is valid SQL?                                      \u2502\n   \u2502 \u2713 Aggregation type is specified?                                \u2502\n   \u2502 \u2713 Referenced columns exist?                                     \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n4. QUERY VALIDATION\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502 \u2713 ERD model selected?                                           \u2502\n   \u2502 \u2713 Semantic model selected?                                      \u2502\n   \u2502 \u2713 At least one dimension or measure selected?                   \u2502\n   \u2502 \u2713 ERD has tables?                                               \u2502\n   \u2502 \u2713 Semantic model has dimensions/measures?                       \u2502\n   \u2502 \u2713 Requested dims/measures exist in model?                       \u2502\n   \u2502 \u2713 Join path exists between required tables?                     \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n5. CONTRACT VALIDATION\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502 \u2713 YAML is syntactically valid?                                  \u2502\n   \u2502 \u2713 Required fields present (name, source)?                       \u2502\n   \u2502 \u2713 Dimensions/metrics have valid references?                     \u2502\n   \u2502 \u2713 Data types are recognized?                                    \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"PROCESS_FLOW/#state-management-flow","title":"\ud83d\udd01 State Management Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        ZUSTAND STATE STORE                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n                         store/modeling.ts\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                              \u2502\n\u2502  State                              Actions                                  \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500                              \u2500\u2500\u2500\u2500\u2500\u2500\u2500                                  \u2502\n\u2502  activeSourceId                     setActiveSource()                        \u2502\n\u2502  activeERDId                        setActiveERD()                           \u2502\n\u2502  activeSemanticId                   setActiveSemantic()                      \u2502\n\u2502                                                                              \u2502\n\u2502  erdModels: ERDModel[]              addERDModel()                            \u2502\n\u2502                                     updateERDModel()                         \u2502\n\u2502                                     removeERDModel()                         \u2502\n\u2502                                                                              \u2502\n\u2502  semanticModels: SemanticModel[]    addSemanticModel()                       \u2502\n\u2502                                     updateSemanticModel()                    \u2502\n\u2502                                     addDimension()                           \u2502\n\u2502                                     updateDimension()                        \u2502\n\u2502                                     removeDimension()                        \u2502\n\u2502                                     addMeasure()                             \u2502\n\u2502                                     updateMeasure()                          \u2502\n\u2502                                     removeMeasure()                          \u2502\n\u2502                                                                              \u2502\n\u2502  queryWorkbench: {                  setQueryMode()                           \u2502\n\u2502    mode: 'semantic' | 'sql'         setSqlText()                             \u2502\n\u2502    selectedDimensions: string[]     toggleDimension()                        \u2502\n\u2502    selectedMeasures: string[]       toggleMeasure()                          \u2502\n\u2502    sqlText: string                  setQueryResult()                         \u2502\n\u2502    queryResult: QueryResult | null  setQueryError()                          \u2502\n\u2502    queryError: string | null        clearQueryState()                        \u2502\n\u2502  }                                                                           \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                                    \u2502 React hooks\n                                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        COMPONENTS                                            \u2502\n\u2502                                                                              \u2502\n\u2502  const { activeSourceId, setActiveSource } = useModelingStore();             \u2502\n\u2502  const { data: erdModels } = useQuery(['erd-models', sourceId], ...);        \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Document generated: January 2026 Version: 1.0</p>"},{"location":"api-reference/","title":"API Reference","text":"<p>Complete API documentation for SetuPranali.</p>"},{"location":"api-reference/#endpoints","title":"Endpoints","text":""},{"location":"api-reference/#core-apis","title":"Core APIs","text":"Endpoint Method Description <code>/v1/query</code> POST Execute semantic query <code>/v1/graphql</code> POST GraphQL API for flexible queries <code>/v1/sql</code> POST SQL queries with automatic RLS <code>/v1/nlq</code> POST Natural language to query translation <code>/odata/{dataset}</code> GET OData feed for Power BI/Excel"},{"location":"api-reference/#management-apis","title":"Management APIs","text":"Endpoint Method Description <code>/v1/sources</code> GET/POST/DELETE Manage data sources <code>/v1/datasets</code> GET List all datasets <code>/v1/introspection/datasets</code> GET Schema introspection <code>/v1/introspection/openapi</code> GET OpenAPI schema export <code>/v1/health</code> GET Health check"},{"location":"api-reference/#query-api-comparison","title":"Query API Comparison","text":"API Best For Features Query API Semantic queries Dimensions, metrics, filters GraphQL Flexible queries Typed schema, introspection SQL Direct SQL Full SQL with auto-RLS NLQ Natural language AI-powered query translation OData Power BI, Excel Native BI tool refresh"},{"location":"api-reference/#authentication","title":"Authentication","text":"<p>All endpoints require API key authentication:</p> <pre><code>-H \"X-API-Key: your-api-key\"\n</code></pre> <p>See Authentication for details.</p>"},{"location":"api-reference/#quick-reference","title":"Quick Reference","text":""},{"location":"api-reference/#query-data","title":"Query Data","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\"]\n  }'\n</code></pre>"},{"location":"api-reference/#odata-feed","title":"OData Feed","text":"<pre><code>curl http://localhost:8080/odata/sales \\\n  -H \"X-API-Key: your-key\"\n</code></pre>"},{"location":"api-reference/#list-sources","title":"List Sources","text":"<pre><code>curl http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\"\n</code></pre>"},{"location":"api-reference/#response-format","title":"Response Format","text":""},{"location":"api-reference/#success","title":"Success","text":"<pre><code>{\n  \"columns\": [...],\n  \"rows\": [...],\n  \"stats\": {\n    \"rowCount\": 100,\n    \"executionTimeMs\": 45,\n    \"cached\": false\n  }\n}\n</code></pre>"},{"location":"api-reference/#error","title":"Error","text":"<pre><code>{\n  \"detail\": \"Error message\",\n  \"code\": \"ERROR_CODE\"\n}\n</code></pre>"},{"location":"api-reference/#http-status-codes","title":"HTTP Status Codes","text":"Code Description 200 Success 400 Bad request (invalid parameters) 401 Unauthorized (invalid API key) 404 Not found (dataset/source) 429 Rate limited 500 Server error"},{"location":"api-reference/#sdks-libraries","title":"SDKs &amp; Libraries","text":"<p>For easier integration, use our official SDKs:</p> SDK Language Installation Python SDK Python 3.9+ <code>pip install setupranali</code> JavaScript SDK Node.js/Browser <code>npm install @setupranali/client</code> Jupyter Widget Jupyter Included in Python SDK"},{"location":"api-reference/#interactive-documentation","title":"Interactive Documentation","text":"<p>API documentation is available at:</p> <pre><code>http://localhost:8080/docs     # Swagger UI\nhttp://localhost:8080/redoc    # ReDoc\nhttp://localhost:8080/graphql  # GraphQL Playground\n</code></pre>"},{"location":"api-reference/advanced/","title":"Advanced API Features","text":"<p>Advanced API capabilities for streaming, batch queries, and JSON:API compliance.</p>"},{"location":"api-reference/advanced/#streaming-responses","title":"Streaming Responses","text":"<p>Stream large result sets without loading everything into memory.</p>"},{"location":"api-reference/advanced/#sse-server-sent-events","title":"SSE (Server-Sent Events)","text":"<pre><code>curl -N \"http://localhost:8080/v1/stream\" \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Accept: text/event-stream\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"order_date\", \"region\"],\n    \"metrics\": [\"revenue\", \"order_count\"],\n    \"format\": \"ndjson\",\n    \"chunk_size\": 1000\n  }'\n</code></pre> <p>Response (SSE format):</p> <pre><code>event: metadata\ndata: {\"stream_id\":\"stream_1703851200000\",\"dataset\":\"orders\",\"chunk_size\":1000}\n\nevent: data\ndata: {\"order_date\":\"2025-01-01\",\"region\":\"US\",\"revenue\":15000,\"order_count\":120}\n\nevent: data\ndata: {\"order_date\":\"2025-01-01\",\"region\":\"EU\",\"revenue\":12000,\"order_count\":95}\n\nevent: progress\ndata: {\"chunks_sent\":1,\"rows_sent\":1000,\"percent_complete\":10.5}\n\nevent: complete\ndata: {\"stream_id\":\"stream_1703851200000\",\"total_chunks\":10,\"total_rows\":9523}\n</code></pre>"},{"location":"api-reference/advanced/#stream-formats","title":"Stream Formats","text":"Format Content-Type Description <code>ndjson</code> <code>application/x-ndjson</code> Newline-delimited JSON (default) <code>json</code> <code>application/json</code> JSON array chunks <code>csv</code> <code>text/csv</code> CSV format <code>sse</code> <code>text/event-stream</code> Server-Sent Events"},{"location":"api-reference/advanced/#websocket-streaming","title":"WebSocket Streaming","text":"<pre><code>const ws = new WebSocket('ws://localhost:8080/v1/ws');\n\nws.onopen = () =&gt; {\n  ws.send(JSON.stringify({\n    type: 'query',\n    payload: {\n      dataset: 'orders',\n      dimensions: ['region'],\n      metrics: ['revenue'],\n      chunk_size: 500\n    }\n  }));\n};\n\nws.onmessage = (event) =&gt; {\n  const message = JSON.parse(event.data);\n\n  switch (message.type) {\n    case 'stream_started':\n      console.log('Streaming:', message.stream_id);\n      break;\n    case 'data':\n      console.log('Chunk:', message.chunk_number, message.rows);\n      break;\n    case 'complete':\n      console.log('Done:', message.total_rows, 'rows');\n      break;\n    case 'error':\n      console.error('Error:', message.message);\n      break;\n  }\n};\n</code></pre>"},{"location":"api-reference/advanced/#python-streaming","title":"Python Streaming","text":"<pre><code>import httpx\n\nasync def stream_query():\n    async with httpx.AsyncClient() as client:\n        async with client.stream(\n            'POST',\n            'http://localhost:8080/v1/stream',\n            headers={'X-API-Key': 'your-key'},\n            json={\n                'dataset': 'orders',\n                'dimensions': ['region'],\n                'metrics': ['revenue'],\n                'format': 'ndjson'\n            }\n        ) as response:\n            async for line in response.aiter_lines():\n                if line:\n                    print(line)\n</code></pre>"},{"location":"api-reference/advanced/#stream-configuration","title":"Stream Configuration","text":"Parameter Default Description <code>format</code> <code>ndjson</code> Output format <code>chunk_size</code> <code>1000</code> Rows per chunk <code>include_metadata</code> <code>true</code> Include stream metadata <code>include_progress</code> <code>true</code> Include progress updates"},{"location":"api-reference/advanced/#batch-queries","title":"Batch Queries","text":"<p>Execute multiple queries in a single request.</p>"},{"location":"api-reference/advanced/#basic-batch","title":"Basic Batch","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/batch\" \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"queries\": [\n      {\n        \"id\": \"daily_revenue\",\n        \"dataset\": \"orders\",\n        \"dimensions\": [\"order_date\"],\n        \"metrics\": [\"revenue\"]\n      },\n      {\n        \"id\": \"regional_sales\",\n        \"dataset\": \"orders\",\n        \"dimensions\": [\"region\"],\n        \"metrics\": [\"order_count\"]\n      },\n      {\n        \"id\": \"top_products\",\n        \"dataset\": \"products\",\n        \"dimensions\": [\"product_name\"],\n        \"metrics\": [\"sales\"],\n        \"limit\": 10\n      }\n    ],\n    \"parallel\": true\n  }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"batch_id\": \"batch_1703851200000\",\n  \"success\": true,\n  \"summary\": {\n    \"total\": 3,\n    \"successful\": 3,\n    \"failed\": 0\n  },\n  \"results\": {\n    \"daily_revenue\": {\n      \"success\": true,\n      \"data\": [\n        {\"order_date\": \"2025-01-01\", \"revenue\": 45000},\n        {\"order_date\": \"2025-01-02\", \"revenue\": 52000}\n      ],\n      \"rows\": 365,\n      \"cache_hit\": true,\n      \"duration_ms\": 45.2\n    },\n    \"regional_sales\": {\n      \"success\": true,\n      \"data\": [\n        {\"region\": \"US\", \"order_count\": 15000},\n        {\"region\": \"EU\", \"order_count\": 12000}\n      ],\n      \"rows\": 5,\n      \"cache_hit\": false,\n      \"duration_ms\": 120.5\n    },\n    \"top_products\": {\n      \"success\": true,\n      \"data\": [...],\n      \"rows\": 10,\n      \"cache_hit\": false,\n      \"duration_ms\": 85.3\n    }\n  },\n  \"metadata\": {\n    \"started_at\": \"2025-12-29T10:30:00.000Z\",\n    \"completed_at\": \"2025-12-29T10:30:00.250Z\",\n    \"total_duration_ms\": 250.5,\n    \"execution_order\": [\"daily_revenue\", \"regional_sales\", \"top_products\"],\n    \"parallel_groups\": [[\"daily_revenue\", \"regional_sales\", \"top_products\"]]\n  }\n}\n</code></pre>"},{"location":"api-reference/advanced/#query-dependencies","title":"Query Dependencies","text":"<p>Execute queries that depend on results from previous queries:</p> <pre><code>{\n  \"queries\": [\n    {\n      \"id\": \"top_regions\",\n      \"dataset\": \"orders\",\n      \"dimensions\": [\"region\"],\n      \"metrics\": [\"revenue\"],\n      \"order_by\": [\"-revenue\"],\n      \"limit\": 3\n    },\n    {\n      \"id\": \"top_region_products\",\n      \"dataset\": \"orders\",\n      \"dimensions\": [\"product_category\"],\n      \"metrics\": [\"revenue\"],\n      \"filters\": {\n        \"region\": \"$ref:top_regions[0].region\"\n      },\n      \"depends_on\": [\"top_regions\"]\n    }\n  ]\n}\n</code></pre>"},{"location":"api-reference/advanced/#mixed-operations","title":"Mixed Operations","text":"<p>Combine different operation types:</p> <pre><code>{\n  \"queries\": [\n    {\n      \"id\": \"semantic_query\",\n      \"operation\": \"query\",\n      \"dataset\": \"orders\",\n      \"dimensions\": [\"region\"],\n      \"metrics\": [\"revenue\"]\n    },\n    {\n      \"id\": \"sql_query\",\n      \"operation\": \"sql\",\n      \"sql\": \"SELECT COUNT(*) as total FROM orders WHERE status = 'completed'\"\n    },\n    {\n      \"id\": \"nl_query\",\n      \"operation\": \"nlq\",\n      \"question\": \"What was total revenue last month?\"\n    },\n    {\n      \"id\": \"schema_info\",\n      \"operation\": \"introspect\",\n      \"introspect_type\": \"datasets\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api-reference/advanced/#batch-options","title":"Batch Options","text":"Option Default Description <code>parallel</code> <code>true</code> Execute queries in parallel <code>stop_on_error</code> <code>false</code> Stop on first error <code>transaction</code> <code>false</code> Execute as transaction <code>include_metadata</code> <code>true</code> Include timing metadata"},{"location":"api-reference/advanced/#error-handling","title":"Error Handling","text":"<pre><code>{\n  \"batch_id\": \"batch_1703851200000\",\n  \"success\": false,\n  \"summary\": {\n    \"total\": 3,\n    \"successful\": 2,\n    \"failed\": 1\n  },\n  \"results\": {\n    \"query1\": {\n      \"success\": true,\n      \"data\": [...]\n    },\n    \"query2\": {\n      \"success\": false,\n      \"error\": \"Dataset 'invalid' not found\",\n      \"error_code\": \"ERR_2001\"\n    },\n    \"query3\": {\n      \"success\": true,\n      \"data\": [...]\n    }\n  }\n}\n</code></pre>"},{"location":"api-reference/advanced/#jsonapi-compliance","title":"JSON:API Compliance","text":"<p>Standardized REST responses following JSON:API v1.1.</p>"},{"location":"api-reference/advanced/#enable-jsonapi-format","title":"Enable JSON:API Format","text":"<pre><code>curl \"http://localhost:8080/v1/datasets\" \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Accept: application/vnd.api+json\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"jsonapi\": {\"version\": \"1.1\"},\n  \"data\": [\n    {\n      \"type\": \"dataset\",\n      \"id\": \"orders\",\n      \"attributes\": {\n        \"name\": \"Orders\",\n        \"description\": \"Order-level facts\",\n        \"tags\": [\"sales\", \"core\"]\n      },\n      \"relationships\": {\n        \"dimensions\": {\n          \"data\": [\n            {\"type\": \"dimension\", \"id\": \"orders_dim_order_date\"},\n            {\"type\": \"dimension\", \"id\": \"orders_dim_region\"}\n          ]\n        },\n        \"metrics\": {\n          \"data\": [\n            {\"type\": \"metric\", \"id\": \"orders_met_revenue\"},\n            {\"type\": \"metric\", \"id\": \"orders_met_order_count\"}\n          ]\n        }\n      },\n      \"links\": {\n        \"self\": \"/v1/datasets/orders\"\n      }\n    }\n  ],\n  \"links\": {\n    \"self\": \"/v1/datasets?page[number]=1&amp;page[size]=25\",\n    \"first\": \"/v1/datasets?page[number]=1&amp;page[size]=25\",\n    \"last\": \"/v1/datasets?page[number]=1&amp;page[size]=25\"\n  },\n  \"meta\": {\n    \"total\": 5,\n    \"page\": 1,\n    \"pageSize\": 25,\n    \"totalPages\": 1\n  }\n}\n</code></pre>"},{"location":"api-reference/advanced/#pagination","title":"Pagination","text":"<pre><code># Page-based pagination\ncurl \"http://localhost:8080/v1/datasets?page[number]=2&amp;page[size]=10\"\n\n# Or simple style\ncurl \"http://localhost:8080/v1/datasets?page=2&amp;limit=10\"\n</code></pre>"},{"location":"api-reference/advanced/#sorting","title":"Sorting","text":"<pre><code># Sort ascending\ncurl \"http://localhost:8080/v1/query?sort=order_date\"\n\n# Sort descending\ncurl \"http://localhost:8080/v1/query?sort=-revenue\"\n\n# Multiple fields\ncurl \"http://localhost:8080/v1/query?sort=-revenue,order_date\"\n</code></pre>"},{"location":"api-reference/advanced/#filtering","title":"Filtering","text":"<pre><code># Filter by field\ncurl \"http://localhost:8080/v1/query?filter[region]=US\"\n\n# Multiple filters\ncurl \"http://localhost:8080/v1/query?filter[region]=US&amp;filter[status]=completed\"\n</code></pre>"},{"location":"api-reference/advanced/#sparse-fieldsets","title":"Sparse Fieldsets","text":"<p>Request only specific attributes:</p> <pre><code>curl \"http://localhost:8080/v1/datasets?fields[dataset]=name,description\"\n</code></pre>"},{"location":"api-reference/advanced/#including-related-resources","title":"Including Related Resources","text":"<pre><code>curl \"http://localhost:8080/v1/datasets/orders?include=dimensions,metrics\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"data\": {\n    \"type\": \"dataset\",\n    \"id\": \"orders\",\n    \"attributes\": {...},\n    \"relationships\": {...}\n  },\n  \"included\": [\n    {\n      \"type\": \"dimension\",\n      \"id\": \"orders_dim_order_date\",\n      \"attributes\": {\n        \"name\": \"order_date\",\n        \"type\": \"date\"\n      }\n    },\n    {\n      \"type\": \"metric\",\n      \"id\": \"orders_met_revenue\",\n      \"attributes\": {\n        \"name\": \"revenue\",\n        \"type\": \"number\",\n        \"aggregation\": \"sum\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"api-reference/advanced/#jsonapi-errors","title":"JSON:API Errors","text":"<pre><code>{\n  \"jsonapi\": {\"version\": \"1.1\"},\n  \"errors\": [\n    {\n      \"id\": \"abc123def456\",\n      \"status\": \"404\",\n      \"code\": \"ERR_2001\",\n      \"title\": \"Not Found\",\n      \"detail\": \"Dataset 'invalid' not found\",\n      \"source\": {\n        \"parameter\": \"dataset\"\n      },\n      \"meta\": {\n        \"suggestion\": \"Check that 'invalid' is defined in catalog.yaml\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"api-reference/advanced/#query-results-in-jsonapi","title":"Query Results in JSON:API","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/query\" \\\n  -H \"Accept: application/vnd.api+json\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"orders\", \"dimensions\": [\"region\"], \"metrics\": [\"revenue\"]}'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"jsonapi\": {\"version\": \"1.1\"},\n  \"data\": [\n    {\n      \"type\": \"orders_result\",\n      \"id\": \"abc123\",\n      \"attributes\": {\n        \"region\": \"US\",\n        \"revenue\": 150000\n      },\n      \"meta\": {\"index\": 0}\n    },\n    {\n      \"type\": \"orders_result\",\n      \"id\": \"def456\",\n      \"attributes\": {\n        \"region\": \"EU\",\n        \"revenue\": 120000\n      },\n      \"meta\": {\"index\": 1}\n    }\n  ],\n  \"meta\": {\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\"],\n    \"cacheHit\": true,\n    \"durationMs\": 45.2,\n    \"total\": 5\n  },\n  \"links\": {\n    \"self\": \"/v1/query?page[number]=1&amp;page[size]=25\"\n  }\n}\n</code></pre>"},{"location":"api-reference/advanced/#configuration","title":"Configuration","text":""},{"location":"api-reference/advanced/#environment-variables","title":"Environment Variables","text":"Variable Default Description <code>STREAM_ENABLED</code> <code>true</code> Enable streaming <code>STREAM_CHUNK_SIZE</code> <code>1000</code> Default chunk size <code>STREAM_MAX_ROWS</code> <code>1000000</code> Max streaming rows <code>STREAM_TIMEOUT</code> <code>300</code> Stream timeout (seconds) <code>BATCH_ENABLED</code> <code>true</code> Enable batch queries <code>BATCH_MAX_QUERIES</code> <code>20</code> Max queries per batch <code>BATCH_MAX_PARALLEL</code> <code>5</code> Max parallel executions <code>BATCH_TIMEOUT</code> <code>300</code> Batch timeout (seconds) <code>JSONAPI_ENABLED</code> <code>true</code> Enable JSON:API <code>JSONAPI_DEFAULT_PAGE_SIZE</code> <code>25</code> Default page size <code>JSONAPI_MAX_PAGE_SIZE</code> <code>1000</code> Max page size"},{"location":"api-reference/advanced/#helm-configuration","title":"Helm Configuration","text":"<pre><code># values.yaml\napi:\n  streaming:\n    enabled: true\n    chunkSize: 1000\n    maxRows: 1000000\n    timeoutSeconds: 300\n\n  batch:\n    enabled: true\n    maxQueries: 20\n    maxParallel: 5\n    timeoutSeconds: 300\n\n  jsonapi:\n    enabled: true\n    defaultPageSize: 25\n    maxPageSize: 1000\n</code></pre>"},{"location":"api-reference/advanced/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/advanced/#streaming","title":"Streaming","text":"<ol> <li>Use for large datasets: Stream when expecting &gt;10,000 rows</li> <li>Choose right format: NDJSON for processing, CSV for exports</li> <li>Handle disconnects: Implement retry logic for long streams</li> <li>Monitor progress: Use progress events for UI feedback</li> </ol>"},{"location":"api-reference/advanced/#batch-queries_1","title":"Batch Queries","text":"<ol> <li>Group related queries: Reduce HTTP overhead</li> <li>Use dependencies wisely: Only when results are needed</li> <li>Enable parallel: Default parallel=true for speed</li> <li>Handle partial failures: Check individual query success</li> </ol>"},{"location":"api-reference/advanced/#jsonapi","title":"JSON:API","text":"<ol> <li>Use sparse fieldsets: Request only needed fields</li> <li>Include related resources: Reduce additional requests</li> <li>Implement pagination: Use cursor for large datasets</li> <li>Follow spec: Use proper Content-Type headers</li> </ol>"},{"location":"api-reference/authentication/","title":"Authentication","text":"<p>API key authentication for SetuPranali.</p>"},{"location":"api-reference/authentication/#overview","title":"Overview","text":"<p>All API requests require authentication via API key.</p> <pre><code>curl http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\"\n</code></pre>"},{"location":"api-reference/authentication/#api-key-header","title":"API Key Header","text":"<p>Include the API key in the <code>X-API-Key</code> header:</p> <pre><code>X-API-Key: pk_tenant_abc123\n</code></pre>"},{"location":"api-reference/authentication/#key-types","title":"Key Types","text":"Role Purpose RLS Management <code>admin</code> Full access Bypassed Yes <code>analyst</code> Query data Applied No <code>viewer</code> Read-only Applied No"},{"location":"api-reference/authentication/#obtaining-api-keys","title":"Obtaining API Keys","text":""},{"location":"api-reference/authentication/#from-configuration","title":"From Configuration","text":"<p>Keys are defined in configuration:</p> <pre><code>api_keys:\n  - key: \"admin-key-xxxxx\"\n    role: admin\n\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    role: analyst\n</code></pre>"},{"location":"api-reference/authentication/#from-admin","title":"From Admin","text":"<p>Contact your platform administrator for API keys.</p>"},{"location":"api-reference/authentication/#using-api-keys","title":"Using API Keys","text":""},{"location":"api-reference/authentication/#rest-api","title":"REST API","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_tenant_abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"sales\", \"metrics\": [\"revenue\"]}'\n</code></pre>"},{"location":"api-reference/authentication/#power-bi","title":"Power BI","text":"<ol> <li>Go to Advanced options</li> <li>Add HTTP header:</li> <li>Name: <code>X-API-Key</code></li> <li>Value: <code>pk_tenant_abc123</code></li> </ol>"},{"location":"api-reference/authentication/#tableau","title":"Tableau","text":"<p>Enter API key in Web Data Connector authentication field.</p>"},{"location":"api-reference/authentication/#python","title":"Python","text":"<pre><code>import requests\n\nresponse = requests.post(\n    \"http://localhost:8080/v1/query\",\n    headers={\"X-API-Key\": \"pk_tenant_abc123\"},\n    json={\"dataset\": \"sales\", \"metrics\": [\"revenue\"]}\n)\n</code></pre>"},{"location":"api-reference/authentication/#error-responses","title":"Error Responses","text":""},{"location":"api-reference/authentication/#missing-api-key","title":"Missing API Key","text":"<pre><code>{\n  \"detail\": \"API key required\"\n}\n</code></pre> <p>HTTP Status: <code>401 Unauthorized</code></p>"},{"location":"api-reference/authentication/#invalid-api-key","title":"Invalid API Key","text":"<pre><code>{\n  \"detail\": \"Invalid API key\"\n}\n</code></pre> <p>HTTP Status: <code>401 Unauthorized</code></p>"},{"location":"api-reference/authentication/#insufficient-permissions","title":"Insufficient Permissions","text":"<pre><code>{\n  \"detail\": \"Admin API key required\"\n}\n</code></pre> <p>HTTP Status: <code>403 Forbidden</code></p>"},{"location":"api-reference/authentication/#health-check","title":"Health Check","text":"<p>The health endpoint does not require authentication:</p> <pre><code>curl http://localhost:8080/health\n</code></pre> <p>Response:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"version\": \"1.0.0\",\n  \"redis\": \"connected\"\n}\n</code></pre>"},{"location":"api-reference/authentication/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/authentication/#1-keep-keys-secret","title":"1. Keep Keys Secret","text":"<ul> <li>Never commit keys to git</li> <li>Use environment variables</li> <li>Don't log API keys</li> </ul>"},{"location":"api-reference/authentication/#2-use-appropriate-scope","title":"2. Use Appropriate Scope","text":"<ul> <li>Use analyst keys for BI tools</li> <li>Reserve admin keys for management</li> <li>Create per-tenant keys for RLS</li> </ul>"},{"location":"api-reference/authentication/#3-rotate-regularly","title":"3. Rotate Regularly","text":"<ul> <li>Rotate keys quarterly</li> <li>Revoke compromised keys immediately</li> <li>Maintain key inventory</li> </ul>"},{"location":"api-reference/authentication/#4-monitor-usage","title":"4. Monitor Usage","text":"<p>Track API key usage for: - Unusual activity - Rate limit hits - Failed authentications</p>"},{"location":"api-reference/authentication/#troubleshooting","title":"Troubleshooting","text":""},{"location":"api-reference/authentication/#api-key-required","title":"\"API key required\"","text":"<p>Cause: X-API-Key header missing</p> <p>Solution: Add header to request</p> <pre><code>-H \"X-API-Key: your-key\"\n</code></pre>"},{"location":"api-reference/authentication/#invalid-api-key_1","title":"\"Invalid API key\"","text":"<p>Cause: Key doesn't exist or is revoked</p> <p>Solution: Verify key is in configuration</p>"},{"location":"api-reference/authentication/#admin-api-key-required","title":"\"Admin API key required\"","text":"<p>Cause: Non-admin key used for admin endpoint</p> <p>Solution: Use admin key for source management</p>"},{"location":"api-reference/graphql/","title":"GraphQL API","text":"<p>SetuPranali provides a GraphQL API as an alternative to REST for querying the semantic layer.</p>"},{"location":"api-reference/graphql/#endpoint","title":"Endpoint","text":"<pre><code>POST /v1/graphql\n</code></pre>"},{"location":"api-reference/graphql/#graphql-playground","title":"GraphQL Playground","text":"<p>Access the interactive GraphQL IDE at:</p> <pre><code>http://localhost:8080/v1/graphql\n</code></pre>"},{"location":"api-reference/graphql/#authentication","title":"Authentication","text":"<p>Pass your API key in the request headers:</p> <pre><code>X-API-Key: your-api-key\n</code></pre>"},{"location":"api-reference/graphql/#schema","title":"Schema","text":""},{"location":"api-reference/graphql/#queries","title":"Queries","text":""},{"location":"api-reference/graphql/#health","title":"<code>health</code>","text":"<p>Get system health status.</p> <pre><code>query {\n  health {\n    status\n    version\n    cacheEnabled\n    redisAvailable\n  }\n}\n</code></pre>"},{"location":"api-reference/graphql/#datasets","title":"<code>datasets</code>","text":"<p>List all available datasets.</p> <pre><code>query {\n  datasets {\n    id\n    name\n    description\n    tags\n  }\n}\n</code></pre>"},{"location":"api-reference/graphql/#datasetid-string","title":"<code>dataset(id: String!)</code>","text":"<p>Get details of a specific dataset.</p> <pre><code>query {\n  dataset(id: \"orders\") {\n    id\n    name\n    description\n    source\n    tags\n    dimensions {\n      name\n      label\n      type\n      description\n    }\n    metrics {\n      name\n      label\n      type\n      sql\n      description\n    }\n    defaultTimezone\n  }\n}\n</code></pre>"},{"location":"api-reference/graphql/#queryinput-queryinput","title":"<code>query(input: QueryInput!)</code>","text":"<p>Execute a semantic query.</p> <pre><code>query GetRevenue($input: QueryInput!) {\n  query(input: $input) {\n    columns {\n      name\n      type\n    }\n    data\n    rowCount\n    cached\n    executionTimeMs\n  }\n}\n</code></pre> <p>Variables: <pre><code>{\n  \"input\": {\n    \"dataset\": \"orders\",\n    \"dimensions\": [{ \"name\": \"city\" }],\n    \"metrics\": [{ \"name\": \"total_revenue\" }],\n    \"filters\": [\n      { \"field\": \"order_date\", \"operator\": \"gte\", \"value\": \"2024-01-01\" }\n    ],\n    \"limit\": 100\n  }\n}\n</code></pre></p>"},{"location":"api-reference/graphql/#input-types","title":"Input Types","text":""},{"location":"api-reference/graphql/#queryinput","title":"QueryInput","text":"<pre><code>input QueryInput {\n  dataset: String!\n  dimensions: [DimensionInput!]\n  metrics: [MetricInput!]\n  filters: [FilterInput!]\n  orderBy: [OrderByInput!]\n  limit: Int = 1000\n  offset: Int = 0\n}\n</code></pre>"},{"location":"api-reference/graphql/#dimensioninput","title":"DimensionInput","text":"<pre><code>input DimensionInput {\n  name: String!\n}\n</code></pre>"},{"location":"api-reference/graphql/#metricinput","title":"MetricInput","text":"<pre><code>input MetricInput {\n  name: String!\n}\n</code></pre>"},{"location":"api-reference/graphql/#filterinput","title":"FilterInput","text":"<pre><code>input FilterInput {\n  field: String!\n  operator: String!  # eq, ne, gt, gte, lt, lte, in, between, like\n  value: JSON!\n}\n</code></pre>"},{"location":"api-reference/graphql/#orderbyinput","title":"OrderByInput","text":"<pre><code>input OrderByInput {\n  field: String!\n  direction: String = \"asc\"  # asc or desc\n}\n</code></pre>"},{"location":"api-reference/graphql/#mutations","title":"Mutations","text":""},{"location":"api-reference/graphql/#refreshcachedatasetid-string","title":"<code>refreshCache(datasetId: String!)</code>","text":"<p>Invalidate cache for a dataset. Requires admin role.</p> <pre><code>mutation {\n  refreshCache(datasetId: \"orders\")\n}\n</code></pre>"},{"location":"api-reference/graphql/#examples","title":"Examples","text":""},{"location":"api-reference/graphql/#basic-query","title":"Basic Query","text":"<pre><code>query {\n  query(input: {\n    dataset: \"orders\"\n    dimensions: [{ name: \"city\" }]\n    metrics: [{ name: \"total_revenue\" }, { name: \"order_count\" }]\n    limit: 10\n  }) {\n    columns {\n      name\n      type\n    }\n    data\n    rowCount\n  }\n}\n</code></pre>"},{"location":"api-reference/graphql/#query-with-filters","title":"Query with Filters","text":"<pre><code>query {\n  query(input: {\n    dataset: \"orders\"\n    dimensions: [{ name: \"city\" }, { name: \"order_date\" }]\n    metrics: [{ name: \"total_revenue\" }]\n    filters: [\n      { field: \"order_date\", operator: \"gte\", value: \"2024-01-01\" }\n      { field: \"city\", operator: \"in\", value: [\"Mumbai\", \"Delhi\"] }\n    ]\n    orderBy: [{ field: \"total_revenue\", direction: \"desc\" }]\n    limit: 100\n  }) {\n    data\n    rowCount\n    cached\n    executionTimeMs\n  }\n}\n</code></pre>"},{"location":"api-reference/graphql/#introspect-dataset","title":"Introspect Dataset","text":"<pre><code>query {\n  dataset(id: \"orders\") {\n    dimensions {\n      name\n      label\n      type\n    }\n    metrics {\n      name\n      label\n      description\n    }\n  }\n}\n</code></pre>"},{"location":"api-reference/graphql/#using-with-curl","title":"Using with cURL","text":"<pre><code>curl -X POST http://localhost:8080/v1/graphql \\\n  -H \"Content-Type: application/json\" \\\n  -H \"X-API-Key: your-api-key\" \\\n  -d '{\n    \"query\": \"query { datasets { id name } }\"\n  }'\n</code></pre>"},{"location":"api-reference/graphql/#using-with-javascript","title":"Using with JavaScript","text":"<pre><code>const query = `\n  query GetData($input: QueryInput!) {\n    query(input: $input) {\n      data\n      rowCount\n    }\n  }\n`;\n\nconst variables = {\n  input: {\n    dataset: \"orders\",\n    dimensions: [{ name: \"city\" }],\n    metrics: [{ name: \"total_revenue\" }]\n  }\n};\n\nfetch('http://localhost:8080/v1/graphql', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'X-API-Key': 'your-api-key'\n  },\n  body: JSON.stringify({ query, variables })\n})\n.then(res =&gt; res.json())\n.then(data =&gt; console.log(data));\n</code></pre>"},{"location":"api-reference/graphql/#using-with-python","title":"Using with Python","text":"<pre><code>import requests\n\nquery = \"\"\"\nquery GetData($input: QueryInput!) {\n  query(input: $input) {\n    data\n    rowCount\n  }\n}\n\"\"\"\n\nvariables = {\n    \"input\": {\n        \"dataset\": \"orders\",\n        \"dimensions\": [{\"name\": \"city\"}],\n        \"metrics\": [{\"name\": \"total_revenue\"}]\n    }\n}\n\nresponse = requests.post(\n    'http://localhost:8080/v1/graphql',\n    headers={\n        'Content-Type': 'application/json',\n        'X-API-Key': 'your-api-key'\n    },\n    json={'query': query, 'variables': variables}\n)\n\nprint(response.json())\n</code></pre>"},{"location":"api-reference/graphql/#row-level-security","title":"Row-Level Security","text":"<p>GraphQL queries automatically apply RLS based on your API key's tenant:</p> <pre><code># With API key for tenant \"acme-corp\"\nquery {\n  query(input: { dataset: \"orders\", metrics: [{ name: \"total_revenue\" }] }) {\n    data  # Only returns data for acme-corp\n  }\n}\n</code></pre>"},{"location":"api-reference/graphql/#error-handling","title":"Error Handling","text":"<p>Errors are returned in the standard GraphQL format:</p> <pre><code>{\n  \"data\": null,\n  \"errors\": [\n    {\n      \"message\": \"Dataset not found\",\n      \"locations\": [{ \"line\": 2, \"column\": 3 }],\n      \"path\": [\"query\"]\n    }\n  ]\n}\n</code></pre>"},{"location":"api-reference/graphql/#next-steps","title":"Next Steps","text":"<ul> <li>REST API Reference</li> <li>Authentication</li> <li>Row-Level Security</li> </ul>"},{"location":"api-reference/introspection/","title":"Schema Introspection API","text":"<p>Discover datasets, dimensions, and metrics programmatically.</p>"},{"location":"api-reference/introspection/#endpoints","title":"Endpoints","text":"Endpoint Description <code>GET /v1/introspection/datasets</code> Get all datasets with full schema <code>GET /v1/introspection/datasets/{id}</code> Get single dataset schema <code>GET /v1/introspection/openapi</code> Get OpenAPI specification"},{"location":"api-reference/introspection/#get-all-datasets","title":"Get All Datasets","text":"<pre><code>GET /v1/introspection/datasets\n</code></pre>"},{"location":"api-reference/introspection/#response","title":"Response","text":"<pre><code>{\n  \"datasets\": [\n    {\n      \"id\": \"orders\",\n      \"name\": \"Orders\",\n      \"description\": \"Order-level facts\",\n      \"source\": \"warehouse\",\n      \"tags\": [\"sales\", \"demo\"],\n      \"schema\": {\n        \"dimensions\": [\n          {\n            \"name\": \"city\",\n            \"label\": \"City\",\n            \"type\": \"string\",\n            \"description\": \"Customer city\",\n            \"sql\": \"city\",\n            \"hidden\": false\n          }\n        ],\n        \"metrics\": [\n          {\n            \"name\": \"total_revenue\",\n            \"label\": \"Total Revenue\",\n            \"type\": \"number\",\n            \"description\": \"Sum of order revenue\",\n            \"sql\": \"SUM(revenue)\",\n            \"aggregation\": \"sum\",\n            \"format\": \"$#,##0\",\n            \"hidden\": false\n          }\n        ]\n      },\n      \"defaultTimezone\": \"UTC\",\n      \"refreshPolicy\": \"onDemand\"\n    }\n  ],\n  \"version\": \"1.0.0\",\n  \"generatedAt\": \"2024-12-29T10:30:00Z\"\n}\n</code></pre>"},{"location":"api-reference/introspection/#get-single-dataset","title":"Get Single Dataset","text":"<pre><code>GET /v1/introspection/datasets/{datasetId}\n</code></pre>"},{"location":"api-reference/introspection/#response_1","title":"Response","text":"<pre><code>{\n  \"id\": \"orders\",\n  \"name\": \"Orders\",\n  \"description\": \"Order-level facts\",\n  \"source\": \"warehouse\",\n  \"tags\": [\"sales\"],\n  \"table\": \"public.orders\",\n  \"sql\": null,\n  \"schema\": {\n    \"dimensions\": [\n      {\n        \"name\": \"city\",\n        \"label\": \"City\",\n        \"type\": \"string\",\n        \"description\": \"Customer city\",\n        \"sql\": \"city\",\n        \"primaryKey\": false,\n        \"hidden\": false,\n        \"values\": null\n      },\n      {\n        \"name\": \"order_date\",\n        \"label\": \"Order Date\",\n        \"type\": \"date\",\n        \"description\": \"Date of order\",\n        \"sql\": \"order_date\",\n        \"primaryKey\": false,\n        \"hidden\": false,\n        \"values\": null\n      }\n    ],\n    \"metrics\": [\n      {\n        \"name\": \"total_revenue\",\n        \"label\": \"Total Revenue\",\n        \"type\": \"number\",\n        \"description\": \"Sum of order revenue\",\n        \"sql\": \"SUM(revenue)\",\n        \"aggregation\": \"sum\",\n        \"format\": \"$#,##0\",\n        \"hidden\": false,\n        \"drillMembers\": [\"city\", \"order_date\"]\n      },\n      {\n        \"name\": \"order_count\",\n        \"label\": \"Order Count\",\n        \"type\": \"number\",\n        \"sql\": \"COUNT(*)\",\n        \"aggregation\": \"count\",\n        \"hidden\": false,\n        \"drillMembers\": []\n      }\n    ]\n  },\n  \"joins\": [],\n  \"filters\": [],\n  \"rls\": {\n    \"enabled\": true,\n    \"field\": \"tenant_id\"\n  },\n  \"defaultTimezone\": \"UTC\",\n  \"refreshPolicy\": \"onDemand\",\n  \"generatedAt\": \"2024-12-29T10:30:00Z\"\n}\n</code></pre>"},{"location":"api-reference/introspection/#get-openapi-specification","title":"Get OpenAPI Specification","text":"<pre><code>GET /v1/introspection/openapi\n</code></pre> <p>Returns the full OpenAPI 3.0 specification for the SetuPranali API.</p>"},{"location":"api-reference/introspection/#use-cases","title":"Use Cases","text":""},{"location":"api-reference/introspection/#auto-discovery-in-bi-tools","title":"Auto-Discovery in BI Tools","text":"<pre><code>import requests\n\n# Fetch all available datasets\nresponse = requests.get(\"http://localhost:8080/v1/introspection/datasets\")\ndatasets = response.json()[\"datasets\"]\n\n# Build dropdown options for UI\nfor dataset in datasets:\n    print(f\"Dataset: {dataset['name']}\")\n    for dim in dataset['schema']['dimensions']:\n        print(f\"  Dimension: {dim['label']} ({dim['type']})\")\n    for metric in dataset['schema']['metrics']:\n        print(f\"  Metric: {metric['label']} ({metric['aggregation']})\")\n</code></pre>"},{"location":"api-reference/introspection/#dynamic-query-builder","title":"Dynamic Query Builder","text":"<pre><code>// Fetch dataset schema\nconst response = await fetch('/v1/introspection/datasets/orders');\nconst dataset = await response.json();\n\n// Build query UI dynamically\nconst dimensions = dataset.schema.dimensions.filter(d =&gt; !d.hidden);\nconst metrics = dataset.schema.metrics.filter(m =&gt; !m.hidden);\n\n// Populate selectors\ndimensionSelect.innerHTML = dimensions.map(d =&gt; \n  `&lt;option value=\"${d.name}\"&gt;${d.label}&lt;/option&gt;`\n).join('');\n</code></pre>"},{"location":"api-reference/introspection/#schema-validation","title":"Schema Validation","text":"<pre><code>def validate_query(dataset_id, dimensions, metrics):\n    # Get schema\n    schema = requests.get(f\"/v1/introspection/datasets/{dataset_id}\").json()\n\n    valid_dims = {d['name'] for d in schema['schema']['dimensions']}\n    valid_metrics = {m['name'] for m in schema['schema']['metrics']}\n\n    # Validate\n    invalid_dims = set(dimensions) - valid_dims\n    invalid_metrics = set(metrics) - valid_metrics\n\n    if invalid_dims or invalid_metrics:\n        raise ValueError(f\"Invalid fields: {invalid_dims | invalid_metrics}\")\n</code></pre>"},{"location":"api-reference/introspection/#schema-properties","title":"Schema Properties","text":""},{"location":"api-reference/introspection/#dimension-properties","title":"Dimension Properties","text":"Property Type Description <code>name</code> string Unique identifier <code>label</code> string Display name <code>type</code> string Data type (string, number, date, etc.) <code>description</code> string Human-readable description <code>sql</code> string SQL expression <code>primaryKey</code> boolean Is primary key <code>hidden</code> boolean Hidden from UI <code>values</code> array Enum values (if applicable)"},{"location":"api-reference/introspection/#metric-properties","title":"Metric Properties","text":"Property Type Description <code>name</code> string Unique identifier <code>label</code> string Display name <code>type</code> string Data type <code>description</code> string Human-readable description <code>sql</code> string SQL aggregation expression <code>aggregation</code> string Type: sum, count, avg, min, max <code>format</code> string Display format <code>hidden</code> boolean Hidden from UI <code>drillMembers</code> array Drill-down dimensions"},{"location":"api-reference/introspection/#next-steps","title":"Next Steps","text":"<ul> <li>Query API</li> <li>GraphQL API</li> <li>Datasets Guide</li> </ul>"},{"location":"api-reference/nlq/","title":"Natural Language Query API","text":"<p>Ask questions in plain English and get structured queries.</p>"},{"location":"api-reference/nlq/#endpoint","title":"Endpoint","text":"<pre><code>POST /v1/nlq\n</code></pre>"},{"location":"api-reference/nlq/#authentication","title":"Authentication","text":"<p>Requires API key in header: <pre><code>X-API-Key: your-api-key\n</code></pre></p>"},{"location":"api-reference/nlq/#request","title":"Request","text":"<pre><code>{\n  \"question\": \"What are the top 10 cities by revenue?\",\n  \"dataset\": \"orders\",\n  \"provider\": \"simple\",\n  \"execute\": true\n}\n</code></pre> Field Type Required Description <code>question</code> string Yes Natural language question <code>dataset</code> string Yes Dataset to query <code>provider</code> string No <code>simple</code>, <code>openai</code>, or <code>anthropic</code> (default: <code>simple</code>) <code>model</code> string No Model name for AI providers <code>execute</code> boolean No Execute the translated query (default: <code>false</code>)"},{"location":"api-reference/nlq/#response","title":"Response","text":"<pre><code>{\n  \"question\": \"What are the top 10 cities by revenue?\",\n  \"query\": {\n    \"dimensions\": [\"city\"],\n    \"metrics\": [\"total_revenue\"],\n    \"filters\": [],\n    \"orderBy\": [{\"field\": \"total_revenue\", \"direction\": \"desc\"}],\n    \"limit\": 10\n  },\n  \"explanation\": \"Show total revenue grouped by city, sorted by revenue descending, limited to top 10\",\n  \"confidence\": 0.85,\n  \"suggestions\": [],\n  \"provider\": \"simple\",\n  \"results\": {\n    \"columns\": [\n      {\"name\": \"city\", \"type\": \"string\"},\n      {\"name\": \"total_revenue\", \"type\": \"number\"}\n    ],\n    \"data\": [\n      {\"city\": \"Mumbai\", \"total_revenue\": 150000},\n      {\"city\": \"Delhi\", \"total_revenue\": 120000}\n    ],\n    \"rowCount\": 10\n  }\n}\n</code></pre>"},{"location":"api-reference/nlq/#providers","title":"Providers","text":""},{"location":"api-reference/nlq/#simple-rule-based","title":"Simple (Rule-Based)","text":"<p>No AI required. Uses pattern matching for common queries.</p> <pre><code>{\n  \"question\": \"Top 10 cities by revenue\",\n  \"dataset\": \"orders\",\n  \"provider\": \"simple\"\n}\n</code></pre> <p>Supported Patterns: - \"top N by metric\" - \"total/sum/average of metric\" - \"group by dimension\" - \"highest/lowest metric\"</p>"},{"location":"api-reference/nlq/#openai","title":"OpenAI","text":"<p>Requires <code>OPENAI_API_KEY</code> environment variable.</p> <pre><code>{\n  \"question\": \"Show me monthly revenue trends for the last quarter\",\n  \"dataset\": \"orders\",\n  \"provider\": \"openai\",\n  \"model\": \"gpt-3.5-turbo\"\n}\n</code></pre>"},{"location":"api-reference/nlq/#anthropic","title":"Anthropic","text":"<p>Requires <code>ANTHROPIC_API_KEY</code> environment variable.</p> <pre><code>{\n  \"question\": \"Compare revenue between cities\",\n  \"dataset\": \"orders\",\n  \"provider\": \"anthropic\",\n  \"model\": \"claude-3-haiku-20240307\"\n}\n</code></pre>"},{"location":"api-reference/nlq/#examples","title":"Examples","text":""},{"location":"api-reference/nlq/#basic-question","title":"Basic Question","text":"<pre><code>curl -X POST http://localhost:8080/v1/nlq \\\n  -H \"Content-Type: application/json\" \\\n  -H \"X-API-Key: your-api-key\" \\\n  -d '{\n    \"question\": \"What are the top 5 products by sales?\",\n    \"dataset\": \"orders\",\n    \"provider\": \"simple\",\n    \"execute\": true\n  }'\n</code></pre>"},{"location":"api-reference/nlq/#complex-question-ai","title":"Complex Question (AI)","text":"<pre><code>curl -X POST http://localhost:8080/v1/nlq \\\n  -H \"X-API-Key: your-api-key\" \\\n  -d '{\n    \"question\": \"Show me the month-over-month revenue growth for each region in Q4 2024\",\n    \"dataset\": \"orders\",\n    \"provider\": \"openai\",\n    \"execute\": true\n  }'\n</code></pre>"},{"location":"api-reference/nlq/#python-example","title":"Python Example","text":"<pre><code>import requests\n\nresponse = requests.post(\n    \"http://localhost:8080/v1/nlq\",\n    headers={\"X-API-Key\": \"your-api-key\"},\n    json={\n        \"question\": \"Which customers have the highest order values?\",\n        \"dataset\": \"orders\",\n        \"execute\": True\n    }\n)\n\nresult = response.json()\nprint(f\"Explanation: {result['explanation']}\")\nprint(f\"Confidence: {result['confidence']}\")\n\nif \"results\" in result:\n    for row in result[\"results\"][\"data\"]:\n        print(row)\n</code></pre>"},{"location":"api-reference/nlq/#javascript-example","title":"JavaScript Example","text":"<pre><code>const response = await fetch('http://localhost:8080/v1/nlq', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'X-API-Key': 'your-api-key'\n  },\n  body: JSON.stringify({\n    question: 'Show revenue by month for 2024',\n    dataset: 'orders',\n    provider: 'simple',\n    execute: true\n  })\n});\n\nconst { query, explanation, results } = await response.json();\nconsole.log('Translated query:', query);\nconsole.log('Explanation:', explanation);\n</code></pre>"},{"location":"api-reference/nlq/#question-patterns","title":"Question Patterns","text":""},{"location":"api-reference/nlq/#well-understood-patterns","title":"Well-Understood Patterns","text":"Pattern Example Top N by metric \"Top 10 cities by revenue\" Totals \"Total revenue by product\" Comparisons \"Revenue by region\" Time-based \"Monthly sales for 2024\" Filtering \"Orders over $1000\" Aggregations \"Average order value by customer\""},{"location":"api-reference/nlq/#tips-for-better-results","title":"Tips for Better Results","text":"<ol> <li>Be specific: \"Revenue by city\" vs \"Show me data\"</li> <li>Use metric names: Reference actual metric names from your dataset</li> <li>Specify limits: \"Top 10\" vs \"all cities\"</li> <li>Include time ranges: \"Last 30 days\" or \"Q4 2024\"</li> </ol>"},{"location":"api-reference/nlq/#confidence-scores","title":"Confidence Scores","text":"Score Meaning 0.9+ High confidence, query likely correct 0.7-0.9 Good confidence, review recommended 0.5-0.7 Moderate confidence, verify query &lt;0.5 Low confidence, question unclear"},{"location":"api-reference/nlq/#error-handling","title":"Error Handling","text":""},{"location":"api-reference/nlq/#question-not-understood","title":"Question Not Understood","text":"<pre><code>{\n  \"question\": \"asdfgh\",\n  \"query\": {},\n  \"explanation\": \"Could not understand the question\",\n  \"confidence\": 0.0,\n  \"suggestions\": [\n    \"Show me total revenue by city\",\n    \"What are the top 10 products by sales?\"\n  ]\n}\n</code></pre>"},{"location":"api-reference/nlq/#missing-ai-provider","title":"Missing AI Provider","text":"<pre><code>{\n  \"detail\": \"Provider 'openai' requires additional packages: No module named 'openai'\"\n}\n</code></pre>"},{"location":"api-reference/nlq/#configuration","title":"Configuration","text":""},{"location":"api-reference/nlq/#environment-variables","title":"Environment Variables","text":"Variable Description <code>OPENAI_API_KEY</code> OpenAI API key <code>ANTHROPIC_API_KEY</code> Anthropic API key <code>NLQ_DEFAULT_PROVIDER</code> Default provider (optional) <code>NLQ_DEFAULT_MODEL</code> Default model (optional)"},{"location":"api-reference/nlq/#next-steps","title":"Next Steps","text":"<ul> <li>Query API</li> <li>GraphQL API</li> <li>Schema Introspection</li> </ul>"},{"location":"api-reference/odata/","title":"OData API","text":"<p>OData endpoints for Power BI and Excel integration.</p>"},{"location":"api-reference/odata/#endpoints","title":"Endpoints","text":"Endpoint Description <code>/odata</code> Service document (list datasets) <code>/odata/{dataset}</code> Query dataset <code>/odata/{dataset}/$metadata</code> Schema metadata"},{"location":"api-reference/odata/#service-document","title":"Service Document","text":"<p>List available datasets.</p>"},{"location":"api-reference/odata/#request","title":"Request","text":"<pre><code>curl http://localhost:8080/odata \\\n  -H \"X-API-Key: your-key\"\n</code></pre>"},{"location":"api-reference/odata/#response","title":"Response","text":"<pre><code>{\n  \"@odata.context\": \"$metadata\",\n  \"value\": [\n    {\n      \"name\": \"sales\",\n      \"url\": \"sales\"\n    },\n    {\n      \"name\": \"customers\",\n      \"url\": \"customers\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api-reference/odata/#query-dataset","title":"Query Dataset","text":"<p>Retrieve data from a dataset.</p>"},{"location":"api-reference/odata/#request_1","title":"Request","text":"<pre><code>curl \"http://localhost:8080/odata/sales\" \\\n  -H \"X-API-Key: your-key\"\n</code></pre>"},{"location":"api-reference/odata/#response_1","title":"Response","text":"<pre><code>{\n  \"@odata.context\": \"$metadata#sales\",\n  \"value\": [\n    {\n      \"region\": \"North\",\n      \"product\": \"Electronics\",\n      \"revenue\": 125000.00,\n      \"orders\": 342\n    },\n    {\n      \"region\": \"South\",\n      \"product\": \"Furniture\",\n      \"revenue\": 89000.00,\n      \"orders\": 156\n    }\n  ]\n}\n</code></pre>"},{"location":"api-reference/odata/#query-options","title":"Query Options","text":""},{"location":"api-reference/odata/#select","title":"$select","text":"<p>Select specific fields:</p> <pre><code>/odata/sales?$select=region,revenue\n</code></pre>"},{"location":"api-reference/odata/#filter","title":"$filter","text":"<p>Filter data:</p> <pre><code>/odata/sales?$filter=region eq 'North'\n/odata/sales?$filter=revenue gt 10000\n/odata/sales?$filter=order_date ge 2024-01-01\n</code></pre>"},{"location":"api-reference/odata/#filter-operators","title":"Filter Operators","text":"Operator Description Example <code>eq</code> Equals <code>region eq 'North'</code> <code>ne</code> Not equals <code>status ne 'cancelled'</code> <code>gt</code> Greater than <code>revenue gt 10000</code> <code>ge</code> Greater or equal <code>date ge 2024-01-01</code> <code>lt</code> Less than <code>quantity lt 100</code> <code>le</code> Less or equal <code>date le 2024-12-31</code> <code>and</code> Logical AND <code>region eq 'North' and revenue gt 10000</code> <code>or</code> Logical OR <code>region eq 'North' or region eq 'South'</code>"},{"location":"api-reference/odata/#orderby","title":"$orderby","text":"<p>Sort results:</p> <pre><code>/odata/sales?$orderby=revenue desc\n/odata/sales?$orderby=region asc,revenue desc\n</code></pre>"},{"location":"api-reference/odata/#top","title":"$top","text":"<p>Limit rows:</p> <pre><code>/odata/sales?$top=100\n</code></pre>"},{"location":"api-reference/odata/#skip","title":"$skip","text":"<p>Skip rows (pagination):</p> <pre><code>/odata/sales?$skip=100&amp;$top=100\n</code></pre>"},{"location":"api-reference/odata/#count","title":"$count","text":"<p>Include count:</p> <pre><code>/odata/sales?$count=true\n</code></pre> <p>Response includes:</p> <pre><code>{\n  \"@odata.count\": 1523,\n  \"value\": [...]\n}\n</code></pre>"},{"location":"api-reference/odata/#combined","title":"Combined","text":"<pre><code>/odata/sales?$select=region,revenue&amp;$filter=revenue gt 10000&amp;$orderby=revenue desc&amp;$top=10\n</code></pre>"},{"location":"api-reference/odata/#metadata","title":"Metadata","text":"<p>Get schema information.</p>"},{"location":"api-reference/odata/#request_2","title":"Request","text":"<pre><code>curl \"http://localhost:8080/odata/sales/\\$metadata\" \\\n  -H \"X-API-Key: your-key\"\n</code></pre>"},{"location":"api-reference/odata/#response-xml","title":"Response (XML)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;edmx:Edmx Version=\"4.0\"&gt;\n  &lt;edmx:DataServices&gt;\n    &lt;Schema Namespace=\"UBI\"&gt;\n      &lt;EntityType Name=\"sales\"&gt;\n        &lt;Property Name=\"region\" Type=\"Edm.String\"/&gt;\n        &lt;Property Name=\"product\" Type=\"Edm.String\"/&gt;\n        &lt;Property Name=\"revenue\" Type=\"Edm.Decimal\"/&gt;\n        &lt;Property Name=\"orders\" Type=\"Edm.Int64\"/&gt;\n      &lt;/EntityType&gt;\n    &lt;/Schema&gt;\n  &lt;/edmx:DataServices&gt;\n&lt;/edmx:Edmx&gt;\n</code></pre>"},{"location":"api-reference/odata/#date-filtering","title":"Date Filtering","text":"<p>For incremental refresh:</p>"},{"location":"api-reference/odata/#date-range","title":"Date Range","text":"<pre><code>/odata/sales?$filter=order_date ge 2024-01-01 and order_date lt 2024-02-01\n</code></pre>"},{"location":"api-reference/odata/#datetime-format","title":"Date/Time Format","text":"<pre><code>order_date ge 2024-01-01T00:00:00Z\n</code></pre>"},{"location":"api-reference/odata/#power-bi-usage","title":"Power BI Usage","text":""},{"location":"api-reference/odata/#connection-url","title":"Connection URL","text":"<pre><code>http://localhost:8080/odata/sales\n</code></pre>"},{"location":"api-reference/odata/#authentication","title":"Authentication","text":"<p>Add HTTP header: - Name: <code>X-API-Key</code> - Value: <code>your-api-key</code></p>"},{"location":"api-reference/odata/#incremental-refresh","title":"Incremental Refresh","text":"<ol> <li>Create <code>RangeStart</code> and <code>RangeEnd</code> parameters</li> <li>Filter by date column using parameters</li> <li>Configure refresh policy in Power BI Service</li> </ol>"},{"location":"api-reference/odata/#error-responses","title":"Error Responses","text":""},{"location":"api-reference/odata/#400-bad-request","title":"400 Bad Request","text":"<pre><code>{\n  \"error\": {\n    \"code\": \"BadRequest\",\n    \"message\": \"Invalid filter syntax\"\n  }\n}\n</code></pre>"},{"location":"api-reference/odata/#401-unauthorized","title":"401 Unauthorized","text":"<pre><code>{\n  \"error\": {\n    \"code\": \"Unauthorized\",\n    \"message\": \"Invalid API key\"\n  }\n}\n</code></pre>"},{"location":"api-reference/odata/#404-not-found","title":"404 Not Found","text":"<pre><code>{\n  \"error\": {\n    \"code\": \"NotFound\",\n    \"message\": \"Dataset 'unknown' not found\"\n  }\n}\n</code></pre>"},{"location":"api-reference/query/","title":"Query API","text":"<p>Execute semantic queries against your datasets.</p>"},{"location":"api-reference/query/#endpoint","title":"Endpoint","text":"<pre><code>POST /v1/query\n</code></pre>"},{"location":"api-reference/query/#request","title":"Request","text":""},{"location":"api-reference/query/#headers","title":"Headers","text":"Header Required Description <code>X-API-Key</code> Yes API key for authentication <code>Content-Type</code> Yes <code>application/json</code>"},{"location":"api-reference/query/#body","title":"Body","text":"<pre><code>{\n  \"dataset\": \"string\",\n  \"dimensions\": [\"string\"],\n  \"metrics\": [\"string\"],\n  \"filters\": [\n    {\n      \"field\": \"string\",\n      \"op\": \"string\",\n      \"value\": \"any\"\n    }\n  ],\n  \"orderBy\": [\n    {\n      \"field\": \"string\",\n      \"direction\": \"asc|desc\"\n    }\n  ],\n  \"limit\": \"integer\",\n  \"offset\": \"integer\"\n}\n</code></pre>"},{"location":"api-reference/query/#parameters","title":"Parameters","text":"Field Type Required Description <code>dataset</code> string Yes Dataset name <code>dimensions</code> string[] No Dimension fields <code>metrics</code> string[] No Metric fields <code>filters</code> object[] No Filter conditions <code>orderBy</code> object[] No Sort order <code>limit</code> integer No Max rows (default: 10000) <code>offset</code> integer No Skip rows"},{"location":"api-reference/query/#response","title":"Response","text":""},{"location":"api-reference/query/#success-200","title":"Success (200)","text":"<pre><code>{\n  \"columns\": [\n    {\n      \"name\": \"region\",\n      \"type\": \"string\"\n    },\n    {\n      \"name\": \"revenue\",\n      \"type\": \"number\"\n    }\n  ],\n  \"rows\": [\n    [\"North\", 125000.00],\n    [\"South\", 89000.00]\n  ],\n  \"stats\": {\n    \"rowCount\": 2,\n    \"executionTimeMs\": 45,\n    \"cached\": false,\n    \"cachedAt\": null\n  }\n}\n</code></pre>"},{"location":"api-reference/query/#error-4xx5xx","title":"Error (4xx/5xx)","text":"<pre><code>{\n  \"detail\": \"Dataset 'unknown' not found\"\n}\n</code></pre>"},{"location":"api-reference/query/#filter-operators","title":"Filter Operators","text":"Operator Description Example Value <code>=</code> Equals <code>\"North\"</code> <code>!=</code> Not equals <code>\"Cancelled\"</code> <code>&gt;</code> Greater than <code>100</code> <code>&gt;=</code> Greater or equal <code>\"2024-01-01\"</code> <code>&lt;</code> Less than <code>1000</code> <code>&lt;=</code> Less or equal <code>\"2024-12-31\"</code> <code>in</code> In list <code>[\"North\", \"South\"]</code> <code>not_in</code> Not in list <code>[\"Cancelled\"]</code> <code>like</code> Pattern match <code>\"%Corp%\"</code> <code>is_null</code> Is null <code>true</code> <code>is_not_null</code> Is not null <code>true</code>"},{"location":"api-reference/query/#examples","title":"Examples","text":""},{"location":"api-reference/query/#basic-query","title":"Basic Query","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\", \"orders\"]\n  }'\n</code></pre>"},{"location":"api-reference/query/#with-filters","title":"With Filters","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"product\"],\n    \"metrics\": [\"revenue\"],\n    \"filters\": [\n      {\"field\": \"region\", \"op\": \"=\", \"value\": \"North\"},\n      {\"field\": \"order_date\", \"op\": \"&gt;=\", \"value\": \"2024-01-01\"}\n    ]\n  }'\n</code></pre>"},{"location":"api-reference/query/#with-sorting-and-limit","title":"With Sorting and Limit","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"product\"],\n    \"metrics\": [\"revenue\"],\n    \"orderBy\": [{\"field\": \"revenue\", \"direction\": \"desc\"}],\n    \"limit\": 10\n  }'\n</code></pre>"},{"location":"api-reference/query/#metrics-only-totals","title":"Metrics Only (Totals)","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"metrics\": [\"revenue\", \"orders\"]\n  }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"columns\": [\n    {\"name\": \"revenue\", \"type\": \"number\"},\n    {\"name\": \"orders\", \"type\": \"number\"}\n  ],\n  \"rows\": [\n    [1250000.00, 5432]\n  ]\n}\n</code></pre>"},{"location":"api-reference/query/#in-filter","title":"In Filter","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\"],\n    \"filters\": [\n      {\"field\": \"region\", \"op\": \"in\", \"value\": [\"North\", \"South\"]}\n    ]\n  }'\n</code></pre>"},{"location":"api-reference/query/#error-responses","title":"Error Responses","text":""},{"location":"api-reference/query/#400-bad-request","title":"400 Bad Request","text":"<pre><code>{\n  \"detail\": \"Unknown dimension 'invalid' in dataset 'sales'\"\n}\n</code></pre>"},{"location":"api-reference/query/#401-unauthorized","title":"401 Unauthorized","text":"<pre><code>{\n  \"detail\": \"Invalid API key\"\n}\n</code></pre>"},{"location":"api-reference/query/#404-not-found","title":"404 Not Found","text":"<pre><code>{\n  \"detail\": \"Dataset 'unknown' not found\"\n}\n</code></pre>"},{"location":"api-reference/query/#429-rate-limited","title":"429 Rate Limited","text":"<pre><code>{\n  \"detail\": \"Rate limit exceeded\",\n  \"retry_after\": 60\n}\n</code></pre>"},{"location":"api-reference/query/#rate-limiting","title":"Rate Limiting","text":"<p>Default: 100 requests per minute per API key.</p> <p>Headers in response:</p> <pre><code>X-RateLimit-Limit: 100\nX-RateLimit-Remaining: 45\nX-RateLimit-Reset: 1705320600\n</code></pre>"},{"location":"api-reference/query/#caching","title":"Caching","text":"<p>Responses are cached by default.</p> <p>Check cache status in <code>stats</code>:</p> <pre><code>{\n  \"stats\": {\n    \"cached\": true,\n    \"cachedAt\": \"2024-01-15T10:30:00Z\"\n  }\n}\n</code></pre> <p>Bypass cache:</p> <pre><code>-H \"Cache-Control: no-cache\"\n</code></pre>"},{"location":"api-reference/sources/","title":"Sources API","text":"<p>Manage data source connections.</p>"},{"location":"api-reference/sources/#endpoints","title":"Endpoints","text":"Method Endpoint Description GET <code>/v1/sources</code> List all sources POST <code>/v1/sources</code> Create source GET <code>/v1/sources/{name}</code> Get source details DELETE <code>/v1/sources/{name}</code> Delete source GET <code>/v1/sources/{name}/health</code> Test connection"},{"location":"api-reference/sources/#list-sources","title":"List Sources","text":""},{"location":"api-reference/sources/#request","title":"Request","text":"<pre><code>curl http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\"\n</code></pre>"},{"location":"api-reference/sources/#response","title":"Response","text":"<pre><code>{\n  \"sources\": [\n    {\n      \"name\": \"postgres-prod\",\n      \"type\": \"postgres\",\n      \"created_at\": \"2024-01-15T10:00:00Z\"\n    },\n    {\n      \"name\": \"snowflake-dw\",\n      \"type\": \"snowflake\",\n      \"created_at\": \"2024-01-15T11:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api-reference/sources/#create-source","title":"Create Source","text":""},{"location":"api-reference/sources/#request_1","title":"Request","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"postgres-prod\",\n    \"type\": \"postgres\",\n    \"connection\": {\n      \"host\": \"db.example.com\",\n      \"port\": 5432,\n      \"database\": \"analytics\",\n      \"user\": \"readonly\",\n      \"password\": \"secure-password\"\n    }\n  }'\n</code></pre>"},{"location":"api-reference/sources/#response_1","title":"Response","text":"<pre><code>{\n  \"name\": \"postgres-prod\",\n  \"type\": \"postgres\",\n  \"created_at\": \"2024-01-15T10:00:00Z\",\n  \"status\": \"connected\"\n}\n</code></pre>"},{"location":"api-reference/sources/#source-types","title":"Source Types","text":"Type Description <code>postgres</code> PostgreSQL <code>mysql</code> MySQL / MariaDB <code>snowflake</code> Snowflake <code>bigquery</code> Google BigQuery <code>databricks</code> Databricks SQL <code>redshift</code> Amazon Redshift <code>clickhouse</code> ClickHouse <code>duckdb</code> DuckDB"},{"location":"api-reference/sources/#connection-parameters","title":"Connection Parameters","text":""},{"location":"api-reference/sources/#postgresql","title":"PostgreSQL","text":"<pre><code>{\n  \"host\": \"db.example.com\",\n  \"port\": 5432,\n  \"database\": \"analytics\",\n  \"user\": \"readonly\",\n  \"password\": \"password\",\n  \"sslmode\": \"require\"\n}\n</code></pre>"},{"location":"api-reference/sources/#snowflake","title":"Snowflake","text":"<pre><code>{\n  \"account\": \"abc123.us-east-1\",\n  \"user\": \"BI_SERVICE\",\n  \"password\": \"password\",\n  \"warehouse\": \"ANALYTICS_WH\",\n  \"database\": \"ANALYTICS\",\n  \"schema\": \"PUBLIC\",\n  \"role\": \"ANALYST\"\n}\n</code></pre>"},{"location":"api-reference/sources/#bigquery","title":"BigQuery","text":"<pre><code>{\n  \"project_id\": \"my-project\",\n  \"credentials_json\": \"{...service-account-json...}\",\n  \"location\": \"US\"\n}\n</code></pre>"},{"location":"api-reference/sources/#databricks","title":"Databricks","text":"<pre><code>{\n  \"server_hostname\": \"abc123.cloud.databricks.com\",\n  \"http_path\": \"/sql/1.0/warehouses/xyz789\",\n  \"access_token\": \"dapi...\"\n}\n</code></pre>"},{"location":"api-reference/sources/#get-source","title":"Get Source","text":""},{"location":"api-reference/sources/#request_2","title":"Request","text":"<pre><code>curl http://localhost:8080/v1/sources/postgres-prod \\\n  -H \"X-API-Key: admin-key\"\n</code></pre>"},{"location":"api-reference/sources/#response_2","title":"Response","text":"<pre><code>{\n  \"name\": \"postgres-prod\",\n  \"type\": \"postgres\",\n  \"created_at\": \"2024-01-15T10:00:00Z\",\n  \"connection\": {\n    \"host\": \"db.example.com\",\n    \"port\": 5432,\n    \"database\": \"analytics\",\n    \"user\": \"readonly\"\n  }\n}\n</code></pre> <p>Security</p> <p>Passwords are never returned in API responses.</p>"},{"location":"api-reference/sources/#delete-source","title":"Delete Source","text":""},{"location":"api-reference/sources/#request_3","title":"Request","text":"<pre><code>curl -X DELETE http://localhost:8080/v1/sources/postgres-prod \\\n  -H \"X-API-Key: admin-key\"\n</code></pre>"},{"location":"api-reference/sources/#response_3","title":"Response","text":"<pre><code>{\n  \"deleted\": true,\n  \"name\": \"postgres-prod\"\n}\n</code></pre>"},{"location":"api-reference/sources/#health-check","title":"Health Check","text":"<p>Test source connection.</p>"},{"location":"api-reference/sources/#request_4","title":"Request","text":"<pre><code>curl http://localhost:8080/v1/sources/postgres-prod/health \\\n  -H \"X-API-Key: admin-key\"\n</code></pre>"},{"location":"api-reference/sources/#response-healthy","title":"Response (Healthy)","text":"<pre><code>{\n  \"status\": \"connected\",\n  \"latency_ms\": 45,\n  \"version\": \"PostgreSQL 15.2\"\n}\n</code></pre>"},{"location":"api-reference/sources/#response-unhealthy","title":"Response (Unhealthy)","text":"<pre><code>{\n  \"status\": \"error\",\n  \"error\": \"Connection refused\"\n}\n</code></pre>"},{"location":"api-reference/sources/#error-responses","title":"Error Responses","text":""},{"location":"api-reference/sources/#400-bad-request","title":"400 Bad Request","text":"<pre><code>{\n  \"detail\": \"Invalid source type 'unknown'\"\n}\n</code></pre>"},{"location":"api-reference/sources/#401-unauthorized","title":"401 Unauthorized","text":"<pre><code>{\n  \"detail\": \"Admin API key required\"\n}\n</code></pre>"},{"location":"api-reference/sources/#404-not-found","title":"404 Not Found","text":"<pre><code>{\n  \"detail\": \"Source 'unknown' not found\"\n}\n</code></pre>"},{"location":"api-reference/sources/#409-conflict","title":"409 Conflict","text":"<pre><code>{\n  \"detail\": \"Source 'postgres-prod' already exists\"\n}\n</code></pre>"},{"location":"api-reference/sources/#security","title":"Security","text":""},{"location":"api-reference/sources/#admin-access-required","title":"Admin Access Required","text":"<p>Source management requires an admin API key:</p> <pre><code>api_keys:\n  - key: \"admin-key\"\n    role: admin  # Required\n</code></pre>"},{"location":"api-reference/sources/#credential-encryption","title":"Credential Encryption","text":"<p>All credentials are encrypted at rest using Fernet (AES-128):</p> <pre><code>User provides password \u2192 Encrypted \u2192 Stored\nRetrieved \u2192 Decrypted \u2192 Used \u2192 Never logged\n</code></pre>"},{"location":"api-reference/sql/","title":"SQL API","text":"<p>Execute raw SQL queries with automatic Row-Level Security.</p>"},{"location":"api-reference/sql/#endpoint","title":"Endpoint","text":"<pre><code>POST /v1/sql\n</code></pre>"},{"location":"api-reference/sql/#authentication","title":"Authentication","text":"<p>Requires API key in header: <pre><code>X-API-Key: your-api-key\n</code></pre></p>"},{"location":"api-reference/sql/#request","title":"Request","text":"<pre><code>{\n  \"sql\": \"SELECT city, SUM(revenue) as total FROM orders GROUP BY city\",\n  \"dataset\": \"orders\"\n}\n</code></pre> Field Type Required Description <code>sql</code> string Yes SQL SELECT query <code>dataset</code> string Yes Dataset ID for RLS context <code>parameters</code> object No Query parameters"},{"location":"api-reference/sql/#response","title":"Response","text":"<pre><code>{\n  \"columns\": [\n    {\"name\": \"city\", \"type\": \"string\"},\n    {\"name\": \"total\", \"type\": \"number\"}\n  ],\n  \"data\": [\n    {\"city\": \"Mumbai\", \"total\": 15000},\n    {\"city\": \"Delhi\", \"total\": 12000}\n  ],\n  \"rowCount\": 2,\n  \"executionTimeMs\": 45,\n  \"rlsApplied\": true,\n  \"tenant\": \"acme-corp\"\n}\n</code></pre>"},{"location":"api-reference/sql/#security","title":"Security","text":""},{"location":"api-reference/sql/#row-level-security","title":"Row-Level Security","text":"<p>RLS is automatically applied based on your API key's tenant:</p> <pre><code>-- Your query\nSELECT city, SUM(revenue) FROM orders GROUP BY city\n\n-- Executed as (with RLS)\nWITH rls_filtered AS (\n    SELECT * FROM (SELECT city, SUM(revenue) FROM orders GROUP BY city) AS user_query\n    WHERE tenant_id = 'your-tenant'\n)\nSELECT * FROM rls_filtered\n</code></pre>"},{"location":"api-reference/sql/#allowed-operations","title":"Allowed Operations","text":"<p>Only <code>SELECT</code> queries are permitted. The following are blocked:</p> <ul> <li><code>DROP</code>, <code>DELETE</code>, <code>TRUNCATE</code></li> <li><code>INSERT</code>, <code>UPDATE</code>, <code>ALTER</code></li> <li><code>CREATE</code>, <code>GRANT</code>, <code>REVOKE</code></li> <li>SQL comments (<code>--</code>, <code>/*</code>)</li> </ul>"},{"location":"api-reference/sql/#examples","title":"Examples","text":""},{"location":"api-reference/sql/#basic-query","title":"Basic Query","text":"<pre><code>curl -X POST http://localhost:8080/v1/sql \\\n  -H \"Content-Type: application/json\" \\\n  -H \"X-API-Key: your-api-key\" \\\n  -d '{\n    \"sql\": \"SELECT city, COUNT(*) as orders FROM orders GROUP BY city ORDER BY orders DESC LIMIT 10\",\n    \"dataset\": \"orders\"\n  }'\n</code></pre>"},{"location":"api-reference/sql/#query-with-aggregations","title":"Query with Aggregations","text":"<pre><code>curl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: your-api-key\" \\\n  -d '{\n    \"sql\": \"SELECT DATE_TRUNC('\\''month'\\'', order_date) as month, SUM(revenue) as revenue FROM orders GROUP BY 1\",\n    \"dataset\": \"orders\"\n  }'\n</code></pre>"},{"location":"api-reference/sql/#python-example","title":"Python Example","text":"<pre><code>import requests\n\nresponse = requests.post(\n    \"http://localhost:8080/v1/sql\",\n    headers={\"X-API-Key\": \"your-api-key\"},\n    json={\n        \"sql\": \"SELECT * FROM orders WHERE revenue &gt; 1000\",\n        \"dataset\": \"orders\"\n    }\n)\n\ndata = response.json()\nprint(f\"Rows: {data['rowCount']}\")\n</code></pre>"},{"location":"api-reference/sql/#javascript-example","title":"JavaScript Example","text":"<pre><code>const response = await fetch('http://localhost:8080/v1/sql', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'X-API-Key': 'your-api-key'\n  },\n  body: JSON.stringify({\n    sql: 'SELECT city, SUM(revenue) FROM orders GROUP BY city',\n    dataset: 'orders'\n  })\n});\n\nconst data = await response.json();\nconsole.log(data.data);\n</code></pre>"},{"location":"api-reference/sql/#when-to-use-sql-vs-semantic-query","title":"When to Use SQL vs Semantic Query","text":"Use Case Recommended API Standard analytics <code>/v1/query</code> (Semantic) Complex joins <code>/v1/sql</code> Window functions <code>/v1/sql</code> CTEs <code>/v1/sql</code> Simple aggregations <code>/v1/query</code> (Semantic) BI tool integration <code>/v1/query</code> or OData"},{"location":"api-reference/sql/#error-handling","title":"Error Handling","text":""},{"location":"api-reference/sql/#invalid-query","title":"Invalid Query","text":"<pre><code>{\n  \"detail\": \"Only SELECT queries are allowed\"\n}\n</code></pre>"},{"location":"api-reference/sql/#dangerous-operation","title":"Dangerous Operation","text":"<pre><code>{\n  \"detail\": \"Query contains disallowed operation\"\n}\n</code></pre>"},{"location":"api-reference/sql/#execution-error","title":"Execution Error","text":"<pre><code>{\n  \"detail\": \"Query execution failed: column 'xyz' not found\"\n}\n</code></pre>"},{"location":"api-reference/sql/#sql-dialect-conversion","title":"SQL Dialect Conversion","text":"<p>SetuPranali uses SQLGlot to automatically convert SQL between database dialects. When you execute a query, the SQL is automatically converted to match your data source's dialect.</p>"},{"location":"api-reference/sql/#example","title":"Example","text":"<pre><code># Your SQL (works with any dialect)\ncurl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: your-key\" \\\n  -d '{\n    \"sql\": \"SELECT DATE_TRUNC('\\''month'\\'', order_date) as month, SUM(revenue) FROM orders GROUP BY 1\",\n    \"dataset\": \"orders\"\n  }'\n\n# Automatically converted to:\n# - PostgreSQL: DATE_TRUNC('month', order_date)\n# - Snowflake: DATE_TRUNC('month', order_date)  \n# - BigQuery: DATE_TRUNC(order_date, MONTH)\n</code></pre>"},{"location":"api-reference/sql/#supported-dialects","title":"Supported Dialects","text":"<p>All major database dialects are supported: - PostgreSQL, MySQL, Snowflake, BigQuery - Databricks, Redshift, ClickHouse - DuckDB, Trino, Presto, SQL Server, Oracle - And more...</p> <p>See SQL Dialect Conversion for details.</p>"},{"location":"api-reference/sql/#next-steps","title":"Next Steps","text":"<ul> <li>Query API Reference</li> <li>GraphQL API</li> <li>Row-Level Security</li> <li>SQL Dialect Conversion</li> </ul>"},{"location":"concepts/","title":"Concepts","text":"<p>Understand the core concepts behind SetuPranali.</p>"},{"location":"concepts/#overview","title":"Overview","text":"<p>SetuPranali is a semantic gateway that sits between your  BI tools and your data sources. It provides:</p> <ul> <li>Unified Access: One API for all BI tools</li> <li>Security Layer: Authentication and authorization</li> <li>Semantic Layer: Consistent metrics and dimensions</li> <li>Performance Layer: Caching and rate limiting</li> </ul>"},{"location":"concepts/#core-concepts","title":"Core Concepts","text":"<ul> <li> <p> Architecture</p> <p>How the system is structured and how data flows.</p> <p> Architecture</p> </li> <li> <p> Semantic Layer</p> <p>Datasets, dimensions, metrics, and relationships.</p> <p> Semantic Layer</p> </li> <li> <p> Security Model</p> <p>Authentication, authorization, and row-level security.</p> <p> Security</p> </li> <li> <p> Caching</p> <p>Query caching and deduplication.</p> <p> Caching</p> </li> <li> <p> Rate Limiting</p> <p>Protecting your data warehouse.</p> <p> Rate Limiting</p> </li> </ul>"},{"location":"concepts/#how-it-works","title":"How It Works","text":"<pre><code>sequenceDiagram\n    participant BI as BI Tool\n    participant API as SetuPranali\n    participant Cache as Redis Cache\n    participant DB as Data Warehouse\n\n    BI-&gt;&gt;API: Query (with API Key)\n    API-&gt;&gt;API: Validate API Key\n    API-&gt;&gt;API: Apply RLS\n    API-&gt;&gt;Cache: Check Cache\n\n    alt Cache Hit\n        Cache--&gt;&gt;API: Cached Result\n    else Cache Miss\n        API-&gt;&gt;DB: Execute SQL\n        DB--&gt;&gt;API: Results\n        API-&gt;&gt;Cache: Store Result\n    end\n\n    API--&gt;&gt;BI: JSON Response</code></pre>"},{"location":"concepts/#key-principles","title":"Key Principles","text":""},{"location":"concepts/#1-security-first","title":"1. Security First","text":"<ul> <li>Database credentials never touch BI tools</li> <li>Every request is authenticated</li> <li>Row-level security is automatic</li> <li>Tenant isolation is enforced</li> </ul>"},{"location":"concepts/#2-source-of-truth","title":"2. Source of Truth","text":"<ul> <li>One definition of each metric</li> <li>Consistent across all BI tools</li> <li>Version-controlled in YAML</li> <li>No drift between dashboards</li> </ul>"},{"location":"concepts/#3-performance","title":"3. Performance","text":"<ul> <li>Intelligent caching reduces load</li> <li>Query deduplication prevents stampedes</li> <li>Rate limiting protects resources</li> <li>Connection pooling for efficiency</li> </ul>"},{"location":"concepts/#4-flexibility","title":"4. Flexibility","text":"<ul> <li>Works with any database</li> <li>Works with any BI tool</li> <li>No vendor lock-in</li> <li>Bring your own models</li> </ul>"},{"location":"concepts/architecture/","title":"Architecture","text":"<p>How SetuPranali is designed and how data flows through the system.</p>"},{"location":"concepts/architecture/#system-overview","title":"System Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         BI TOOLS                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Power BI   \u2502   Tableau   \u2502    Excel    \u2502   Looker    \u2502    API     \u2502\n\u2502   (OData)   \u2502    (WDC)    \u2502   (OData)   \u2502   (REST)    \u2502   (REST)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502             \u2502             \u2502             \u2502            \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                   \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502                             \u2502\n                    \u2502       SETUPRANALI           \u2502\n                    \u2502                             \u2502\n                    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n                    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n                    \u2502  \u2502   Authentication    \u2502    \u2502\n                    \u2502  \u2502   (API Key Check)   \u2502    \u2502\n                    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n                    \u2502             \u2502               \u2502\n                    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n                    \u2502  \u2502   Authorization     \u2502    \u2502\n                    \u2502  \u2502   (RLS Injection)   \u2502    \u2502\n                    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n                    \u2502             \u2502               \u2502\n                    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n                    \u2502  \u2502   Query Engine      \u2502    \u2502\n                    \u2502  \u2502   (SQL Generation)  \u2502    \u2502\n                    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n                    \u2502             \u2502               \u2502\n                    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502  \u2502   Cache Layer       \u2502\u25c4\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2502  Redis  \u2502\n                    \u2502  \u2502   (Deduplication)   \u2502    \u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n                    \u2502             \u2502               \u2502\n                    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n                    \u2502  \u2502   Rate Limiter      \u2502    \u2502\n                    \u2502  \u2502   (Protection)      \u2502    \u2502\n                    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n                    \u2502             \u2502               \u2502\n                    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n                    \u2502  \u2502   Adapter Layer     \u2502    \u2502\n                    \u2502  \u2502   (DB Abstraction)  \u2502    \u2502\n                    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n                    \u2502             \u2502               \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                  \u2502\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u2502                         \u2502                            \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Snowflake  \u2502   \u2502       BigQuery          \u2502   \u2502     PostgreSQL      \u2502\n\u2502             \u2502   \u2502                         \u2502   \u2502                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/architecture/#components","title":"Components","text":""},{"location":"concepts/architecture/#api-layer","title":"API Layer","text":"<p>The API layer exposes multiple protocols:</p> Protocol Endpoint Use Case REST <code>/v1/query</code> Programmatic access OData <code>/odata/{dataset}</code> Power BI, Excel WDC <code>/wdc/</code> Tableau Health <code>/health</code> Monitoring"},{"location":"concepts/architecture/#authentication","title":"Authentication","text":"<p>Every request requires an API key:</p> <pre><code># app/security.py\ndef require_api_key(request: Request) -&gt; TenantContext:\n    api_key = request.headers.get(\"X-API-Key\")\n\n    # Validate key\n    key_config = validate_key(api_key)\n\n    # Return tenant context\n    return TenantContext(\n        tenant=key_config.tenant,\n        role=key_config.role\n    )\n</code></pre>"},{"location":"concepts/architecture/#authorization-rls","title":"Authorization (RLS)","text":"<p>Row-level security is injected automatically:</p> <pre><code># app/query_engine.py\ndef apply_rls(query: str, context: TenantContext, dataset: Dataset) -&gt; str:\n    if dataset.rls and context.tenant:\n        rls_clause = f\"{dataset.rls.tenant_column} = '{context.tenant}'\"\n        query = inject_where_clause(query, rls_clause)\n    return query\n</code></pre>"},{"location":"concepts/architecture/#query-engine","title":"Query Engine","text":"<p>Translates semantic requests to SQL using SQLGlot:</p> <p>SQLGlot Integration: - Parses and validates SQL queries - Converts between database dialects automatically - Builds queries programmatically (prevents SQL injection) - Applies RLS filters safely using AST manipulation</p> <p>Query Flow: <pre><code>{                                  SQLGlot AST\n  \"dataset\": \"sales\",      \u2192         (parsed)\n  \"dimensions\": [\"region\"],          \u2193\n  \"metrics\": [\"revenue\"]           Convert to dialect\n}                                  \u2193\n                                   SELECT\n                                     region,\n                                     SUM(amount) AS revenue\n                                   FROM fact_sales\n                                   WHERE tenant_id = 'acme'\n                                   GROUP BY region\n</code></pre></p> <p>Dialect Conversion: - PostgreSQL SQL \u2192 Snowflake SQL (automatic) - BigQuery SQL \u2192 PostgreSQL SQL (automatic) - All major dialects supported</p>"},{"location":"concepts/architecture/#cache-layer","title":"Cache Layer","text":"<p>Redis-based caching with deduplication:</p> <pre><code># Cache key includes query + tenant\ncache_key = hash(query_params, tenant_id)\n\n# Check cache\ncached = redis.get(cache_key)\nif cached:\n    return cached  # Cache hit\n\n# Execute query\nresult = execute_query(...)\n\n# Store in cache\nredis.setex(cache_key, ttl=300, value=result)\n</code></pre>"},{"location":"concepts/architecture/#adapter-layer","title":"Adapter Layer","text":"<p>Database-agnostic abstraction:</p> <pre><code>class BaseAdapter(ABC):\n    @abstractmethod\n    def connect(self) -&gt; Any:\n        \"\"\"Establish connection\"\"\"\n\n    @abstractmethod\n    def execute_query(self, sql: str) -&gt; Tuple[List, List[Dict]]:\n        \"\"\"Execute SQL and return (rows, columns)\"\"\"\n</code></pre>"},{"location":"concepts/architecture/#data-flow","title":"Data Flow","text":""},{"location":"concepts/architecture/#query-flow","title":"Query Flow","text":"<pre><code>flowchart LR\n    A[BI Tool] --&gt;|1. Request| B[API Gateway]\n    B --&gt;|2. Auth| C{Valid?}\n    C --&gt;|No| D[401 Error]\n    C --&gt;|Yes| E[Apply RLS]\n    E --&gt;|3. Check| F{Cached?}\n    F --&gt;|Yes| G[Return Cache]\n    F --&gt;|No| H[Generate SQL]\n    H --&gt;|4. Execute| I[Database]\n    I --&gt;|5. Results| J[Cache + Return]</code></pre>"},{"location":"concepts/architecture/#detailed-steps","title":"Detailed Steps","text":"<ol> <li>Request Received</li> <li>API key extracted from header</li> <li> <p>Request parsed (JSON or OData)</p> </li> <li> <p>Authentication</p> </li> <li>API key validated</li> <li> <p>Tenant context created</p> </li> <li> <p>Authorization</p> </li> <li>RLS rules looked up</li> <li> <p>WHERE clause prepared</p> </li> <li> <p>Cache Check</p> </li> <li>Cache key computed</li> <li> <p>Redis lookup performed</p> </li> <li> <p>Query Generation</p> </li> <li>Semantic model resolved</li> <li>SQL constructed</li> <li> <p>RLS injected</p> </li> <li> <p>Execution</p> </li> <li>Connection obtained</li> <li>Query executed</li> <li> <p>Results fetched</p> </li> <li> <p>Response</p> </li> <li>Results cached</li> <li>JSON returned</li> </ol>"},{"location":"concepts/architecture/#deployment-topology","title":"Deployment Topology","text":""},{"location":"concepts/architecture/#single-node","title":"Single Node","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Docker Container         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  SetuPranali (8080)    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Redis (6379)          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/architecture/#high-availability","title":"High Availability","text":"<pre><code>                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502  Load Balancer  \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502                 \u2502                 \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502   UBI #1    \u2502   \u2502   UBI #2    \u2502   \u2502   UBI #3    \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502                 \u2502                 \u2502\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502  Redis Cluster  \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/architecture/#performance-considerations","title":"Performance Considerations","text":""},{"location":"concepts/architecture/#connection-pooling","title":"Connection Pooling","text":"<p>Each adapter maintains a connection pool:</p> <pre><code># PostgreSQL example\npool = psycopg2.pool.ThreadedConnectionPool(\n    minconn=1,\n    maxconn=10,\n    **connection_params\n)\n</code></pre>"},{"location":"concepts/architecture/#query-optimization","title":"Query Optimization","text":"<ul> <li>Pushdown filters to database</li> <li>Limit result sets</li> <li>Use database-native aggregations</li> </ul>"},{"location":"concepts/architecture/#cache-strategy","title":"Cache Strategy","text":"Strategy TTL Use Case Short-lived 60s Real-time dashboards Medium 300s Standard reports Long-lived 3600s Historical analysis"},{"location":"concepts/architecture/#security-architecture","title":"Security Architecture","text":""},{"location":"concepts/architecture/#defense-in-depth","title":"Defense in Depth","text":"<pre><code>Layer 1: Network (Firewall, VPN)\n    \u2193\nLayer 2: TLS (Encryption in transit)\n    \u2193\nLayer 3: API Key (Authentication)\n    \u2193\nLayer 4: RLS (Authorization)\n    \u2193\nLayer 5: Rate Limiting (Abuse prevention)\n    \u2193\nLayer 6: Query Guards (Resource protection)\n</code></pre>"},{"location":"concepts/architecture/#credential-isolation","title":"Credential Isolation","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  BI USERS                         \u2502\n\u2502  (Never see database credentials)                 \u2502\n\u2502  Only have: API Key                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n                      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               SETUPRANALI                         \u2502\n\u2502  Has: Encrypted database credentials              \u2502\n\u2502  Stores: In SQLite with Fernet encryption         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n                      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              DATA WAREHOUSE                       \u2502\n\u2502  Has: Service account with minimal permissions    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/caching/","title":"Caching","text":"<p>How SetuPranali caches queries for performance.</p>"},{"location":"concepts/caching/#overview","title":"Overview","text":"<p>Caching reduces load on your data warehouse and speeds up repeated queries.</p> <pre><code>flowchart LR\n    A[Query] --&gt; B{Cache Hit?}\n    B --&gt;|Yes| C[Return Cached]\n    B --&gt;|No| D[Execute Query]\n    D --&gt; E[Store in Cache]\n    E --&gt; F[Return Result]</code></pre>"},{"location":"concepts/caching/#how-it-works","title":"How It Works","text":""},{"location":"concepts/caching/#cache-key","title":"Cache Key","text":"<p>Each query generates a unique cache key based on:</p> <ul> <li>Dataset name</li> <li>Dimensions</li> <li>Metrics</li> <li>Filters</li> <li>Sort order</li> <li>Tenant ID (RLS)</li> </ul> <pre><code>cache_key = hash(\n    dataset=\"orders\",\n    dimensions=[\"region\"],\n    metrics=[\"revenue\"],\n    filters=[...],\n    tenant=\"acme_corp\"\n)\n</code></pre> <p>Tenant Isolation</p> <p>Tenant ID is always part of the cache key. Tenant A cannot see Tenant B's cached results.</p>"},{"location":"concepts/caching/#cache-storage","title":"Cache Storage","text":"<p>Redis stores cached results:</p> <pre><code># .env\nREDIS_URL=redis://localhost:6379\nCACHE_TTL_SECONDS=300\n</code></pre>"},{"location":"concepts/caching/#cache-entry","title":"Cache Entry","text":"<pre><code>{\n  \"columns\": [...],\n  \"rows\": [...],\n  \"stats\": {...},\n  \"cachedAt\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"concepts/caching/#configuration","title":"Configuration","text":""},{"location":"concepts/caching/#environment-variables","title":"Environment Variables","text":"Variable Default Description <code>REDIS_URL</code> <code>redis://localhost:6379</code> Redis connection URL <code>CACHE_TTL_SECONDS</code> <code>300</code> Cache duration (5 min) <code>CACHE_MAX_SIZE_MB</code> <code>100</code> Max cache size <code>CACHE_ENABLED</code> <code>true</code> Enable/disable caching"},{"location":"concepts/caching/#redis-setup","title":"Redis Setup","text":"DockerDocker RunKubernetes <pre><code>services:\n  redis:\n    image: redis:7-alpine\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - redis-data:/data\n</code></pre> <pre><code>docker run -d --name redis -p 6379:6379 redis:7-alpine\n</code></pre> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: redis\nspec:\n  replicas: 1\n  template:\n    spec:\n      containers:\n        - name: redis\n          image: redis:7-alpine\n          ports:\n            - containerPort: 6379\n</code></pre>"},{"location":"concepts/caching/#cache-behavior","title":"Cache Behavior","text":""},{"location":"concepts/caching/#cache-hit","title":"Cache Hit","text":"<p>When a matching query is found:</p> <pre><code>{\n  \"columns\": [...],\n  \"rows\": [...],\n  \"stats\": {\n    \"cached\": true,\n    \"cachedAt\": \"2024-01-15T10:30:00Z\",\n    \"executionTimeMs\": 2\n  }\n}\n</code></pre>"},{"location":"concepts/caching/#cache-miss","title":"Cache Miss","text":"<p>When no cached result exists:</p> <pre><code>{\n  \"columns\": [...],\n  \"rows\": [...],\n  \"stats\": {\n    \"cached\": false,\n    \"executionTimeMs\": 234\n  }\n}\n</code></pre>"},{"location":"concepts/caching/#query-deduplication","title":"Query Deduplication","text":"<p>When multiple identical queries arrive simultaneously:</p> <pre><code>Query A \u2500\u2500\u2510\nQuery B \u2500\u2500\u253c\u2500\u2500 First query executes \u2500\u2500\u2192 Single DB call\nQuery C \u2500\u2500\u2518                          \u2193\n                                All three get same result\n</code></pre> <p>This prevents \"thundering herd\" problems during dashboard loads.</p>"},{"location":"concepts/caching/#how-it-works_1","title":"How It Works","text":"<pre><code># Pseudocode\nlock = acquire_lock(cache_key, timeout=5)\nif lock:\n    # First request: execute and cache\n    result = execute_query()\n    cache.set(cache_key, result)\n    release_lock(lock)\nelse:\n    # Waiting requests: poll cache\n    result = wait_for_cache(cache_key)\n</code></pre>"},{"location":"concepts/caching/#cache-invalidation","title":"Cache Invalidation","text":""},{"location":"concepts/caching/#ttl-based","title":"TTL-Based","text":"<p>Cached entries expire automatically:</p> <pre><code>CACHE_TTL_SECONDS=300  # 5 minutes\n</code></pre>"},{"location":"concepts/caching/#manual-invalidation","title":"Manual Invalidation","text":"<p>Clear cache for a dataset:</p> <pre><code>curl -X POST http://localhost:8080/admin/cache/clear \\\n  -H \"X-API-Key: admin-key\" \\\n  -d '{\"dataset\": \"orders\"}'\n</code></pre> <p>Clear all cache:</p> <pre><code>curl -X POST http://localhost:8080/admin/cache/clear-all \\\n  -H \"X-API-Key: admin-key\"\n</code></pre>"},{"location":"concepts/caching/#event-based","title":"Event-Based","text":"<p>Invalidate on data changes (advanced):</p> <pre><code># After ETL completes\nredis.delete_pattern(\"cache:orders:*\")\n</code></pre>"},{"location":"concepts/caching/#cache-strategies","title":"Cache Strategies","text":""},{"location":"concepts/caching/#real-time-dashboards","title":"Real-Time Dashboards","text":"<p>Short TTL for fresh data:</p> <pre><code>CACHE_TTL_SECONDS=60  # 1 minute\n</code></pre>"},{"location":"concepts/caching/#standard-reports","title":"Standard Reports","text":"<p>Medium TTL for balance:</p> <pre><code>CACHE_TTL_SECONDS=300  # 5 minutes\n</code></pre>"},{"location":"concepts/caching/#historical-analysis","title":"Historical Analysis","text":"<p>Long TTL for efficiency:</p> <pre><code>CACHE_TTL_SECONDS=3600  # 1 hour\n</code></pre>"},{"location":"concepts/caching/#per-dataset-ttl-advanced","title":"Per-Dataset TTL (Advanced)","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: real_time_orders\n    cache_ttl: 30\n\n  - name: historical_sales\n    cache_ttl: 3600\n</code></pre>"},{"location":"concepts/caching/#monitoring","title":"Monitoring","text":""},{"location":"concepts/caching/#cache-statistics","title":"Cache Statistics","text":"<pre><code>curl http://localhost:8080/admin/cache/stats \\\n  -H \"X-API-Key: admin-key\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"hits\": 1523,\n  \"misses\": 342,\n  \"hitRate\": 0.817,\n  \"memoryUsedMb\": 45.2,\n  \"keyCount\": 892\n}\n</code></pre>"},{"location":"concepts/caching/#redis-metrics","title":"Redis Metrics","text":"<pre><code>redis-cli INFO stats\n</code></pre> <p>Key metrics: - <code>keyspace_hits</code> - <code>keyspace_misses</code> - <code>used_memory</code> - <code>connected_clients</code></p>"},{"location":"concepts/caching/#performance-impact","title":"Performance Impact","text":""},{"location":"concepts/caching/#with-caching","title":"With Caching","text":"Scenario Without Cache With Cache Improvement Simple query 150ms 5ms 30x Complex aggregation 2000ms 5ms 400x Dashboard load (10 queries) 3000ms 200ms 15x"},{"location":"concepts/caching/#database-load-reduction","title":"Database Load Reduction","text":"<p>With a 5-minute TTL and typical usage:</p> <ul> <li>10 users refreshing every 30 seconds</li> <li>Without cache: 200 queries/minute</li> <li>With cache: ~2 queries/minute (deduplication)</li> <li>99% reduction in database load</li> </ul>"},{"location":"concepts/caching/#best-practices","title":"Best Practices","text":""},{"location":"concepts/caching/#sizing","title":"Sizing","text":"<pre><code># Estimate cache size\n# Avg result: 50KB \u00d7 1000 queries = 50MB\nCACHE_MAX_SIZE_MB=100\n</code></pre>"},{"location":"concepts/caching/#redis-configuration","title":"Redis Configuration","text":"<pre><code># redis.conf\nmaxmemory 256mb\nmaxmemory-policy allkeys-lru  # Evict least recently used\n</code></pre>"},{"location":"concepts/caching/#high-availability","title":"High Availability","text":"<pre><code># Redis Sentinel or Cluster for production\nREDIS_URL=redis://sentinel:26379/0?sentinel=mymaster\n</code></pre>"},{"location":"concepts/caching/#monitoring-alerts","title":"Monitoring Alerts","text":"<p>Set up alerts for:</p> <ul> <li>Cache hit rate &lt; 70%</li> <li>Redis memory &gt; 80%</li> <li>Cache misses spike</li> <li>Redis connection failures</li> </ul>"},{"location":"concepts/caching/#troubleshooting","title":"Troubleshooting","text":""},{"location":"concepts/caching/#low-hit-rate","title":"Low Hit Rate","text":"<p>Symptoms: Hit rate &lt; 50%</p> <p>Causes: - TTL too short - Many unique queries - High cardinality dimensions</p> <p>Solutions: - Increase TTL - Review query patterns - Add query standardization</p>"},{"location":"concepts/caching/#redis-connection-issues","title":"Redis Connection Issues","text":"<p>Symptoms: \"Redis connection refused\"</p> <p>Causes: - Redis not running - Wrong URL - Network issues</p> <p>Solutions: <pre><code># Check Redis\nredis-cli ping\n\n# Check connection\ncurl http://localhost:8080/health\n</code></pre></p>"},{"location":"concepts/caching/#cache-not-working","title":"Cache Not Working","text":"<p>Symptoms: Every query hits database</p> <p>Causes: - <code>CACHE_ENABLED=false</code> - Redis not connected - TTL = 0</p> <p>Solutions: <pre><code># Verify settings\necho $CACHE_ENABLED\necho $CACHE_TTL_SECONDS\nredis-cli ping\n</code></pre></p>"},{"location":"concepts/rate-limiting/","title":"Rate Limiting","text":"<p>Protect your data warehouse from abuse and overload.</p>"},{"location":"concepts/rate-limiting/#overview","title":"Overview","text":"<p>Rate limiting controls how many requests each API key can make:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     RATE LIMITER                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  API Key: pk_acme_abc123                                \u2502\n\u2502  Limit: 100/minute                                      \u2502\n\u2502  Current: 45/100 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591              \u2502\n\u2502  Resets: 32 seconds                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/rate-limiting/#configuration","title":"Configuration","text":""},{"location":"concepts/rate-limiting/#environment-variables","title":"Environment Variables","text":"<pre><code># .env\nRATE_LIMIT_QUERY=100/minute     # Query API limit\nRATE_LIMIT_ODATA=50/minute      # OData endpoint limit\nRATE_LIMIT_SOURCES=10/minute    # Source management limit\n</code></pre>"},{"location":"concepts/rate-limiting/#rate-limit-format","title":"Rate Limit Format","text":"<pre><code>{count}/{period}\n</code></pre> Period Description <code>second</code> Per second <code>minute</code> Per minute <code>hour</code> Per hour <code>day</code> Per day <p>Examples: - <code>100/minute</code> - 100 requests per minute - <code>1000/hour</code> - 1000 requests per hour - <code>10/second</code> - 10 requests per second</p>"},{"location":"concepts/rate-limiting/#how-it-works","title":"How It Works","text":""},{"location":"concepts/rate-limiting/#token-bucket-algorithm","title":"Token Bucket Algorithm","text":"<p>Each API key has a \"bucket\" of tokens:</p> <ol> <li>Bucket starts full (100 tokens)</li> <li>Each request consumes 1 token</li> <li>Tokens refill over time</li> <li>Empty bucket = rate limited</li> </ol> <pre><code>Time 0:00  [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100/100\nTime 0:10  [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591]  60/100  (40 requests)\nTime 0:20  [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591]  80/100  (tokens refilling)\nTime 0:30  [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100/100  (full again)\n</code></pre>"},{"location":"concepts/rate-limiting/#per-key-isolation","title":"Per-Key Isolation","text":"<p>Each API key has its own bucket:</p> <pre><code>pk_acme_abc123:   [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100/100\npk_globex_xyz789: [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591]  40/100\npk_wayne_555555:  [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591]  90/100\n</code></pre> <p>One tenant can't exhaust another's quota.</p>"},{"location":"concepts/rate-limiting/#rate-limit-headers","title":"Rate Limit Headers","text":"<p>Every response includes rate limit headers:</p> <pre><code>HTTP/1.1 200 OK\nX-RateLimit-Limit: 100\nX-RateLimit-Remaining: 55\nX-RateLimit-Reset: 1705320600\n</code></pre> Header Description <code>X-RateLimit-Limit</code> Maximum requests allowed <code>X-RateLimit-Remaining</code> Requests left in window <code>X-RateLimit-Reset</code> Unix timestamp when limit resets"},{"location":"concepts/rate-limiting/#rate-limited-response","title":"Rate Limited Response","text":"<p>When limit exceeded:</p> <pre><code>HTTP/1.1 429 Too Many Requests\nRetry-After: 42\nContent-Type: application/json\n\n{\n  \"detail\": \"Rate limit exceeded\",\n  \"limit\": 100,\n  \"remaining\": 0,\n  \"reset_in_seconds\": 42\n}\n</code></pre>"},{"location":"concepts/rate-limiting/#handling-429-responses","title":"Handling 429 Responses","text":"<pre><code>import time\nimport requests\n\ndef query_with_retry(payload, max_retries=3):\n    for attempt in range(max_retries):\n        response = requests.post(\n            \"http://localhost:8080/v1/query\",\n            headers={\"X-API-Key\": API_KEY},\n            json=payload\n        )\n\n        if response.status_code == 429:\n            retry_after = int(response.headers.get(\"Retry-After\", 60))\n            print(f\"Rate limited. Retrying in {retry_after}s...\")\n            time.sleep(retry_after)\n            continue\n\n        return response.json()\n\n    raise Exception(\"Max retries exceeded\")\n</code></pre>"},{"location":"concepts/rate-limiting/#endpoint-limits","title":"Endpoint Limits","text":"<p>Different endpoints have different limits:</p> Endpoint Default Limit Rationale <code>/v1/query</code> 100/minute Main query endpoint <code>/odata/*</code> 50/minute Power BI connections <code>/v1/sources</code> 10/minute Management operations <code>/health</code> Unlimited Monitoring"},{"location":"concepts/rate-limiting/#why-different-limits","title":"Why Different Limits?","text":"<ul> <li>Query endpoints: High traffic, need protection</li> <li>Management endpoints: Rare operations, strict limits</li> <li>Health checks: Always available for monitoring</li> </ul>"},{"location":"concepts/rate-limiting/#customization","title":"Customization","text":""},{"location":"concepts/rate-limiting/#per-key-limits-advanced","title":"Per-Key Limits (Advanced)","text":"<pre><code>api_keys:\n  - key: \"pk_premium_xxx\"\n    tenant: premium_corp\n    rate_limit: \"500/minute\"  # Premium tier\n\n  - key: \"pk_basic_yyy\"\n    tenant: basic_corp\n    rate_limit: \"50/minute\"   # Basic tier\n</code></pre>"},{"location":"concepts/rate-limiting/#burst-allowance","title":"Burst Allowance","text":"<p>Allow short bursts above the limit:</p> <pre><code>RATE_LIMIT_QUERY=100/minute\nRATE_LIMIT_BURST=20  # Allow 20 extra requests\n</code></pre>"},{"location":"concepts/rate-limiting/#monitoring","title":"Monitoring","text":""},{"location":"concepts/rate-limiting/#rate-limit-metrics","title":"Rate Limit Metrics","text":"<pre><code>curl http://localhost:8080/admin/rate-limits \\\n  -H \"X-API-Key: admin-key\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"keys\": [\n    {\n      \"key_prefix\": \"pk_acme_***\",\n      \"endpoint\": \"/v1/query\",\n      \"limit\": 100,\n      \"used\": 45,\n      \"remaining\": 55,\n      \"reset_at\": \"2024-01-15T10:31:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"concepts/rate-limiting/#logging","title":"Logging","text":"<p>Rate limit events are logged:</p> <pre><code>{\n  \"level\": \"WARN\",\n  \"event\": \"rate_limit_exceeded\",\n  \"api_key\": \"pk_acme_***\",\n  \"endpoint\": \"/v1/query\",\n  \"limit\": 100,\n  \"retry_after\": 42\n}\n</code></pre>"},{"location":"concepts/rate-limiting/#best-practices","title":"Best Practices","text":""},{"location":"concepts/rate-limiting/#setting-appropriate-limits","title":"Setting Appropriate Limits","text":"Use Case Recommended Limit Dashboard users 100/minute Automated reports 200/minute API integrations 500/minute Development/testing 50/minute"},{"location":"concepts/rate-limiting/#client-side-throttling","title":"Client-Side Throttling","text":"<p>Implement throttling in your application:</p> <pre><code>import time\nfrom ratelimit import limits, sleep_and_retry\n\n@sleep_and_retry\n@limits(calls=80, period=60)  # Stay under 100/min limit\ndef safe_query(payload):\n    return requests.post(url, json=payload)\n</code></pre>"},{"location":"concepts/rate-limiting/#dashboard-optimization","title":"Dashboard Optimization","text":"<p>Instead of many small queries:</p> <pre><code>// Bad: 10 separate queries\nfor (const metric of metrics) {\n  await query({ metrics: [metric] });\n}\n\n// Good: One combined query\nawait query({ metrics: metrics });\n</code></pre>"},{"location":"concepts/rate-limiting/#troubleshooting","title":"Troubleshooting","text":""},{"location":"concepts/rate-limiting/#frequent-rate-limiting","title":"Frequent Rate Limiting","text":"<p>Symptoms: Users hitting 429 often</p> <p>Causes: - Limit too low - Polling too frequently - Inefficient queries</p> <p>Solutions: - Increase rate limit - Implement client-side throttling - Combine queries - Add caching</p>"},{"location":"concepts/rate-limiting/#rate-limit-not-enforced","title":"Rate Limit Not Enforced","text":"<p>Symptoms: No 429 responses despite high traffic</p> <p>Causes: - Redis not connected - Rate limiting disabled - Admin key used</p> <p>Solutions: <pre><code># Check Redis\nredis-cli ping\n\n# Verify config\necho $RATE_LIMIT_QUERY\n</code></pre></p>"},{"location":"concepts/rate-limiting/#uneven-rate-limiting","title":"Uneven Rate Limiting","text":"<p>Symptoms: Some keys limited, others not</p> <p>Causes: - Per-key configuration - Different usage patterns</p> <p>Solutions: - Review per-key settings - Normalize rate limits</p>"},{"location":"concepts/security/","title":"Security Model","text":"<p>How SetuPranali protects your data.</p>"},{"location":"concepts/security/#overview","title":"Overview","text":"<p>Security is built into every layer:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Layer 1: Transport Security (TLS)                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Layer 2: Authentication (API Keys)                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Layer 3: Authorization (Row-Level Security)            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Layer 4: Rate Limiting (Abuse Prevention)              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Layer 5: Query Guards (Resource Protection)            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Layer 6: Credential Isolation (Encrypted Storage)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/security/#authentication","title":"Authentication","text":""},{"location":"concepts/security/#api-keys","title":"API Keys","text":"<p>Every request requires an API key in the <code>X-API-Key</code> header:</p> <pre><code>curl -H \"X-API-Key: pk_tenant_abc123\" \\\n     http://localhost:8080/v1/query\n</code></pre>"},{"location":"concepts/security/#key-configuration","title":"Key Configuration","text":"<pre><code># config.yaml\napi_keys:\n  # Admin key for management operations\n  - key: \"admin-key-xxxxx\"\n    role: admin\n    description: \"Platform admin\"\n\n  # Tenant-specific keys\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    role: analyst\n    description: \"Acme Corp analysts\"\n\n  - key: \"pk_globex_xyz789\"\n    tenant: globex_inc\n    role: analyst\n    description: \"Globex Inc analysts\"\n</code></pre>"},{"location":"concepts/security/#key-roles","title":"Key Roles","text":"Role Permissions <code>admin</code> Full access, manage sources, bypass RLS <code>analyst</code> Query datasets, subject to RLS <code>viewer</code> Read-only, limited datasets"},{"location":"concepts/security/#key-best-practices","title":"Key Best Practices","text":"<ul> <li>Use unique keys per tenant</li> <li>Rotate keys regularly</li> <li>Never share admin keys</li> <li>Use environment variables for storage</li> </ul>"},{"location":"concepts/security/#authorization-rls","title":"Authorization (RLS)","text":""},{"location":"concepts/security/#how-rls-works","title":"How RLS Works","text":"<p>Row-Level Security automatically filters data based on the API key's tenant.</p> <p>Configuration:</p> <pre><code>datasets:\n  - name: orders\n    table: orders\n    rls:\n      tenant_column: tenant_id\n</code></pre> <p>Request:</p> <pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_acme_abc123\" \\  # tenant: acme_corp\n  -d '{\"dataset\": \"orders\", \"metrics\": [\"revenue\"]}'\n</code></pre> <p>Generated SQL:</p> <pre><code>SELECT SUM(amount) AS revenue\nFROM orders\nWHERE tenant_id = 'acme_corp'  -- RLS injected automatically\n</code></pre>"},{"location":"concepts/security/#rls-cannot-be-bypassed","title":"RLS Cannot Be Bypassed","text":"<p>Users cannot:</p> <ul> <li>Remove the RLS filter</li> <li>Query other tenants' data</li> <li>Override with custom WHERE clauses</li> </ul>"},{"location":"concepts/security/#multi-column-rls","title":"Multi-Column RLS","text":"<pre><code>rls:\n  tenant_column: org_id\n  additional_filters:\n    - column: deleted_at\n      condition: IS NULL\n</code></pre>"},{"location":"concepts/security/#admin-bypass","title":"Admin Bypass","text":"<p>Admins can see all data:</p> <pre><code>api_keys:\n  - key: \"admin-key\"\n    role: admin  # Bypasses RLS\n</code></pre>"},{"location":"concepts/security/#rate-limiting","title":"Rate Limiting","text":"<p>Protect your data warehouse from abuse.</p>"},{"location":"concepts/security/#configuration","title":"Configuration","text":"<pre><code># .env\nRATE_LIMIT_QUERY=100/minute\nRATE_LIMIT_ODATA=50/minute\nRATE_LIMIT_SOURCES=10/minute\n</code></pre>"},{"location":"concepts/security/#per-key-limits","title":"Per-Key Limits","text":"<p>Each API key has its own rate limit bucket:</p> <pre><code>pk_acme_abc123: 45/100 used\npk_globex_xyz789: 12/100 used\n</code></pre>"},{"location":"concepts/security/#rate-limit-response","title":"Rate Limit Response","text":"<p>When exceeded:</p> <pre><code>{\n  \"detail\": \"Rate limit exceeded\",\n  \"retry_after\": 42\n}\n</code></pre> <p>HTTP Status: <code>429 Too Many Requests</code></p>"},{"location":"concepts/security/#query-guards","title":"Query Guards","text":"<p>Prevent runaway queries.</p>"},{"location":"concepts/security/#configuration_1","title":"Configuration","text":"<pre><code># .env\nMAX_DIMENSIONS=10\nMAX_METRICS=20\nMAX_ROWS=100000\nMAX_FILTER_DEPTH=5\nQUERY_TIMEOUT_SECONDS=30\n</code></pre>"},{"location":"concepts/security/#what-gets-blocked","title":"What Gets Blocked","text":"Guard Blocked Query <code>MAX_DIMENSIONS</code> Query with 15 dimensions <code>MAX_ROWS</code> Result set &gt; 100K rows <code>MAX_FILTER_DEPTH</code> Deeply nested filters <code>QUERY_TIMEOUT</code> Query running &gt; 30s"},{"location":"concepts/security/#error-response","title":"Error Response","text":"<pre><code>{\n  \"detail\": \"Query exceeds maximum dimensions (10)\"\n}\n</code></pre>"},{"location":"concepts/security/#credential-isolation","title":"Credential Isolation","text":""},{"location":"concepts/security/#the-problem","title":"The Problem","text":"<p>Traditional BI:</p> <pre><code>BI User \u2192 Database Credentials \u2192 Direct Access\n</code></pre> <p>Every user has database access. Credential sprawl. Security nightmares.</p>"},{"location":"concepts/security/#the-solution","title":"The Solution","text":"<p>SetuPranali:</p> <pre><code>BI User \u2192 API Key \u2192 SetuPranali \u2192 Database\n</code></pre> <ul> <li>BI users never see database credentials</li> <li>Credentials stored encrypted (Fernet AES-128)</li> <li>Single service account with minimal permissions</li> </ul>"},{"location":"concepts/security/#encryption","title":"Encryption","text":"<pre><code># Credentials encrypted at rest\nfrom cryptography.fernet import Fernet\n\nfernet = Fernet(secret_key)\nencrypted = fernet.encrypt(credentials.encode())\n</code></pre>"},{"location":"concepts/security/#storage","title":"Storage","text":"<pre><code>-- sources.db (SQLite)\nCREATE TABLE sources (\n    name TEXT PRIMARY KEY,\n    type TEXT,\n    connection_encrypted BLOB  -- Fernet encrypted\n);\n</code></pre>"},{"location":"concepts/security/#transport-security","title":"Transport Security","text":""},{"location":"concepts/security/#tls-configuration","title":"TLS Configuration","text":"<p>Always use HTTPS in production:</p> <pre><code># docker-compose.yml\nservices:\n  connector:\n    environment:\n      - SSL_CERT=/certs/server.crt\n      - SSL_KEY=/certs/server.key\n</code></pre>"},{"location":"concepts/security/#reverse-proxy","title":"Reverse Proxy","text":"<p>Recommended: Use nginx or Traefik for TLS termination:</p> <pre><code>server {\n    listen 443 ssl;\n    ssl_certificate /etc/ssl/certs/server.crt;\n    ssl_certificate_key /etc/ssl/private/server.key;\n\n    location / {\n        proxy_pass http://ubi-connector:8080;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n</code></pre>"},{"location":"concepts/security/#audit-logging","title":"Audit Logging","text":"<p>Track who accessed what.</p>"},{"location":"concepts/security/#log-format","title":"Log Format","text":"<pre><code>{\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"level\": \"INFO\",\n  \"event\": \"query\",\n  \"tenant\": \"acme_corp\",\n  \"dataset\": \"orders\",\n  \"dimensions\": [\"region\"],\n  \"metrics\": [\"revenue\"],\n  \"execution_ms\": 234,\n  \"cached\": false\n}\n</code></pre>"},{"location":"concepts/security/#whats-logged","title":"What's Logged","text":"<ul> <li>All query requests</li> <li>Authentication failures</li> <li>Rate limit hits</li> <li>Source operations</li> <li>Admin actions</li> </ul>"},{"location":"concepts/security/#security-checklist","title":"Security Checklist","text":""},{"location":"concepts/security/#production-deployment","title":"Production Deployment","text":"<ul> <li> Use HTTPS (TLS 1.2+)</li> <li> Generate strong <code>UBI_SECRET_KEY</code></li> <li> Use unique API keys per tenant</li> <li> Configure appropriate rate limits</li> <li> Set query guards</li> <li> Enable audit logging</li> <li> Regular key rotation</li> <li> Minimal database permissions</li> </ul>"},{"location":"concepts/security/#api-key-management","title":"API Key Management","text":"<ul> <li> Never commit keys to git</li> <li> Use environment variables</li> <li> Implement key rotation</li> <li> Revoke unused keys</li> <li> Monitor for abuse</li> </ul>"},{"location":"concepts/security/#network-security","title":"Network Security","text":"<ul> <li> Firewall rules configured</li> <li> VPN/private network for database</li> <li> IP allowlisting (if applicable)</li> <li> No public database access</li> </ul>"},{"location":"concepts/security/#compliance","title":"Compliance","text":""},{"location":"concepts/security/#soc-2","title":"SOC 2","text":"Control Implementation Access Control API key authentication Encryption TLS + Fernet at rest Logging Audit trail Monitoring Health checks, alerts"},{"location":"concepts/security/#gdpr","title":"GDPR","text":"Requirement Implementation Data Access Control RLS by tenant Audit Trail Request logging Data Minimization Query only needed fields Right to Erasure Per-tenant data isolation"},{"location":"concepts/security/#hipaa","title":"HIPAA","text":"Safeguard Implementation Access Control API keys + RLS Encryption TLS + Fernet Audit Controls Full request logging Transmission Security TLS required"},{"location":"concepts/semantic-layer/","title":"Semantic Layer","text":"<p>The semantic layer defines how your data is exposed to BI tools.</p>"},{"location":"concepts/semantic-layer/#overview","title":"Overview","text":"<p>A semantic layer provides:</p> <ul> <li>Abstraction: Hide SQL complexity from users</li> <li>Consistency: Same metric = same result everywhere</li> <li>Governance: Control what users can access</li> <li>Documentation: Self-describing data</li> </ul>"},{"location":"concepts/semantic-layer/#catalog-structure","title":"Catalog Structure","text":"<p>The semantic layer is defined in <code>catalog.yaml</code>:</p> <pre><code>datasets:\n  - name: sales\n    description: Sales transactions\n    source: snowflake-prod\n    table: fact_sales\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region_name\n        description: Sales region\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n        description: Total revenue\n\n    rls:\n      tenant_column: tenant_id\n</code></pre>"},{"location":"concepts/semantic-layer/#datasets","title":"Datasets","text":"<p>A dataset represents a queryable entity\u2014typically a table or view.</p>"},{"location":"concepts/semantic-layer/#basic-dataset","title":"Basic Dataset","text":"<pre><code>datasets:\n  - name: orders\n    source: postgres-prod\n    table: public.orders\n</code></pre>"},{"location":"concepts/semantic-layer/#with-schema","title":"With Schema","text":"<pre><code>datasets:\n  - name: orders\n    source: snowflake-prod\n    table: ANALYTICS.ORDERS  # database.schema.table\n</code></pre>"},{"location":"concepts/semantic-layer/#with-custom-sql","title":"With Custom SQL","text":"<pre><code>datasets:\n  - name: active_orders\n    source: postgres-prod\n    sql: |\n      SELECT * FROM orders \n      WHERE status != 'cancelled'\n</code></pre>"},{"location":"concepts/semantic-layer/#dimensions","title":"Dimensions","text":"<p>Dimensions are the \"by\" in \"revenue by region\". They're used for grouping.</p>"},{"location":"concepts/semantic-layer/#string-dimension","title":"String Dimension","text":"<pre><code>dimensions:\n  - name: region\n    type: string\n    expr: region_name\n    description: Geographic sales region\n</code></pre>"},{"location":"concepts/semantic-layer/#date-dimension","title":"Date Dimension","text":"<pre><code>dimensions:\n  - name: order_date\n    type: date\n    expr: order_date\n    description: Date the order was placed\n</code></pre>"},{"location":"concepts/semantic-layer/#computed-dimension","title":"Computed Dimension","text":"<pre><code>dimensions:\n  - name: order_month\n    type: string\n    expr: \"DATE_TRUNC('month', order_date)\"\n    description: Month of order\n</code></pre>"},{"location":"concepts/semantic-layer/#dimension-with-hierarchy","title":"Dimension with Hierarchy","text":"<pre><code>dimensions:\n  - name: region\n    type: string\n    expr: region\n    hierarchy:\n      - country\n      - state\n      - city\n</code></pre>"},{"location":"concepts/semantic-layer/#metrics","title":"Metrics","text":"<p>Metrics are aggregated values\u2014the \"what\" you're measuring.</p>"},{"location":"concepts/semantic-layer/#sum-metric","title":"Sum Metric","text":"<pre><code>metrics:\n  - name: revenue\n    type: number\n    expr: \"SUM(amount)\"\n    description: Total revenue\n    format: currency\n</code></pre>"},{"location":"concepts/semantic-layer/#count-metric","title":"Count Metric","text":"<pre><code>metrics:\n  - name: order_count\n    type: number\n    expr: \"COUNT(*)\"\n    description: Number of orders\n</code></pre>"},{"location":"concepts/semantic-layer/#average-metric","title":"Average Metric","text":"<pre><code>metrics:\n  - name: avg_order_value\n    type: number\n    expr: \"AVG(amount)\"\n    description: Average order value\n    format: currency\n</code></pre>"},{"location":"concepts/semantic-layer/#distinct-count","title":"Distinct Count","text":"<pre><code>metrics:\n  - name: unique_customers\n    type: number\n    expr: \"COUNT(DISTINCT customer_id)\"\n    description: Unique customers\n</code></pre>"},{"location":"concepts/semantic-layer/#ratio-metric","title":"Ratio Metric","text":"<pre><code>metrics:\n  - name: conversion_rate\n    type: number\n    expr: \"SUM(CASE WHEN converted THEN 1 ELSE 0 END)::float / COUNT(*)\"\n    description: Conversion rate\n    format: percent\n</code></pre>"},{"location":"concepts/semantic-layer/#field-types","title":"Field Types","text":"Type Description Example <code>string</code> Text values Region, Product <code>number</code> Numeric values Revenue, Count <code>date</code> Date values Order Date <code>datetime</code> Date + time Created At <code>boolean</code> True/false Is Active"},{"location":"concepts/semantic-layer/#expressions","title":"Expressions","text":"<p>Expressions define how fields map to SQL.</p>"},{"location":"concepts/semantic-layer/#simple-column","title":"Simple Column","text":"<pre><code>expr: region_name\n# \u2192 SELECT region_name\n</code></pre>"},{"location":"concepts/semantic-layer/#computed","title":"Computed","text":"<pre><code>expr: \"UPPER(region_name)\"\n# \u2192 SELECT UPPER(region_name)\n</code></pre>"},{"location":"concepts/semantic-layer/#aggregation","title":"Aggregation","text":"<pre><code>expr: \"SUM(amount)\"\n# \u2192 SELECT SUM(amount)\n</code></pre>"},{"location":"concepts/semantic-layer/#conditional","title":"Conditional","text":"<pre><code>expr: \"SUM(CASE WHEN status = 'completed' THEN amount ELSE 0 END)\"\n</code></pre>"},{"location":"concepts/semantic-layer/#database-specific","title":"Database-Specific","text":"<pre><code># Snowflake\nexpr: \"DATE_TRUNC('month', order_date)\"\n\n# PostgreSQL\nexpr: \"date_trunc('month', order_date)\"\n\n# BigQuery\nexpr: \"DATE_TRUNC(order_date, MONTH)\"\n</code></pre>"},{"location":"concepts/semantic-layer/#row-level-security","title":"Row-Level Security","text":"<p>Control which rows each tenant can see.</p>"},{"location":"concepts/semantic-layer/#basic-rls","title":"Basic RLS","text":"<pre><code>rls:\n  tenant_column: tenant_id\n</code></pre> <p>When a request comes with tenant <code>acme_corp</code>, the query becomes:</p> <pre><code>SELECT ... FROM orders WHERE tenant_id = 'acme_corp'\n</code></pre>"},{"location":"concepts/semantic-layer/#rls-with-custom-expression","title":"RLS with Custom Expression","text":"<pre><code>rls:\n  tenant_column: organization_id\n  expression: \"organization_id = '{tenant}'\"\n</code></pre>"},{"location":"concepts/semantic-layer/#rls-with-role-based-access","title":"RLS with Role-Based Access","text":"<pre><code>rls:\n  tenant_column: tenant_id\n  admin_bypass: true  # Admin role sees all\n</code></pre>"},{"location":"concepts/semantic-layer/#incremental-refresh","title":"Incremental Refresh","text":"<p>Enable efficient loading for BI tools.</p> <pre><code>incremental:\n  date_column: order_date\n  min_date: \"2020-01-01\"\n</code></pre> <p>This allows Power BI to request:</p> <pre><code>/odata/orders?$filter=order_date ge 2024-01-01 and order_date lt 2024-02-01\n</code></pre>"},{"location":"concepts/semantic-layer/#relationships","title":"Relationships","text":"<p>Define how datasets relate to each other.</p> <pre><code>datasets:\n  - name: orders\n    table: orders\n    relationships:\n      - name: customer\n        to: customers\n        type: many-to-one\n        join:\n          - orders.customer_id = customers.id\n\n  - name: customers\n    table: customers\n</code></pre>"},{"location":"concepts/semantic-layer/#complete-example","title":"Complete Example","text":"<pre><code># catalog.yaml\n\ndatasets:\n  # Sales dataset\n  - name: sales\n    description: Sales transactions with revenue and orders\n    source: snowflake-prod\n    table: ANALYTICS.FACT_SALES\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region_name\n        description: Geographic sales region\n\n      - name: product\n        type: string\n        expr: product_category\n        description: Product category\n\n      - name: order_date\n        type: date\n        expr: order_date\n        description: Date of order\n\n      - name: customer_segment\n        type: string\n        expr: customer_segment\n        description: Customer segment (Enterprise/SMB/Consumer)\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(sale_amount)\"\n        description: Total revenue\n        format: currency\n\n      - name: orders\n        type: number\n        expr: \"COUNT(*)\"\n        description: Number of orders\n\n      - name: avg_order_value\n        type: number\n        expr: \"AVG(sale_amount)\"\n        description: Average order value\n        format: currency\n\n      - name: unique_customers\n        type: number\n        expr: \"COUNT(DISTINCT customer_id)\"\n        description: Unique customers\n\n    rls:\n      tenant_column: tenant_id\n\n    incremental:\n      date_column: order_date\n      min_date: \"2020-01-01\"\n</code></pre>"},{"location":"concepts/semantic-layer/#best-practices","title":"Best Practices","text":""},{"location":"concepts/semantic-layer/#naming-conventions","title":"Naming Conventions","text":"Element Convention Example Dataset snake_case, plural <code>orders</code>, <code>sales</code> Dimension snake_case <code>region</code>, <code>order_date</code> Metric snake_case <code>revenue</code>, <code>order_count</code>"},{"location":"concepts/semantic-layer/#documentation","title":"Documentation","text":"<p>Always include descriptions:</p> <pre><code>dimensions:\n  - name: region\n    description: |\n      Geographic sales region based on customer billing address.\n      Values: North, South, East, West\n</code></pre>"},{"location":"concepts/semantic-layer/#performance","title":"Performance","text":"<ul> <li>Keep expressions simple</li> <li>Use database functions</li> <li>Avoid cross-joins</li> <li>Index frequently filtered columns</li> </ul>"},{"location":"concepts/sql-dialect-conversion/","title":"SQL Dialect Conversion","text":"<p>SetuPranali uses SQLGlot to automatically convert SQL queries between different database dialects.</p>"},{"location":"concepts/sql-dialect-conversion/#overview","title":"Overview","text":"<p>SQLGlot integration enables:</p> <ul> <li>Cross-Dialect Compatibility - Write queries once, run anywhere</li> <li>Automatic Conversion - Convert PostgreSQL SQL to Snowflake, BigQuery, etc.</li> <li>SQL Validation - Parse and validate SQL before execution</li> <li>Safe Query Building - Programmatic SQL generation prevents injection</li> </ul>"},{"location":"concepts/sql-dialect-conversion/#supported-dialects","title":"Supported Dialects","text":"Database SQLGlot Dialect Status PostgreSQL <code>postgres</code> \u2705 Full Support MySQL <code>mysql</code> \u2705 Full Support Snowflake <code>snowflake</code> \u2705 Full Support BigQuery <code>bigquery</code> \u2705 Full Support Databricks <code>spark</code> \u2705 Full Support Redshift <code>redshift</code> \u2705 Full Support ClickHouse <code>clickhouse</code> \u2705 Full Support DuckDB <code>duckdb</code> \u2705 Full Support Trino/Presto <code>trino</code> / <code>presto</code> \u2705 Full Support SQL Server <code>tsql</code> \u2705 Full Support Oracle <code>oracle</code> \u2705 Full Support SQLite <code>sqlite</code> \u2705 Full Support TimescaleDB <code>postgres</code> \u2705 Full Support CockroachDB <code>postgres</code> \u2705 Full Support"},{"location":"concepts/sql-dialect-conversion/#how-it-works","title":"How It Works","text":""},{"location":"concepts/sql-dialect-conversion/#automatic-dialect-detection","title":"Automatic Dialect Detection","text":"<p>When you execute a query, SetuPranali:</p> <ol> <li>Detects Source Dialect - From data source configuration</li> <li>Parses SQL - Using SQLGlot's parser</li> <li>Converts to Target - Transforms AST to target dialect</li> <li>Executes - Runs converted SQL on target database</li> </ol>"},{"location":"concepts/sql-dialect-conversion/#example","title":"Example","text":"<pre><code># Original SQL (PostgreSQL style)\nsql = \"SELECT DATE_TRUNC('month', order_date) as month, SUM(revenue) FROM orders GROUP BY 1\"\n\n# Automatically converted to Snowflake\n# SELECT DATE_TRUNC('month', order_date) AS month, SUM(revenue) FROM orders GROUP BY 1\n\n# Automatically converted to BigQuery\n# SELECT DATE_TRUNC(order_date, MONTH) AS month, SUM(revenue) FROM orders GROUP BY 1\n</code></pre>"},{"location":"concepts/sql-dialect-conversion/#sql-builder","title":"SQL Builder","text":"<p>The <code>SQLBuilder</code> class provides programmatic SQL generation:</p> <pre><code>from app.sql_builder import SQLBuilder\n\n# Create builder for target dialect\nbuilder = SQLBuilder(dialect=\"snowflake\")\n\n# Build query\nsql, params = builder.build_query(\n    dimensions=[\"city\", \"region\"],\n    metrics={\"total_revenue\": \"SUM(revenue)\", \"order_count\": \"COUNT(*)\"},\n    source_table=\"orders\",\n    filters={\n        \"and\": [\n            {\"field\": \"order_date\", \"op\": \"gte\", \"value\": \"2024-01-01\"},\n            {\"field\": \"status\", \"op\": \"eq\", \"value\": \"completed\"}\n        ]\n    },\n    group_by=[\"city\", \"region\"],\n    order_by=[(\"total_revenue\", \"DESC\")],\n    limit=100\n)\n\n# SQL is automatically in Snowflake dialect\nprint(sql)\n# SELECT \"city\", \"region\", SUM(revenue) AS \"total_revenue\", COUNT(*) AS \"order_count\"\n# FROM \"orders\"\n# WHERE \"order_date\" &gt;= ? AND \"status\" = ?\n# GROUP BY \"city\", \"region\"\n# ORDER BY \"total_revenue\" DESC\n# LIMIT 100\n</code></pre>"},{"location":"concepts/sql-dialect-conversion/#sql-validation","title":"SQL Validation","text":"<p>SQLGlot validates SQL before execution:</p> <pre><code>from app.sql_builder import SQLBuilder\n\n# Validate SQL\nis_valid, error = SQLBuilder.validate_sql(\n    \"SELECT * FROM orders WHERE revenue &gt; 1000\",\n    dialect=\"postgres\"\n)\n\nif not is_valid:\n    print(f\"SQL Error: {error}\")\n</code></pre>"},{"location":"concepts/sql-dialect-conversion/#security-benefits","title":"Security Benefits","text":"<ul> <li>Prevents SQL Injection - AST-based parsing catches malicious patterns</li> <li>Validates Syntax - Catches errors before execution</li> <li>Blocks Dangerous Operations - DDL/DML operations are rejected</li> </ul>"},{"location":"concepts/sql-dialect-conversion/#rls-filter-application","title":"RLS Filter Application","text":"<p>SQLGlot is used to inject Row-Level Security filters:</p> <pre><code># Original query\nsql = \"SELECT city, SUM(revenue) FROM orders GROUP BY city\"\n\n# After RLS injection (for tenant \"acme\")\n# WITH rls_filtered AS (\n#     SELECT * FROM (\n#         SELECT city, SUM(revenue) FROM orders GROUP BY city\n#     ) AS user_query\n#     WHERE tenant_id = 'acme'\n# )\n# SELECT * FROM rls_filtered\n</code></pre>"},{"location":"concepts/sql-dialect-conversion/#query-planner-integration","title":"Query Planner Integration","text":"<p>The Query Planner uses SQLGlot for:</p> <ul> <li>SQL Generation - Building queries from semantic components</li> <li>Join Construction - Creating JOIN clauses</li> <li>Filter Conversion - Converting filter objects to SQL</li> <li>Measure Expression Parsing - Validating metric expressions</li> </ul>"},{"location":"concepts/sql-dialect-conversion/#best-practices","title":"Best Practices","text":""},{"location":"concepts/sql-dialect-conversion/#1-use-semantic-queries-when-possible","title":"1. Use Semantic Queries When Possible","text":"<p>Semantic queries (<code>/v1/query</code>) automatically handle dialect conversion:</p> <pre><code># Works with any dialect\ncurl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"dimensions\": [{\"name\": \"city\"}],\n    \"metrics\": [{\"name\": \"total_revenue\"}]\n  }'\n</code></pre>"},{"location":"concepts/sql-dialect-conversion/#2-specify-dialect-for-raw-sql","title":"2. Specify Dialect for Raw SQL","text":"<p>When using <code>/v1/sql</code>, the dialect is detected from the dataset's source:</p> <pre><code># Dialect automatically detected from dataset source\ncurl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: your-key\" \\\n  -d '{\n    \"sql\": \"SELECT city FROM orders\",\n    \"dataset\": \"orders\"\n  }'\n</code></pre>"},{"location":"concepts/sql-dialect-conversion/#3-test-dialect-specific-features","title":"3. Test Dialect-Specific Features","text":"<p>Some features are dialect-specific:</p> <ul> <li>Window Functions - Syntax varies by dialect</li> <li>Date Functions - Different function names</li> <li>String Functions - Dialect-specific implementations</li> </ul>"},{"location":"concepts/sql-dialect-conversion/#4-use-sqlbuilder-for-complex-queries","title":"4. Use SQLBuilder for Complex Queries","text":"<p>For programmatic query building:</p> <pre><code>builder = SQLBuilder(dialect=\"bigquery\")\nsql, params = builder.build_query(...)\n</code></pre>"},{"location":"concepts/sql-dialect-conversion/#limitations","title":"Limitations","text":""},{"location":"concepts/sql-dialect-conversion/#not-supported","title":"Not Supported","text":"<ul> <li>Stored Procedures - Not converted</li> <li>User-Defined Functions - Dialect-specific</li> <li>Dialect-Specific Extensions - May not convert perfectly</li> </ul>"},{"location":"concepts/sql-dialect-conversion/#partial-support","title":"Partial Support","text":"<ul> <li>Window Functions - Basic support, advanced features may vary</li> <li>JSON Functions - Syntax differences between dialects</li> <li>Array Functions - Limited conversion</li> </ul>"},{"location":"concepts/sql-dialect-conversion/#migration-between-databases","title":"Migration Between Databases","text":"<p>SQLGlot makes it easy to migrate queries:</p> <pre><code>import sqlglot\n\n# Convert PostgreSQL to Snowflake\nsql_pg = \"SELECT DATE_TRUNC('month', created_at) FROM orders\"\nsql_sf = sqlglot.transpile(sql_pg, read=\"postgres\", write=\"snowflake\")[0]\n\n# Convert Snowflake to BigQuery\nsql_bq = sqlglot.transpile(sql_sf, read=\"snowflake\", write=\"bigquery\")[0]\n</code></pre>"},{"location":"concepts/sql-dialect-conversion/#troubleshooting","title":"Troubleshooting","text":""},{"location":"concepts/sql-dialect-conversion/#conversion-errors","title":"Conversion Errors","text":"<p>If SQL conversion fails:</p> <ol> <li>Check SQL syntax is valid</li> <li>Verify dialect is supported</li> <li>Review SQLGlot error message</li> <li>Use semantic queries instead</li> </ol>"},{"location":"concepts/sql-dialect-conversion/#performance","title":"Performance","text":"<p>SQLGlot parsing adds minimal overhead:</p> <ul> <li>Parse Time: &lt; 1ms for typical queries</li> <li>Conversion Time: &lt; 5ms for complex queries</li> <li>Cache: Parsed ASTs are cached</li> </ul>"},{"location":"concepts/sql-dialect-conversion/#references","title":"References","text":"<ul> <li>SQLGlot Documentation</li> <li>Query Planner Guide</li> <li>SQL API Reference</li> </ul>"},{"location":"deployment/","title":"Deployment","text":"<p>Deploy SetuPranali to production.</p>"},{"location":"deployment/#deployment-options","title":"Deployment Options","text":"<ul> <li> <p> Docker</p> <p>Single container or Docker Compose deployment.</p> <p> Docker Guide</p> </li> <li> <p> Kubernetes</p> <p>Scalable Kubernetes deployment with Helm.</p> <p> Kubernetes Guide</p> </li> <li> <p> Configuration</p> <p>Environment variables and settings.</p> <p> Configuration</p> </li> <li> <p> Production Checklist</p> <p>Pre-launch verification steps.</p> <p> Checklist</p> </li> </ul>"},{"location":"deployment/#quick-start","title":"Quick Start","text":""},{"location":"deployment/#docker","title":"Docker","text":"<pre><code>docker run -d \\\n  --name ubi-connector \\\n  -p 8080:8080 \\\n  -e UBI_SECRET_KEY=$(openssl rand -base64 32) \\\n  -v $(pwd)/catalog.yaml:/app/catalog.yaml \\\n  adeygifting/connector:latest\n</code></pre>"},{"location":"deployment/#docker-compose","title":"Docker Compose","text":"<pre><code>version: '3.8'\nservices:\n  connector:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - UBI_SECRET_KEY=${UBI_SECRET_KEY}\n      - REDIS_URL=redis://redis:6379\n    volumes:\n      - ./catalog.yaml:/app/catalog.yaml\n    depends_on:\n      - redis\n\n  redis:\n    image: redis:7-alpine\n</code></pre>"},{"location":"deployment/#architecture","title":"Architecture","text":""},{"location":"deployment/#minimal-setup","title":"Minimal Setup","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  SetuPranali (8080)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"deployment/#production-setup","title":"Production Setup","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  Load Balancer                       \u2502\n\u2502                  (HTTPS/TLS)                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502              \u2502              \u2502\n  \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Connector \u2502  \u2502 Connector \u2502  \u2502 Connector \u2502\n  \u2502  (8080)   \u2502  \u2502  (8080)   \u2502  \u2502  (8080)   \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502              \u2502              \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502  Redis Cluster  \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"deployment/#resource-requirements","title":"Resource Requirements","text":""},{"location":"deployment/#minimum","title":"Minimum","text":"Resource Value CPU 1 core Memory 512 MB Storage 100 MB"},{"location":"deployment/#recommended","title":"Recommended","text":"Resource Value CPU 2+ cores Memory 2+ GB Storage 1 GB"},{"location":"deployment/#scaling","title":"Scaling","text":""},{"location":"deployment/#horizontal-scaling","title":"Horizontal Scaling","text":"<p>Add more connector replicas:</p> <pre><code># docker-compose.yml\nservices:\n  connector:\n    deploy:\n      replicas: 3\n</code></pre>"},{"location":"deployment/#vertical-scaling","title":"Vertical Scaling","text":"<p>Increase resources per instance:</p> <pre><code>services:\n  connector:\n    deploy:\n      resources:\n        limits:\n          cpus: '4'\n          memory: 4G\n</code></pre>"},{"location":"deployment/#health-monitoring","title":"Health Monitoring","text":""},{"location":"deployment/#health-endpoint","title":"Health Endpoint","text":"<pre><code>curl http://localhost:8080/health\n</code></pre>"},{"location":"deployment/#docker-health-check","title":"Docker Health Check","text":"<pre><code>services:\n  connector:\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n</code></pre>"},{"location":"deployment/#kubernetes-probes","title":"Kubernetes Probes","text":"<pre><code>livenessProbe:\n  httpGet:\n    path: /health\n    port: 8080\n  initialDelaySeconds: 10\n  periodSeconds: 30\n</code></pre>"},{"location":"deployment/configuration/","title":"Configuration","text":"<p>Environment variables and configuration options.</p>"},{"location":"deployment/configuration/#environment-variables","title":"Environment Variables","text":""},{"location":"deployment/configuration/#required","title":"Required","text":"Variable Description <code>UBI_SECRET_KEY</code> Encryption key for source credentials"},{"location":"deployment/configuration/#redis","title":"Redis","text":"Variable Default Description <code>REDIS_URL</code> <code>redis://localhost:6379</code> Redis connection URL"},{"location":"deployment/configuration/#caching","title":"Caching","text":"Variable Default Description <code>CACHE_TTL_SECONDS</code> <code>300</code> Cache duration in seconds <code>CACHE_ENABLED</code> <code>true</code> Enable/disable caching"},{"location":"deployment/configuration/#rate-limiting","title":"Rate Limiting","text":"Variable Default Description <code>RATE_LIMIT_QUERY</code> <code>100/minute</code> Query endpoint limit <code>RATE_LIMIT_ODATA</code> <code>50/minute</code> OData endpoint limit <code>RATE_LIMIT_SOURCES</code> <code>10/minute</code> Sources endpoint limit"},{"location":"deployment/configuration/#query-guards","title":"Query Guards","text":"Variable Default Description <code>MAX_DIMENSIONS</code> <code>10</code> Max dimensions per query <code>MAX_METRICS</code> <code>20</code> Max metrics per query <code>MAX_ROWS</code> <code>100000</code> Max rows returned <code>MAX_FILTER_DEPTH</code> <code>5</code> Max nested filter depth <code>QUERY_TIMEOUT_SECONDS</code> <code>30</code> Query timeout"},{"location":"deployment/configuration/#logging","title":"Logging","text":"Variable Default Description <code>LOG_LEVEL</code> <code>INFO</code> Log level (DEBUG, INFO, WARNING, ERROR) <code>LOG_FORMAT</code> <code>json</code> Log format (json, text)"},{"location":"deployment/configuration/#server","title":"Server","text":"Variable Default Description <code>HOST</code> <code>0.0.0.0</code> Server bind address <code>PORT</code> <code>8080</code> Server port <code>WORKERS</code> <code>1</code> Number of workers"},{"location":"deployment/configuration/#example-env-file","title":"Example .env File","text":"<pre><code># Required\nUBI_SECRET_KEY=your-secret-key-base64-encoded\n\n# Redis\nREDIS_URL=redis://localhost:6379\n\n# Caching\nCACHE_TTL_SECONDS=300\nCACHE_ENABLED=true\n\n# Rate Limiting\nRATE_LIMIT_QUERY=100/minute\nRATE_LIMIT_ODATA=50/minute\nRATE_LIMIT_SOURCES=10/minute\n\n# Query Guards\nMAX_DIMENSIONS=10\nMAX_METRICS=20\nMAX_ROWS=100000\nMAX_FILTER_DEPTH=5\nQUERY_TIMEOUT_SECONDS=30\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FORMAT=json\n</code></pre>"},{"location":"deployment/configuration/#generating-secret-key","title":"Generating Secret Key","text":"<pre><code># OpenSSL\nopenssl rand -base64 32\n\n# Python\npython -c \"from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())\"\n</code></pre>"},{"location":"deployment/configuration/#rate-limit-format","title":"Rate Limit Format","text":"<pre><code>{count}/{period}\n</code></pre> Period Description <code>second</code> Per second <code>minute</code> Per minute <code>hour</code> Per hour <code>day</code> Per day <p>Examples: - <code>100/minute</code> - <code>1000/hour</code> - <code>10/second</code></p>"},{"location":"deployment/configuration/#catalog-configuration","title":"Catalog Configuration","text":""},{"location":"deployment/configuration/#file-location","title":"File Location","text":"<p>The catalog file (<code>catalog.yaml</code>) defines your semantic layer.</p> <p>Default location: <code>/app/catalog.yaml</code></p>"},{"location":"deployment/configuration/#structure","title":"Structure","text":"<pre><code>datasets:\n  - name: dataset_name\n    source: source_name\n    table: schema.table_name\n\n    dimensions:\n      - name: dimension_name\n        type: string|number|date\n        expr: column_expression\n\n    metrics:\n      - name: metric_name\n        type: number\n        expr: aggregation_expression\n\n    rls:\n      tenant_column: column_name\n\n    incremental:\n      date_column: column_name\n</code></pre>"},{"location":"deployment/configuration/#api-keys-configuration","title":"API Keys Configuration","text":""},{"location":"deployment/configuration/#in-configuration-file","title":"In Configuration File","text":"<pre><code># config.yaml\napi_keys:\n  - key: \"admin-key-xxxxx\"\n    role: admin\n\n  - key: \"pk_tenant_abc123\"\n    tenant: tenant_name\n    role: analyst\n</code></pre>"},{"location":"deployment/configuration/#environment-variable","title":"Environment Variable","text":"<pre><code>API_KEYS='[{\"key\":\"admin-key\",\"role\":\"admin\"},{\"key\":\"pk_tenant\",\"tenant\":\"tenant\",\"role\":\"analyst\"}]'\n</code></pre>"},{"location":"deployment/configuration/#docker-configuration","title":"Docker Configuration","text":""},{"location":"deployment/configuration/#environment-variables_1","title":"Environment Variables","text":"<pre><code>services:\n  connector:\n    environment:\n      - UBI_SECRET_KEY=${UBI_SECRET_KEY}\n      - REDIS_URL=redis://redis:6379\n</code></pre>"},{"location":"deployment/configuration/#volume-mounts","title":"Volume Mounts","text":"<pre><code>services:\n  connector:\n    volumes:\n      - ./catalog.yaml:/app/catalog.yaml:ro\n      - ./data:/app/data\n</code></pre>"},{"location":"deployment/configuration/#kubernetes-configuration","title":"Kubernetes Configuration","text":""},{"location":"deployment/configuration/#configmap","title":"ConfigMap","text":"<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: ubi-config\ndata:\n  CACHE_TTL_SECONDS: \"300\"\n  RATE_LIMIT_QUERY: \"100/minute\"\n</code></pre>"},{"location":"deployment/configuration/#secret","title":"Secret","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: ubi-secrets\nstringData:\n  UBI_SECRET_KEY: \"your-secret-key\"\n</code></pre>"},{"location":"deployment/configuration/#using-in-deployment","title":"Using in Deployment","text":"<pre><code>containers:\n  - name: connector\n    envFrom:\n      - configMapRef:\n          name: ubi-config\n      - secretRef:\n          name: ubi-secrets\n</code></pre>"},{"location":"deployment/docker/","title":"Docker Deployment","text":"<p>Deploy SetuPranali with Docker.</p>"},{"location":"deployment/docker/#quick-start","title":"Quick Start","text":"<pre><code>docker run -d \\\n  --name ubi-connector \\\n  -p 8080:8080 \\\n  -e UBI_SECRET_KEY=$(openssl rand -base64 32) \\\n  adeygifting/connector:latest\n</code></pre>"},{"location":"deployment/docker/#docker-compose","title":"Docker Compose","text":""},{"location":"deployment/docker/#basic-setup","title":"Basic Setup","text":"<pre><code># docker-compose.yml\nversion: '3.8'\n\nservices:\n  connector:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - UBI_SECRET_KEY=${UBI_SECRET_KEY}\n    volumes:\n      - ./catalog.yaml:/app/catalog.yaml:ro\n</code></pre>"},{"location":"deployment/docker/#with-redis","title":"With Redis","text":"<pre><code>version: '3.8'\n\nservices:\n  connector:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - UBI_SECRET_KEY=${UBI_SECRET_KEY}\n      - REDIS_URL=redis://redis:6379\n      - CACHE_TTL_SECONDS=300\n    volumes:\n      - ./catalog.yaml:/app/catalog.yaml:ro\n    depends_on:\n      - redis\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis-data:/data\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 10s\n      timeout: 5s\n      retries: 3\n\nvolumes:\n  redis-data:\n</code></pre>"},{"location":"deployment/docker/#start","title":"Start","text":"<pre><code># Create .env with secret key\necho \"UBI_SECRET_KEY=$(openssl rand -base64 32)\" &gt; .env\n\n# Start services\ndocker compose up -d\n\n# View logs\ndocker compose logs -f connector\n</code></pre>"},{"location":"deployment/docker/#configuration","title":"Configuration","text":""},{"location":"deployment/docker/#environment-file","title":"Environment File","text":"<pre><code># .env\nUBI_SECRET_KEY=your-secret-key-here\nREDIS_URL=redis://redis:6379\nCACHE_TTL_SECONDS=300\nRATE_LIMIT_QUERY=100/minute\nMAX_ROWS=100000\n</code></pre>"},{"location":"deployment/docker/#volume-mounts","title":"Volume Mounts","text":"Mount Purpose <code>/app/catalog.yaml</code> Semantic catalog <code>/app/data</code> SQLite sources database"},{"location":"deployment/docker/#production-configuration","title":"Production Configuration","text":"<pre><code>version: '3.8'\n\nservices:\n  connector:\n    image: adeygifting/connector:latest\n    restart: unless-stopped\n    ports:\n      - \"8080:8080\"\n    environment:\n      - UBI_SECRET_KEY=${UBI_SECRET_KEY}\n      - REDIS_URL=redis://redis:6379\n      - CACHE_TTL_SECONDS=300\n      - RATE_LIMIT_QUERY=100/minute\n      - MAX_ROWS=100000\n      - LOG_LEVEL=INFO\n    volumes:\n      - ./catalog.yaml:/app/catalog.yaml:ro\n      - ./data:/app/data\n    depends_on:\n      redis:\n        condition: service_healthy\n    deploy:\n      resources:\n        limits:\n          cpus: '2'\n          memory: 2G\n        reservations:\n          cpus: '0.5'\n          memory: 512M\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 10s\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n\n  redis:\n    image: redis:7-alpine\n    restart: unless-stopped\n    volumes:\n      - redis-data:/data\n    command: redis-server --appendonly yes\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 10s\n      timeout: 5s\n      retries: 3\n\nvolumes:\n  redis-data:\n</code></pre>"},{"location":"deployment/docker/#scaling","title":"Scaling","text":""},{"location":"deployment/docker/#multiple-replicas","title":"Multiple Replicas","text":"<pre><code>services:\n  connector:\n    deploy:\n      replicas: 3\n</code></pre>"},{"location":"deployment/docker/#with-load-balancer","title":"With Load Balancer","text":"<pre><code>services:\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n    depends_on:\n      - connector\n\n  connector:\n    deploy:\n      replicas: 3\n</code></pre> <p>nginx.conf:</p> <pre><code>events {}\n\nhttp {\n    upstream connectors {\n        server connector:8080;\n    }\n\n    server {\n        listen 80;\n\n        location / {\n            proxy_pass http://connectors;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n        }\n    }\n}\n</code></pre>"},{"location":"deployment/docker/#maintenance","title":"Maintenance","text":""},{"location":"deployment/docker/#update-image","title":"Update Image","text":"<pre><code>docker compose pull\ndocker compose up -d\n</code></pre>"},{"location":"deployment/docker/#view-logs","title":"View Logs","text":"<pre><code>docker compose logs -f connector\n</code></pre>"},{"location":"deployment/docker/#restart","title":"Restart","text":"<pre><code>docker compose restart connector\n</code></pre>"},{"location":"deployment/docker/#backup-data","title":"Backup Data","text":"<pre><code>docker compose exec connector tar -czf - /app/data &gt; backup.tar.gz\n</code></pre>"},{"location":"deployment/docker/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/docker/#container-wont-start","title":"Container Won't Start","text":"<pre><code># Check logs\ndocker compose logs connector\n\n# Check container status\ndocker compose ps\n</code></pre>"},{"location":"deployment/docker/#connection-refused","title":"Connection Refused","text":"<pre><code># Verify port mapping\ndocker compose ps\n\n# Test from inside container\ndocker compose exec connector curl localhost:8080/health\n</code></pre>"},{"location":"deployment/docker/#redis-connection-failed","title":"Redis Connection Failed","text":"<pre><code># Check Redis is running\ndocker compose exec redis redis-cli ping\n\n# Verify REDIS_URL\ndocker compose exec connector env | grep REDIS\n</code></pre>"},{"location":"deployment/helm/","title":"Helm Chart Deployment","text":"<p>Deploy SetuPranali to Kubernetes using the official Helm chart.</p>"},{"location":"deployment/helm/#prerequisites","title":"Prerequisites","text":"<ul> <li>Kubernetes 1.19+</li> <li>Helm 3.2+</li> <li>kubectl configured for your cluster</li> </ul>"},{"location":"deployment/helm/#quick-start","title":"Quick Start","text":"Helm RepositoryFrom Source <pre><code># Add the repository\nhelm repo add setupranali https://setupranali.github.io/charts\nhelm repo update\n\n# Install\nhelm install setupranali setupranali/setupranali \\\n  --namespace setupranali \\\n  --create-namespace\n</code></pre> <pre><code>cd helm/setupranali\nhelm dependency update\nhelm install setupranali . \\\n  --namespace setupranali \\\n  --create-namespace\n</code></pre>"},{"location":"deployment/helm/#verify-installation","title":"Verify Installation","text":"<pre><code># Check pods\nkubectl get pods -n setupranali\n\n# Port-forward to test\nkubectl port-forward -n setupranali svc/setupranali 8080:8080\n\n# Test health\ncurl http://localhost:8080/v1/health\n</code></pre>"},{"location":"deployment/helm/#configuration","title":"Configuration","text":""},{"location":"deployment/helm/#essential-settings","title":"Essential Settings","text":"Parameter Description Default <code>replicaCount</code> Number of replicas <code>2</code> <code>secrets.encryptionKey</code> Fernet encryption key Auto-generated <code>redis.enabled</code> Deploy bundled Redis <code>true</code> <code>ingress.enabled</code> Enable ingress <code>false</code>"},{"location":"deployment/helm/#image-configuration","title":"Image Configuration","text":"<pre><code>image:\n  repository: adeygifting/connector\n  pullPolicy: IfNotPresent\n  tag: \"\"  # Defaults to Chart appVersion\n</code></pre>"},{"location":"deployment/helm/#secrets","title":"Secrets","text":"<pre><code>secrets:\n  # Generate with: python -c \"from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())\"\n  encryptionKey: \"your-fernet-key-here\"\n\n  # Or use existing secret\n  existingSecret: \"my-secret\"\n  existingSecretKeys:\n    encryptionKey: \"UBI_SECRET_KEY\"\n</code></pre> <p>Production Encryption Key</p> <p>Always set a stable <code>encryptionKey</code> in production. Auto-generated keys change on upgrade, making encrypted credentials unusable.</p>"},{"location":"deployment/helm/#redis","title":"Redis","text":"Bundled RedisExternal Redis <pre><code>redis:\n  enabled: true\n  architecture: standalone  # or replication\n  auth:\n    enabled: false\n  master:\n    persistence:\n      enabled: false  # Enable for persistence\n      size: 1Gi\n</code></pre> <pre><code>redis:\n  enabled: false\n\nexternalRedis:\n  host: redis.example.com\n  port: 6379\n  password: \"\"\n  existingSecret: redis-credentials\n  existingSecretKey: password\n</code></pre>"},{"location":"deployment/helm/#ingress","title":"Ingress","text":"<pre><code>ingress:\n  enabled: true\n  className: nginx\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    nginx.ingress.kubernetes.io/ssl-redirect: \"true\"\n  hosts:\n    - host: bi-api.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - secretName: setupranali-tls\n      hosts:\n        - bi-api.example.com\n</code></pre>"},{"location":"deployment/helm/#autoscaling","title":"Autoscaling","text":"<pre><code>autoscaling:\n  enabled: true\n  minReplicas: 2\n  maxReplicas: 10\n  targetCPUUtilizationPercentage: 80\n  targetMemoryUtilizationPercentage: 80\n</code></pre>"},{"location":"deployment/helm/#resources","title":"Resources","text":"<pre><code>resources:\n  limits:\n    cpu: 1000m\n    memory: 1Gi\n  requests:\n    cpu: 250m\n    memory: 256Mi\n</code></pre>"},{"location":"deployment/helm/#catalog-configuration","title":"Catalog Configuration","text":""},{"location":"deployment/helm/#inline-catalog","title":"Inline Catalog","text":"<pre><code>catalog:\n  content: |\n    datasets:\n      - id: orders\n        name: Orders\n        source: my-warehouse\n        table: fact_orders\n        dimensions:\n          - name: city\n            expr: city_name\n        metrics:\n          - name: revenue\n            expr: \"SUM(amount)\"\n        rls:\n          mode: tenant_column\n          field: tenant_id\n</code></pre>"},{"location":"deployment/helm/#external-configmap","title":"External ConfigMap","text":"<pre><code>catalog:\n  existingConfigMap: my-catalog-configmap\n</code></pre> <p>Create the ConfigMap:</p> <pre><code>kubectl create configmap my-catalog-configmap \\\n  --from-file=catalog.yaml=./catalog.yaml \\\n  -n setupranali\n</code></pre>"},{"location":"deployment/helm/#production-deployment","title":"Production Deployment","text":""},{"location":"deployment/helm/#1-create-namespace","title":"1. Create Namespace","text":"<pre><code>kubectl create namespace setupranali\n</code></pre>"},{"location":"deployment/helm/#2-create-secrets","title":"2. Create Secrets","text":"<pre><code># Generate encryption key\nENCRYPTION_KEY=$(python -c \"from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())\")\n\n# Create secret\nkubectl create secret generic setupranali-secrets \\\n  --namespace setupranali \\\n  --from-literal=UBI_SECRET_KEY=\"$ENCRYPTION_KEY\"\n</code></pre>"},{"location":"deployment/helm/#3-create-values-file","title":"3. Create values file","text":"<pre><code># production-values.yaml\nreplicaCount: 3\n\nsecrets:\n  existingSecret: setupranali-secrets\n\ningress:\n  enabled: true\n  className: nginx\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n  hosts:\n    - host: bi-api.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - secretName: setupranali-tls\n      hosts:\n        - bi-api.example.com\n\nautoscaling:\n  enabled: true\n  minReplicas: 3\n  maxReplicas: 10\n\nresources:\n  limits:\n    cpu: 2000m\n    memory: 2Gi\n  requests:\n    cpu: 500m\n    memory: 512Mi\n\nredis:\n  enabled: true\n  architecture: replication\n  auth:\n    enabled: true\n    password: \"strong-redis-password\"\n  master:\n    persistence:\n      enabled: true\n      size: 5Gi\n</code></pre>"},{"location":"deployment/helm/#4-install","title":"4. Install","text":"<pre><code>helm install setupranali setupranali/setupranali \\\n  --namespace setupranali \\\n  --values production-values.yaml\n</code></pre>"},{"location":"deployment/helm/#upgrading","title":"Upgrading","text":"<pre><code># Update repository\nhelm repo update\n\n# Upgrade release\nhelm upgrade setupranali setupranali/setupranali \\\n  --namespace setupranali \\\n  --values production-values.yaml\n</code></pre>"},{"location":"deployment/helm/#monitoring","title":"Monitoring","text":""},{"location":"deployment/helm/#prometheus-metrics","title":"Prometheus Metrics","text":"<p>Add annotations to scrape metrics:</p> <pre><code>podAnnotations:\n  prometheus.io/scrape: \"true\"\n  prometheus.io/port: \"8080\"\n  prometheus.io/path: \"/metrics\"\n</code></pre>"},{"location":"deployment/helm/#health-checks","title":"Health Checks","text":"<p>The chart configures liveness and readiness probes:</p> <pre><code>livenessProbe:\n  httpGet:\n    path: /v1/health\n    port: http\n  initialDelaySeconds: 10\n  periodSeconds: 15\n\nreadinessProbe:\n  httpGet:\n    path: /v1/health\n    port: http\n  initialDelaySeconds: 5\n  periodSeconds: 10\n</code></pre>"},{"location":"deployment/helm/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/helm/#view-logs","title":"View Logs","text":"<pre><code>kubectl logs -n setupranali -l app.kubernetes.io/name=setupranali -f\n</code></pre>"},{"location":"deployment/helm/#check-events","title":"Check Events","text":"<pre><code>kubectl get events -n setupranali --sort-by='.lastTimestamp'\n</code></pre>"},{"location":"deployment/helm/#debug-pod","title":"Debug Pod","text":"<pre><code>kubectl exec -it -n setupranali &lt;pod-name&gt; -- /bin/sh\n</code></pre>"},{"location":"deployment/helm/#common-issues","title":"Common Issues","text":"Issue Solution Pods not starting Check <code>kubectl describe pod</code> for events Redis connection failed Verify Redis is running: <code>kubectl get pods -l app.kubernetes.io/name=redis</code> Ingress not working Check ingress controller logs and TLS secret Encryption errors Ensure encryption key hasn't changed between upgrades"},{"location":"deployment/helm/#uninstall","title":"Uninstall","text":"<pre><code># Uninstall release\nhelm uninstall setupranali -n setupranali\n\n# Delete namespace (optional)\nkubectl delete namespace setupranali\n</code></pre>"},{"location":"deployment/helm/#chart-values-reference","title":"Chart Values Reference","text":"<p>See the full values.yaml for all configuration options.</p>"},{"location":"deployment/kubernetes/","title":"Kubernetes Deployment","text":"<p>Deploy SetuPranali on Kubernetes.</p>"},{"location":"deployment/kubernetes/#quick-start-with-helm","title":"Quick Start with Helm","text":"<pre><code># Add repository\nhelm repo add setupranali https://charts.setupranali.io\nhelm repo update\n\n# Install\nhelm install ubi-connector adeygifting/connector \\\n  --set secretKey=$(openssl rand -base64 32)\n</code></pre>"},{"location":"deployment/kubernetes/#manual-deployment","title":"Manual Deployment","text":""},{"location":"deployment/kubernetes/#namespace","title":"Namespace","text":"<pre><code># namespace.yaml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: setupranali\n</code></pre>"},{"location":"deployment/kubernetes/#secret","title":"Secret","text":"<pre><code># secret.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: ubi-secrets\n  namespace: setupranali\ntype: Opaque\nstringData:\n  secret-key: \"your-secret-key-here\"\n</code></pre>"},{"location":"deployment/kubernetes/#configmap","title":"ConfigMap","text":"<pre><code># configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: ubi-config\n  namespace: setupranali\ndata:\n  catalog.yaml: |\n    datasets:\n      - name: sales\n        source: postgres-prod\n        table: sales\n        dimensions:\n          - name: region\n            type: string\n        metrics:\n          - name: revenue\n            type: number\n            expr: \"SUM(amount)\"\n</code></pre>"},{"location":"deployment/kubernetes/#deployment","title":"Deployment","text":"<pre><code># deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: ubi-connector\n  namespace: setupranali\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: ubi-connector\n  template:\n    metadata:\n      labels:\n        app: ubi-connector\n    spec:\n      containers:\n        - name: connector\n          image: adeygifting/connector:latest\n          ports:\n            - containerPort: 8080\n          env:\n            - name: UBI_SECRET_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: ubi-secrets\n                  key: secret-key\n            - name: REDIS_URL\n              value: \"redis://redis:6379\"\n            - name: CACHE_TTL_SECONDS\n              value: \"300\"\n          volumeMounts:\n            - name: catalog\n              mountPath: /app/catalog.yaml\n              subPath: catalog.yaml\n          resources:\n            requests:\n              cpu: 500m\n              memory: 512Mi\n            limits:\n              cpu: 2000m\n              memory: 2Gi\n          livenessProbe:\n            httpGet:\n              path: /health\n              port: 8080\n            initialDelaySeconds: 10\n            periodSeconds: 30\n          readinessProbe:\n            httpGet:\n              path: /health\n              port: 8080\n            initialDelaySeconds: 5\n            periodSeconds: 10\n      volumes:\n        - name: catalog\n          configMap:\n            name: ubi-config\n</code></pre>"},{"location":"deployment/kubernetes/#service","title":"Service","text":"<pre><code># service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: ubi-connector\n  namespace: setupranali\nspec:\n  selector:\n    app: ubi-connector\n  ports:\n    - port: 80\n      targetPort: 8080\n  type: ClusterIP\n</code></pre>"},{"location":"deployment/kubernetes/#ingress","title":"Ingress","text":"<pre><code># ingress.yaml\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: ubi-connector\n  namespace: setupranali\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    cert-manager.io/cluster-issuer: letsencrypt-prod\nspec:\n  tls:\n    - hosts:\n        - bi-api.example.com\n      secretName: ubi-tls\n  rules:\n    - host: bi-api.example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: ubi-connector\n                port:\n                  number: 80\n</code></pre>"},{"location":"deployment/kubernetes/#redis-deployment","title":"Redis Deployment","text":"<pre><code># redis.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: redis\n  namespace: setupranali\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: redis\n  template:\n    metadata:\n      labels:\n        app: redis\n    spec:\n      containers:\n        - name: redis\n          image: redis:7-alpine\n          ports:\n            - containerPort: 6379\n          resources:\n            requests:\n              cpu: 100m\n              memory: 128Mi\n            limits:\n              cpu: 500m\n              memory: 256Mi\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: redis\n  namespace: setupranali\nspec:\n  selector:\n    app: redis\n  ports:\n    - port: 6379\n</code></pre>"},{"location":"deployment/kubernetes/#apply-manifests","title":"Apply Manifests","text":"<pre><code>kubectl apply -f namespace.yaml\nkubectl apply -f secret.yaml\nkubectl apply -f configmap.yaml\nkubectl apply -f redis.yaml\nkubectl apply -f deployment.yaml\nkubectl apply -f service.yaml\nkubectl apply -f ingress.yaml\n</code></pre>"},{"location":"deployment/kubernetes/#helm-values","title":"Helm Values","text":"<pre><code># values.yaml\nreplicaCount: 3\n\nimage:\n  repository: adeygifting/connector\n  tag: latest\n\nsecretKey: \"\"  # Set via --set or external secret\n\nredis:\n  enabled: true\n  url: redis://redis:6379\n\nconfig:\n  cacheTtl: 300\n  rateLimitQuery: \"100/minute\"\n  maxRows: 100000\n\nresources:\n  requests:\n    cpu: 500m\n    memory: 512Mi\n  limits:\n    cpu: 2000m\n    memory: 2Gi\n\ningress:\n  enabled: true\n  host: bi-api.example.com\n  tls: true\n\ncatalog: |\n  datasets:\n    - name: sales\n      source: postgres-prod\n      table: sales\n</code></pre> <p>Install with values:</p> <pre><code>helm install ubi-connector adeygifting/connector -f values.yaml\n</code></pre>"},{"location":"deployment/kubernetes/#scaling","title":"Scaling","text":""},{"location":"deployment/kubernetes/#horizontal-pod-autoscaler","title":"Horizontal Pod Autoscaler","text":"<pre><code>apiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: ubi-connector\n  namespace: setupranali\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: ubi-connector\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n    - type: Resource\n      resource:\n        name: cpu\n        target:\n          type: Utilization\n          averageUtilization: 70\n</code></pre>"},{"location":"deployment/kubernetes/#monitoring","title":"Monitoring","text":""},{"location":"deployment/kubernetes/#prometheus-servicemonitor","title":"Prometheus ServiceMonitor","text":"<pre><code>apiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: ubi-connector\n  namespace: setupranali\nspec:\n  selector:\n    matchLabels:\n      app: ubi-connector\n  endpoints:\n    - port: http\n      path: /metrics\n      interval: 30s\n</code></pre>"},{"location":"deployment/kubernetes/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/kubernetes/#check-pods","title":"Check Pods","text":"<pre><code>kubectl get pods -n setupranali\nkubectl describe pod &lt;pod-name&gt; -n setupranali\n</code></pre>"},{"location":"deployment/kubernetes/#view-logs","title":"View Logs","text":"<pre><code>kubectl logs -l app=ubi-connector -n setupranali -f\n</code></pre>"},{"location":"deployment/kubernetes/#shell-access","title":"Shell Access","text":"<pre><code>kubectl exec -it &lt;pod-name&gt; -n setupranali -- /bin/sh\n</code></pre>"},{"location":"deployment/production-checklist/","title":"Production Checklist","text":"<p>Verify your deployment is production-ready.</p>"},{"location":"deployment/production-checklist/#security","title":"Security","text":""},{"location":"deployment/production-checklist/#encryption","title":"Encryption","text":"<ul> <li> <code>UBI_SECRET_KEY</code> is set and secure</li> <li> Key is generated with cryptographic randomness</li> <li> Key is stored securely (secrets manager)</li> </ul>"},{"location":"deployment/production-checklist/#tls","title":"TLS","text":"<ul> <li> HTTPS enabled</li> <li> TLS 1.2 or higher</li> <li> Valid SSL certificate</li> <li> HTTP redirects to HTTPS</li> </ul>"},{"location":"deployment/production-checklist/#api-keys","title":"API Keys","text":"<ul> <li> Admin keys are restricted</li> <li> Per-tenant keys created</li> <li> Keys stored securely</li> <li> Key rotation plan in place</li> </ul>"},{"location":"deployment/production-checklist/#network","title":"Network","text":"<ul> <li> Firewall rules configured</li> <li> Database not publicly accessible</li> <li> VPN/private network for sensitive connections</li> <li> IP allowlisting (if applicable)</li> </ul>"},{"location":"deployment/production-checklist/#performance","title":"Performance","text":""},{"location":"deployment/production-checklist/#caching","title":"Caching","text":"<ul> <li> Redis is running</li> <li> <code>REDIS_URL</code> is configured</li> <li> <code>CACHE_TTL_SECONDS</code> is appropriate</li> <li> Redis has sufficient memory</li> </ul>"},{"location":"deployment/production-checklist/#rate-limiting","title":"Rate Limiting","text":"<ul> <li> <code>RATE_LIMIT_QUERY</code> is configured</li> <li> Limits are appropriate for expected load</li> <li> Redis is available for rate limiting</li> </ul>"},{"location":"deployment/production-checklist/#query-guards","title":"Query Guards","text":"<ul> <li> <code>MAX_ROWS</code> is set</li> <li> <code>MAX_DIMENSIONS</code> is set</li> <li> <code>QUERY_TIMEOUT_SECONDS</code> is set</li> <li> Guards protect against abuse</li> </ul>"},{"location":"deployment/production-checklist/#high-availability","title":"High Availability","text":""},{"location":"deployment/production-checklist/#replicas","title":"Replicas","text":"<ul> <li> Multiple instances deployed</li> <li> Load balancer configured</li> <li> Health checks enabled</li> <li> Graceful shutdown configured</li> </ul>"},{"location":"deployment/production-checklist/#database","title":"Database","text":"<ul> <li> Connection pooling enabled</li> <li> Timeout settings appropriate</li> <li> Reconnection logic works</li> </ul>"},{"location":"deployment/production-checklist/#redis","title":"Redis","text":"<ul> <li> Redis is highly available (Sentinel/Cluster)</li> <li> Persistence enabled (AOF/RDB)</li> <li> Memory limits configured</li> </ul>"},{"location":"deployment/production-checklist/#monitoring","title":"Monitoring","text":""},{"location":"deployment/production-checklist/#health-checks","title":"Health Checks","text":"<ul> <li> <code>/health</code> endpoint accessible</li> <li> Health checks configured in orchestrator</li> <li> Alerts for health failures</li> </ul>"},{"location":"deployment/production-checklist/#logging","title":"Logging","text":"<ul> <li> Structured logging enabled</li> <li> Log aggregation configured</li> <li> Log retention policy set</li> </ul>"},{"location":"deployment/production-checklist/#metrics","title":"Metrics","text":"<ul> <li> Response times tracked</li> <li> Error rates monitored</li> <li> Cache hit rates visible</li> <li> Rate limit hits tracked</li> </ul>"},{"location":"deployment/production-checklist/#alerting","title":"Alerting","text":"<ul> <li> Alerts for errors</li> <li> Alerts for latency</li> <li> Alerts for resource usage</li> <li> On-call rotation defined</li> </ul>"},{"location":"deployment/production-checklist/#data-sources","title":"Data Sources","text":""},{"location":"deployment/production-checklist/#connections","title":"Connections","text":"<ul> <li> All sources registered</li> <li> Connections tested</li> <li> Credentials encrypted</li> <li> Service accounts have minimal permissions</li> </ul>"},{"location":"deployment/production-checklist/#datasets","title":"Datasets","text":"<ul> <li> All datasets defined</li> <li> RLS configured where needed</li> <li> Incremental refresh configured</li> <li> Tested with sample queries</li> </ul>"},{"location":"deployment/production-checklist/#documentation","title":"Documentation","text":""},{"location":"deployment/production-checklist/#internal","title":"Internal","text":"<ul> <li> Runbook created</li> <li> Troubleshooting guide</li> <li> Architecture documented</li> <li> Contact information</li> </ul>"},{"location":"deployment/production-checklist/#external","title":"External","text":"<ul> <li> User documentation</li> <li> API documentation</li> <li> Connection guides for BI tools</li> <li> FAQ</li> </ul>"},{"location":"deployment/production-checklist/#backup-recovery","title":"Backup &amp; Recovery","text":""},{"location":"deployment/production-checklist/#data","title":"Data","text":"<ul> <li> Source credentials backed up</li> <li> Configuration backed up</li> <li> Recovery process tested</li> </ul>"},{"location":"deployment/production-checklist/#disaster-recovery","title":"Disaster Recovery","text":"<ul> <li> RTO defined</li> <li> RPO defined</li> <li> Recovery plan documented</li> <li> Recovery tested</li> </ul>"},{"location":"deployment/production-checklist/#compliance","title":"Compliance","text":""},{"location":"deployment/production-checklist/#data-protection","title":"Data Protection","text":"<ul> <li> RLS enforces tenant isolation</li> <li> Audit logging enabled</li> <li> Data retention policy</li> <li> Privacy policy updated</li> </ul>"},{"location":"deployment/production-checklist/#access-control","title":"Access Control","text":"<ul> <li> Least privilege principle</li> <li> Regular access reviews</li> <li> Key rotation schedule</li> <li> Offboarding process</li> </ul>"},{"location":"deployment/production-checklist/#launch-verification","title":"Launch Verification","text":""},{"location":"deployment/production-checklist/#functional","title":"Functional","text":"<pre><code># Health check\ncurl https://bi-api.example.com/health\n\n# Query test\ncurl -X POST https://bi-api.example.com/v1/query \\\n  -H \"X-API-Key: test-key\" \\\n  -d '{\"dataset\":\"sales\",\"metrics\":[\"revenue\"]}'\n\n# OData test\ncurl https://bi-api.example.com/odata/sales \\\n  -H \"X-API-Key: test-key\"\n</code></pre>"},{"location":"deployment/production-checklist/#load-test","title":"Load Test","text":"<pre><code># Simple load test\nfor i in {1..100}; do\n  curl -s -o /dev/null -w \"%{http_code}\\n\" \\\n    https://bi-api.example.com/health &amp;\ndone\nwait\n</code></pre>"},{"location":"deployment/production-checklist/#rls-verification","title":"RLS Verification","text":"<pre><code># Verify tenant A sees only their data\ncurl -X POST https://bi-api.example.com/v1/query \\\n  -H \"X-API-Key: pk_tenant_a\" \\\n  -d '{\"dataset\":\"sales\",\"dimensions\":[\"tenant_id\"],\"metrics\":[\"count\"]}'\n\n# Verify tenant B sees only their data\ncurl -X POST https://bi-api.example.com/v1/query \\\n  -H \"X-API-Key: pk_tenant_b\" \\\n  -d '{\"dataset\":\"sales\",\"dimensions\":[\"tenant_id\"],\"metrics\":[\"count\"]}'\n</code></pre>"},{"location":"deployment/production-checklist/#go-live","title":"Go-Live","text":"<ul> <li> All checklist items verified</li> <li> Stakeholders notified</li> <li> Support team briefed</li> <li> Monitoring dashboards ready</li> <li> Rollback plan prepared</li> </ul>"},{"location":"deployment/production-checklist/#post-launch","title":"Post-Launch","text":"<ul> <li> Monitor error rates</li> <li> Monitor latency</li> <li> Gather user feedback</li> <li> Document lessons learned</li> <li> Plan improvements</li> </ul>"},{"location":"examples/","title":"Examples","text":"<p>Real-world examples and reference architectures.</p>"},{"location":"examples/#integration-examples","title":"Integration Examples","text":"<ul> <li> <p> dbt Integration</p> <p>Use dbt models with SetuPranali.</p> <p> dbt Example</p> </li> <li> <p>:material-database-multiple:{ .lg .middle } Multi-Source</p> <p>Connect multiple databases in one deployment.</p> <p> Multi-Source</p> </li> <li> <p> Enterprise Setup</p> <p>Production configuration for enterprise.</p> <p> Enterprise</p> </li> </ul>"},{"location":"examples/#sample-configurations","title":"Sample Configurations","text":""},{"location":"examples/#basic-e-commerce","title":"Basic E-Commerce","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: postgres-prod\n    table: public.orders\n\n    dimensions:\n      - name: order_date\n        type: date\n        expr: order_date\n      - name: status\n        type: string\n        expr: status\n      - name: region\n        type: string\n        expr: region\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n      - name: orders\n        type: number\n        expr: \"COUNT(*)\"\n      - name: avg_order_value\n        type: number\n        expr: \"AVG(amount)\"\n\n    rls:\n      tenant_column: tenant_id\n</code></pre>"},{"location":"examples/#saas-analytics","title":"SaaS Analytics","text":"<pre><code>datasets:\n  - name: usage\n    source: bigquery-prod\n    table: analytics.daily_usage\n\n    dimensions:\n      - name: date\n        type: date\n        expr: usage_date\n      - name: feature\n        type: string\n        expr: feature_name\n      - name: plan\n        type: string\n        expr: subscription_plan\n\n    metrics:\n      - name: active_users\n        type: number\n        expr: \"SUM(unique_users)\"\n      - name: events\n        type: number\n        expr: \"SUM(event_count)\"\n      - name: avg_session_duration\n        type: number\n        expr: \"AVG(session_seconds)\"\n\n    rls:\n      tenant_column: org_id\n\n    incremental:\n      date_column: usage_date\n</code></pre>"},{"location":"examples/#financial-dashboard","title":"Financial Dashboard","text":"<pre><code>datasets:\n  - name: transactions\n    source: snowflake-prod\n    table: FINANCE.TRANSACTIONS\n\n    dimensions:\n      - name: transaction_date\n        type: date\n        expr: TXN_DATE\n      - name: category\n        type: string\n        expr: CATEGORY\n      - name: account_type\n        type: string\n        expr: ACCOUNT_TYPE\n\n    metrics:\n      - name: total_amount\n        type: number\n        expr: \"SUM(AMOUNT)\"\n      - name: transaction_count\n        type: number\n        expr: \"COUNT(*)\"\n      - name: average_amount\n        type: number\n        expr: \"AVG(AMOUNT)\"\n\n    rls:\n      tenant_column: ORG_ID\n</code></pre>"},{"location":"examples/#architecture-patterns","title":"Architecture Patterns","text":""},{"location":"examples/#single-tenant","title":"Single Tenant","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Power BI   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Connector   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502   Database   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"examples/#multi-tenant","title":"Multi-Tenant","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Tenant A    \u2502\u2500\u2500\u2510\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Tenant B    \u2502\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u25b6\u2502  Connector   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502   Database   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502     \u2502  (with RLS)  \u2502     \u2502  (shared)    \u2502\n\u2502  Tenant C    \u2502\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"examples/#multi-source","title":"Multi-Source","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   BI Tools   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Connector   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Snowflake   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502              \u2502     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n                     \u2502              \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  PostgreSQL  \u2502\n                     \u2502              \u2502     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n                     \u2502              \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  BigQuery    \u2502\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"examples/dbt/","title":"dbt Integration Example","text":"<p>Complete example of using dbt models with SetuPranali.</p>"},{"location":"examples/dbt/#project-structure","title":"Project Structure","text":"<pre><code>my-analytics/\n\u251c\u2500\u2500 dbt/\n\u2502   \u251c\u2500\u2500 dbt_project.yml\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2502   \u251c\u2500\u2500 staging/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 stg_orders.sql\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 stg_customers.sql\n\u2502   \u2502   \u2514\u2500\u2500 marts/\n\u2502   \u2502       \u251c\u2500\u2500 fct_orders.sql\n\u2502   \u2502       \u2514\u2500\u2500 dim_customers.sql\n\u2502   \u2514\u2500\u2500 profiles.yml\n\u251c\u2500\u2500 ubi-connector/\n\u2502   \u251c\u2500\u2500 catalog.yaml\n\u2502   \u251c\u2500\u2500 docker-compose.yml\n\u2502   \u2514\u2500\u2500 .env\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"examples/dbt/#dbt-models","title":"dbt Models","text":""},{"location":"examples/dbt/#staging","title":"Staging","text":"<pre><code>-- models/staging/stg_orders.sql\n{{ config(materialized='view') }}\n\nSELECT\n    order_id,\n    customer_id,\n    order_date,\n    amount,\n    status,\n    region,\n    tenant_id\nFROM {{ source('raw', 'orders') }}\nWHERE status != 'test'\n</code></pre>"},{"location":"examples/dbt/#marts","title":"Marts","text":"<pre><code>-- models/marts/fct_orders.sql\n{{ config(materialized='table') }}\n\nSELECT\n    o.order_id,\n    o.customer_id,\n    c.customer_name,\n    c.customer_segment,\n    o.order_date,\n    o.amount,\n    o.region,\n    o.tenant_id\nFROM {{ ref('stg_orders') }} o\nLEFT JOIN {{ ref('dim_customers') }} c \n    ON o.customer_id = c.customer_id\nWHERE o.status = 'completed'\n</code></pre>"},{"location":"examples/dbt/#connector-configuration","title":"Connector Configuration","text":""},{"location":"examples/dbt/#catalogyaml","title":"catalog.yaml","text":"<pre><code>datasets:\n  # Reference dbt mart table\n  - name: orders\n    source: snowflake-prod\n    table: ANALYTICS.FCT_ORDERS\n\n    dimensions:\n      - name: customer_name\n        type: string\n        expr: customer_name\n\n      - name: customer_segment\n        type: string\n        expr: customer_segment\n\n      - name: region\n        type: string\n        expr: region\n\n      - name: order_date\n        type: date\n        expr: order_date\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n\n      - name: orders\n        type: number\n        expr: \"COUNT(*)\"\n\n      - name: avg_order_value\n        type: number\n        expr: \"AVG(amount)\"\n\n      - name: unique_customers\n        type: number\n        expr: \"COUNT(DISTINCT customer_id)\"\n\n    rls:\n      tenant_column: tenant_id\n\n    incremental:\n      date_column: order_date\n      min_date: \"2022-01-01\"\n</code></pre>"},{"location":"examples/dbt/#docker-composeyml","title":"docker-compose.yml","text":"<pre><code>version: '3.8'\n\nservices:\n  connector:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - UBI_SECRET_KEY=${UBI_SECRET_KEY}\n      - REDIS_URL=redis://redis:6379\n    volumes:\n      - ./catalog.yaml:/app/catalog.yaml:ro\n    depends_on:\n      - redis\n\n  redis:\n    image: redis:7-alpine\n</code></pre>"},{"location":"examples/dbt/#workflow","title":"Workflow","text":""},{"location":"examples/dbt/#1-run-dbt","title":"1. Run dbt","text":"<pre><code>cd dbt\ndbt run\ndbt test\n</code></pre>"},{"location":"examples/dbt/#2-start-connector","title":"2. Start Connector","text":"<pre><code>cd ../ubi-connector\ndocker compose up -d\n</code></pre>"},{"location":"examples/dbt/#3-query-data","title":"3. Query Data","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"region\", \"customer_segment\"],\n    \"metrics\": [\"revenue\", \"orders\"]\n  }'\n</code></pre>"},{"location":"examples/dbt/#4-connect-power-bi","title":"4. Connect Power BI","text":"<pre><code>URL: http://localhost:8080/odata/orders\nHeader: X-API-Key = your-key\n</code></pre>"},{"location":"examples/dbt/#cicd-integration","title":"CI/CD Integration","text":"<pre><code># .github/workflows/analytics.yml\nname: Analytics Pipeline\n\non:\n  schedule:\n    - cron: '0 */4 * * *'\n\njobs:\n  refresh:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Setup Python\n        uses: actions/setup-python@v2\n        with:\n          python-version: '3.10'\n\n      - name: Install dbt\n        run: pip install dbt-snowflake\n\n      - name: Run dbt\n        run: |\n          cd dbt\n          dbt deps\n          dbt run --target prod\n          dbt test\n        env:\n          DBT_PROFILES_DIR: ${{ github.workspace }}/dbt\n\n      - name: Clear Cache\n        run: |\n          curl -X POST ${{ secrets.CONNECTOR_URL }}/admin/cache/clear \\\n            -H \"X-API-Key: ${{ secrets.ADMIN_KEY }}\"\n</code></pre>"},{"location":"examples/enterprise/","title":"Enterprise Setup Example","text":"<p>Production-ready configuration for enterprise deployment.</p>"},{"location":"examples/enterprise/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        Internet                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502   Load Balancer   \u2502\n                    \u2502   (HTTPS/TLS)     \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502                  \u2502                  \u2502\n     \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502Connector 1\u2502      \u2502Connector 2\u2502      \u2502Connector 3\u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502                  \u2502                  \u2502\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502   Redis Cluster   \u2502\n                    \u2502   (HA/Sentinel)   \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"examples/enterprise/#kubernetes-deployment","title":"Kubernetes Deployment","text":""},{"location":"examples/enterprise/#valuesyaml","title":"values.yaml","text":"<pre><code># Helm values for enterprise deployment\n\nreplicaCount: 3\n\nimage:\n  repository: adeygifting/connector\n  tag: \"1.0.0\"\n  pullPolicy: IfNotPresent\n\nresources:\n  requests:\n    cpu: 500m\n    memory: 1Gi\n  limits:\n    cpu: 2000m\n    memory: 4Gi\n\nautoscaling:\n  enabled: true\n  minReplicas: 3\n  maxReplicas: 10\n  targetCPUUtilization: 70\n\nredis:\n  enabled: true\n  architecture: replication\n  auth:\n    enabled: true\n    password: \"${REDIS_PASSWORD}\"\n\ningress:\n  enabled: true\n  className: nginx\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    nginx.ingress.kubernetes.io/proxy-body-size: \"10m\"\n    nginx.ingress.kubernetes.io/rate-limit: \"100\"\n  hosts:\n    - host: bi-api.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - secretName: bi-api-tls\n      hosts:\n        - bi-api.example.com\n\nconfig:\n  cacheTtl: 300\n  rateLimitQuery: \"200/minute\"\n  rateLimitOdata: \"100/minute\"\n  maxRows: 500000\n  maxDimensions: 15\n  queryTimeout: 60\n\nmonitoring:\n  enabled: true\n  serviceMonitor:\n    enabled: true\n\npodDisruptionBudget:\n  enabled: true\n  minAvailable: 2\n\naffinity:\n  podAntiAffinity:\n    preferredDuringSchedulingIgnoredDuringExecution:\n      - weight: 100\n        podAffinityTerm:\n          labelSelector:\n            matchLabels:\n              app: ubi-connector\n          topologyKey: kubernetes.io/hostname\n</code></pre>"},{"location":"examples/enterprise/#secrets-management","title":"Secrets Management","text":""},{"location":"examples/enterprise/#external-secrets","title":"External Secrets","text":"<pre><code># external-secret.yaml\napiVersion: external-secrets.io/v1beta1\nkind: ExternalSecret\nmetadata:\n  name: ubi-secrets\nspec:\n  secretStoreRef:\n    name: vault-backend\n    kind: ClusterSecretStore\n  target:\n    name: ubi-secrets\n  data:\n    - secretKey: secret-key\n      remoteRef:\n        key: ubi-connector/production\n        property: secret_key\n    - secretKey: snowflake-password\n      remoteRef:\n        key: ubi-connector/production\n        property: snowflake_password\n</code></pre>"},{"location":"examples/enterprise/#multi-tenant-configuration","title":"Multi-Tenant Configuration","text":""},{"location":"examples/enterprise/#api-keys","title":"API Keys","text":"<pre><code>api_keys:\n  # Platform admin\n  - key: \"${ADMIN_KEY}\"\n    role: admin\n    description: \"Platform operations\"\n\n  # Enterprise customers\n  - key: \"${ACME_KEY}\"\n    tenant: acme_corp\n    role: analyst\n    rate_limit: \"500/minute\"\n\n  - key: \"${GLOBEX_KEY}\"\n    tenant: globex_inc\n    role: analyst\n    rate_limit: \"500/minute\"\n\n  # Standard customers\n  - key: \"${STARTUP_KEY}\"\n    tenant: startup_io\n    role: analyst\n    rate_limit: \"100/minute\"\n</code></pre>"},{"location":"examples/enterprise/#catalogyaml","title":"catalog.yaml","text":"<pre><code>datasets:\n  - name: sales\n    source: snowflake-prod\n    table: ANALYTICS.FACT_SALES\n\n    dimensions:\n      - name: region\n        type: string\n        expr: REGION_NAME\n      - name: product\n        type: string\n        expr: PRODUCT_CATEGORY\n      - name: sale_date\n        type: date\n        expr: SALE_DATE\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(SALE_AMOUNT)\"\n      - name: orders\n        type: number\n        expr: \"COUNT(*)\"\n      - name: avg_order_value\n        type: number\n        expr: \"AVG(SALE_AMOUNT)\"\n\n    rls:\n      tenant_column: TENANT_ID\n\n    incremental:\n      date_column: SALE_DATE\n      min_date: \"2020-01-01\"\n</code></pre>"},{"location":"examples/enterprise/#monitoring","title":"Monitoring","text":""},{"location":"examples/enterprise/#prometheus-alerts","title":"Prometheus Alerts","text":"<pre><code>groups:\n  - name: ubi-connector\n    rules:\n      - alert: HighErrorRate\n        expr: rate(http_requests_total{status=~\"5..\"}[5m]) &gt; 0.01\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"High error rate on BI Connector\"\n\n      - alert: HighLatency\n        expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) &gt; 2\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High latency on BI Connector\"\n\n      - alert: LowCacheHitRate\n        expr: rate(cache_hits_total[5m]) / (rate(cache_hits_total[5m]) + rate(cache_misses_total[5m])) &lt; 0.5\n        for: 15m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Low cache hit rate\"\n</code></pre>"},{"location":"examples/enterprise/#grafana-dashboard","title":"Grafana Dashboard","text":"<pre><code>{\n  \"title\": \"SetuPranali\",\n  \"panels\": [\n    {\n      \"title\": \"Request Rate\",\n      \"type\": \"graph\",\n      \"targets\": [\n        {\n          \"expr\": \"rate(http_requests_total[5m])\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Error Rate\",\n      \"type\": \"graph\",\n      \"targets\": [\n        {\n          \"expr\": \"rate(http_requests_total{status=~'5..'}[5m])\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Cache Hit Rate\",\n      \"type\": \"gauge\",\n      \"targets\": [\n        {\n          \"expr\": \"rate(cache_hits_total[5m]) / (rate(cache_hits_total[5m]) + rate(cache_misses_total[5m]))\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"examples/enterprise/#security-hardening","title":"Security Hardening","text":""},{"location":"examples/enterprise/#network-policies","title":"Network Policies","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: ubi-connector\nspec:\n  podSelector:\n    matchLabels:\n      app: ubi-connector\n  policyTypes:\n    - Ingress\n    - Egress\n  ingress:\n    - from:\n        - namespaceSelector:\n            matchLabels:\n              name: ingress-nginx\n      ports:\n        - port: 8080\n  egress:\n    - to:\n        - namespaceSelector:\n            matchLabels:\n              name: redis\n      ports:\n        - port: 6379\n    - to:\n        - ipBlock:\n            cidr: 10.0.0.0/8  # Internal databases\n      ports:\n        - port: 5432\n        - port: 443\n</code></pre>"},{"location":"examples/enterprise/#pod-security","title":"Pod Security","text":"<pre><code>apiVersion: v1\nkind: Pod\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    fsGroup: 1000\n  containers:\n    - name: connector\n      securityContext:\n        allowPrivilegeEscalation: false\n        readOnlyRootFilesystem: true\n        capabilities:\n          drop:\n            - ALL\n</code></pre>"},{"location":"examples/enterprise/#disaster-recovery","title":"Disaster Recovery","text":""},{"location":"examples/enterprise/#backup-script","title":"Backup Script","text":"<pre><code>#!/bin/bash\n# backup.sh\n\nDATE=$(date +%Y%m%d)\nBACKUP_DIR=\"/backups/ubi-connector/$DATE\"\n\nmkdir -p $BACKUP_DIR\n\n# Backup configuration\nkubectl get configmap ubi-config -o yaml &gt; $BACKUP_DIR/configmap.yaml\nkubectl get secret ubi-secrets -o yaml &gt; $BACKUP_DIR/secrets.yaml\n\n# Backup Redis data\nkubectl exec -it redis-0 -- redis-cli BGSAVE\nkubectl cp redis-0:/data/dump.rdb $BACKUP_DIR/redis.rdb\n\n# Upload to S3\naws s3 sync $BACKUP_DIR s3://backups/ubi-connector/$DATE/\n</code></pre>"},{"location":"examples/enterprise/#recovery-procedure","title":"Recovery Procedure","text":"<ol> <li>Deploy fresh cluster</li> <li>Restore secrets</li> <li>Restore ConfigMap</li> <li>Restore Redis data</li> <li>Verify health</li> <li>Update DNS</li> </ol>"},{"location":"examples/multi-source/","title":"Multi-Source Example","text":"<p>Connect multiple databases through a single connector.</p>"},{"location":"examples/multi-source/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   BI Tools                               \u2502\n\u2502     Power BI  \u2502  Tableau  \u2502  REST API                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              SetuPranali                      \u2502\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 Datasets                                         \u2502    \u2502\n\u2502  \u2502  - sales (\u2192 Snowflake)                          \u2502    \u2502\n\u2502  \u2502  - customers (\u2192 PostgreSQL)                     \u2502    \u2502\n\u2502  \u2502  - events (\u2192 BigQuery)                          \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502               \u2502               \u2502\n         \u25bc               \u25bc               \u25bc\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502Snowflake\u2502    \u2502PostgreSQL\u2502   \u2502 BigQuery \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"examples/multi-source/#configuration","title":"Configuration","text":""},{"location":"examples/multi-source/#register-sources","title":"Register Sources","text":"<pre><code># Snowflake\ncurl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -d '{\n    \"name\": \"snowflake-dw\",\n    \"type\": \"snowflake\",\n    \"connection\": {\n      \"account\": \"abc123.us-east-1\",\n      \"user\": \"BI_SERVICE\",\n      \"password\": \"***\",\n      \"warehouse\": \"ANALYTICS_WH\",\n      \"database\": \"ANALYTICS\"\n    }\n  }'\n\n# PostgreSQL\ncurl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -d '{\n    \"name\": \"postgres-app\",\n    \"type\": \"postgres\",\n    \"connection\": {\n      \"host\": \"db.example.com\",\n      \"database\": \"app_db\",\n      \"user\": \"readonly\",\n      \"password\": \"***\"\n    }\n  }'\n\n# BigQuery\ncurl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -d '{\n    \"name\": \"bigquery-events\",\n    \"type\": \"bigquery\",\n    \"connection\": {\n      \"project_id\": \"my-project\",\n      \"credentials_json\": \"{...}\"\n    }\n  }'\n</code></pre>"},{"location":"examples/multi-source/#catalogyaml","title":"catalog.yaml","text":"<pre><code>datasets:\n  # Sales data from Snowflake\n  - name: sales\n    source: snowflake-dw\n    table: ANALYTICS.FACT_SALES\n\n    dimensions:\n      - name: region\n        type: string\n        expr: REGION_NAME\n      - name: product\n        type: string\n        expr: PRODUCT_CATEGORY\n      - name: sale_date\n        type: date\n        expr: SALE_DATE\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(SALE_AMOUNT)\"\n      - name: orders\n        type: number\n        expr: \"COUNT(*)\"\n\n    rls:\n      tenant_column: TENANT_ID\n\n  # Customer data from PostgreSQL\n  - name: customers\n    source: postgres-app\n    table: public.customers\n\n    dimensions:\n      - name: segment\n        type: string\n        expr: segment\n      - name: region\n        type: string\n        expr: region\n      - name: signup_date\n        type: date\n        expr: created_at\n\n    metrics:\n      - name: total_customers\n        type: number\n        expr: \"COUNT(*)\"\n      - name: active_customers\n        type: number\n        expr: \"SUM(CASE WHEN status = 'active' THEN 1 ELSE 0 END)\"\n\n    rls:\n      tenant_column: tenant_id\n\n  # Event data from BigQuery\n  - name: events\n    source: bigquery-events\n    table: analytics.events\n\n    dimensions:\n      - name: event_name\n        type: string\n        expr: event_name\n      - name: event_date\n        type: date\n        expr: DATE(event_timestamp)\n      - name: platform\n        type: string\n        expr: platform\n\n    metrics:\n      - name: event_count\n        type: number\n        expr: \"COUNT(*)\"\n      - name: unique_users\n        type: number\n        expr: \"COUNT(DISTINCT user_id)\"\n\n    rls:\n      tenant_column: org_id\n\n    incremental:\n      date_column: event_timestamp\n</code></pre>"},{"location":"examples/multi-source/#usage","title":"Usage","text":""},{"location":"examples/multi-source/#query-different-sources","title":"Query Different Sources","text":"<pre><code># Query Snowflake data\ncurl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: tenant-key\" \\\n  -d '{\"dataset\": \"sales\", \"dimensions\": [\"region\"], \"metrics\": [\"revenue\"]}'\n\n# Query PostgreSQL data\ncurl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: tenant-key\" \\\n  -d '{\"dataset\": \"customers\", \"dimensions\": [\"segment\"], \"metrics\": [\"total_customers\"]}'\n\n# Query BigQuery data\ncurl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: tenant-key\" \\\n  -d '{\"dataset\": \"events\", \"dimensions\": [\"event_name\"], \"metrics\": [\"event_count\"]}'\n</code></pre>"},{"location":"examples/multi-source/#power-bi","title":"Power BI","text":"<p>Each dataset is available as a separate OData feed:</p> <ul> <li><code>/odata/sales</code></li> <li><code>/odata/customers</code></li> <li><code>/odata/events</code></li> </ul>"},{"location":"examples/multi-source/#best-practices","title":"Best Practices","text":""},{"location":"examples/multi-source/#1-consistent-tenant-columns","title":"1. Consistent Tenant Columns","text":"<p>Use consistent naming across sources:</p> Source Tenant Column Snowflake <code>TENANT_ID</code> PostgreSQL <code>tenant_id</code> BigQuery <code>org_id</code> \u2192 map to tenant"},{"location":"examples/multi-source/#2-source-specific-caching","title":"2. Source-Specific Caching","text":"<p>Different TTLs for different data freshness needs:</p> <pre><code>datasets:\n  - name: events\n    cache_ttl: 60       # Real-time events\n\n  - name: sales\n    cache_ttl: 300      # 5 minutes\n\n  - name: historical\n    cache_ttl: 3600     # Historical data\n</code></pre>"},{"location":"examples/multi-source/#3-connection-pooling","title":"3. Connection Pooling","text":"<p>Each source maintains its own pool:</p> <pre><code>Snowflake: 5 connections\nPostgreSQL: 10 connections\nBigQuery: 5 connections\n</code></pre>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Welcome to SetuPranali! This guide will help you go from zero to  querying data in your BI tool in under 15 minutes.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> Requirement Description Docker For running the connector (or Python 3.9+ for source install) Data Source Access to a database (PostgreSQL, Snowflake, BigQuery, etc.) BI Tool Power BI, Tableau, or any REST client <p>No Database Credentials in BI Tools</p> <p>Unlike direct connections, your BI users will never see database credentials. All access is controlled through API keys.</p>"},{"location":"getting-started/#quick-navigation","title":"Quick Navigation","text":"<ul> <li> <p> Quick Start</p> <p>Get up and running in 5 minutes with our step-by-step tutorial.</p> <p> Quick Start</p> </li> <li> <p> Installation</p> <p>Deploy with Docker, Kubernetes, or install from source.</p> <p> Installation</p> </li> <li> <p> First Query</p> <p>Run your first query through the semantic API.</p> <p> First Query</p> </li> <li> <p> Connect BI Tool</p> <p>Connect Power BI, Tableau, or any BI tool.</p> <p> Connect BI Tool</p> </li> </ul>"},{"location":"getting-started/#the-5-step-journey","title":"The 5-Step Journey","text":"<pre><code>graph LR\n    A[1. Install] --&gt; B[2. Add Source]\n    B --&gt; C[3. Define Dataset]\n    C --&gt; D[4. Create API Key]\n    D --&gt; E[5. Connect BI]\n\n    style A fill:#4f46e5,color:#fff\n    style B fill:#4f46e5,color:#fff\n    style C fill:#4f46e5,color:#fff\n    style D fill:#4f46e5,color:#fff\n    style E fill:#4f46e5,color:#fff</code></pre> Step What You'll Do Time 1. Install Start the connector with Docker 2 min 2. Add Source Register your database connection 2 min 3. Define Dataset Create your semantic model 5 min 4. Create API Key Set up secure access 1 min 5. Connect BI Connect Power BI or Tableau 5 min"},{"location":"getting-started/#what-youll-achieve","title":"What You'll Achieve","text":"<p>By the end of this guide, you will have:</p> <ul> <li> A running SetuPranali instance</li> <li> A secure connection to your data warehouse</li> <li> A semantic dataset with dimensions and metrics</li> <li> API key authentication with row-level security</li> <li> A working connection in your BI tool</li> </ul>"},{"location":"getting-started/#need-help","title":"Need Help?","text":"<ul> <li> <p> Troubleshooting</p> <p>Common issues and how to fix them.</p> <p> Troubleshooting</p> </li> <li> <p> Community</p> <p>Join our community for help and discussion.</p> <p> GitHub Discussions</p> </li> </ul>"},{"location":"getting-started/connect-bi-tool/","title":"Connect BI Tool","text":"<p>Connect your favorite BI tool to SetuPranali.</p>"},{"location":"getting-started/connect-bi-tool/#power-bi-odata","title":"Power BI (OData)","text":"<p>Power BI connects natively using OData\u2014no custom connector needed.</p>"},{"location":"getting-started/connect-bi-tool/#step-by-step","title":"Step-by-Step","text":"<ol> <li> <p>Open Power BI Desktop</p> </li> <li> <p>Get Data \u2192 OData Feed</p> <p></p> </li> <li> <p>Enter the OData URL</p> <pre><code>http://localhost:8080/odata/sales\n</code></pre> </li> <li> <p>Configure Authentication</p> <ul> <li>Select Advanced</li> <li>Add HTTP header:</li> <li>Name: <code>X-API-Key</code></li> <li>Value: <code>your-api-key</code></li> </ul> </li> <li> <p>Load Data</p> <p>Click OK \u2192 Load</p> </li> </ol>"},{"location":"getting-started/connect-bi-tool/#odata-url-format","title":"OData URL Format","text":"<pre><code>http://your-server:8080/odata/{dataset}\n</code></pre> Dataset OData URL <code>sales</code> <code>/odata/sales</code> <code>customers</code> <code>/odata/customers</code> <code>products</code> <code>/odata/products</code>"},{"location":"getting-started/connect-bi-tool/#incremental-refresh","title":"Incremental Refresh","text":"<p>Power BI can use incremental refresh with date parameters:</p> <ol> <li>Create Parameters</li> <li><code>RangeStart</code> (Date/Time)</li> <li> <p><code>RangeEnd</code> (Date/Time)</p> </li> <li> <p>Configure Refresh</p> <p>The OData endpoint supports <code>$filter</code> with date ranges:</p> <pre><code>/odata/sales?$filter=order_date ge 2024-01-01 and order_date lt 2024-02-01\n</code></pre> </li> <li> <p>Set Refresh Policy</p> <p>Configure in Power BI Service to load only new data.</p> </li> </ol> <p>See Incremental Refresh Guide for details.</p>"},{"location":"getting-started/connect-bi-tool/#tableau-web-data-connector","title":"Tableau (Web Data Connector)","text":"<p>Tableau connects using a Web Data Connector (WDC).</p>"},{"location":"getting-started/connect-bi-tool/#step-by-step_1","title":"Step-by-Step","text":"<ol> <li> <p>Open Tableau Desktop</p> </li> <li> <p>Connect \u2192 Web Data Connector</p> </li> <li> <p>Enter the WDC URL</p> <pre><code>http://localhost:8080/wdc/\n</code></pre> </li> <li> <p>Configure Connection</p> <ul> <li>Enter your API Key</li> <li>Select a Dataset</li> <li>Click Connect</li> </ul> </li> <li> <p>Use the Data</p> <p>Drag dimensions and metrics to your visualization.</p> </li> </ol>"},{"location":"getting-started/connect-bi-tool/#wdc-interface","title":"WDC Interface","text":"<p>The Web Data Connector provides a simple interface:</p> <ul> <li>API Key: Your authentication key</li> <li>Server URL: Auto-detected</li> <li>Dataset: Select from available datasets</li> <li>Preview: See sample data before loading</li> </ul>"},{"location":"getting-started/connect-bi-tool/#tableau-serveronline","title":"Tableau Server/Online","text":"<p>To use on Tableau Server:</p> <ol> <li>Allowlist the connector URL</li> <li>Configure SSL if using HTTPS</li> <li>Users enter their own API keys</li> </ol>"},{"location":"getting-started/connect-bi-tool/#excel-odata","title":"Excel (OData)","text":"<p>Excel supports OData connections for self-service analytics.</p>"},{"location":"getting-started/connect-bi-tool/#step-by-step_2","title":"Step-by-Step","text":"<ol> <li> <p>Open Excel</p> </li> <li> <p>Data \u2192 Get Data \u2192 From Other Sources \u2192 From OData Feed</p> </li> <li> <p>Enter the OData URL</p> <pre><code>http://localhost:8080/odata/sales\n</code></pre> </li> <li> <p>Configure Authentication</p> <ul> <li>Select Advanced</li> <li>Add HTTP header:</li> <li><code>X-API-Key</code>: <code>your-api-key</code></li> </ul> </li> <li> <p>Load to Excel</p> <p>Choose to load as Table or PivotTable.</p> </li> </ol>"},{"location":"getting-started/connect-bi-tool/#rest-api-any-tool","title":"REST API (Any Tool)","text":"<p>Any tool that supports REST APIs can connect.</p>"},{"location":"getting-started/connect-bi-tool/#curl","title":"cURL","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\"]\n  }'\n</code></pre>"},{"location":"getting-started/connect-bi-tool/#python","title":"Python","text":"<pre><code>import requests\nimport pandas as pd\n\nresponse = requests.post(\n    \"http://localhost:8080/v1/query\",\n    headers={\"X-API-Key\": \"your-api-key\"},\n    json={\n        \"dataset\": \"sales\",\n        \"dimensions\": [\"region\", \"product\"],\n        \"metrics\": [\"revenue\", \"orders\"]\n    }\n)\n\ndata = response.json()\ndf = pd.DataFrame(data[\"rows\"], columns=[c[\"name\"] for c in data[\"columns\"]])\n</code></pre>"},{"location":"getting-started/connect-bi-tool/#javascript","title":"JavaScript","text":"<pre><code>const response = await fetch('http://localhost:8080/v1/query', {\n  method: 'POST',\n  headers: {\n    'X-API-Key': 'your-api-key',\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    dataset: 'sales',\n    dimensions: ['region'],\n    metrics: ['revenue']\n  })\n});\n\nconst data = await response.json();\n</code></pre>"},{"location":"getting-started/connect-bi-tool/#looker-studio","title":"Looker Studio","text":"<p>Connect using the REST API as a data source.</p>"},{"location":"getting-started/connect-bi-tool/#using-community-connector","title":"Using Community Connector","text":"<ol> <li>Create a Google Apps Script connector</li> <li>Use the <code>/v1/query</code> endpoint</li> <li>Map fields to Looker Studio schema</li> </ol>"},{"location":"getting-started/connect-bi-tool/#direct-api","title":"Direct API","text":"<ol> <li>Add Data Source \u2192 Build Your Own</li> <li>Configure with REST endpoint</li> <li>Set authentication headers</li> </ol>"},{"location":"getting-started/connect-bi-tool/#metabase","title":"Metabase","text":"<p>Metabase can query via REST API.</p>"},{"location":"getting-started/connect-bi-tool/#native-query","title":"Native Query","text":"<pre><code>-- Use Metabase's HTTP action or custom driver\nPOST /v1/query\n{\n  \"dataset\": \"sales\",\n  \"dimensions\": [\"region\"],\n  \"metrics\": [\"revenue\"]\n}\n</code></pre>"},{"location":"getting-started/connect-bi-tool/#connection-checklist","title":"Connection Checklist","text":"<p>Before connecting any BI tool:</p> <ul> <li> Connector is running and healthy</li> <li> API key is created and valid</li> <li> Dataset is defined in catalog</li> <li> Network allows connection (firewall, VPN)</li> <li> SSL configured if using HTTPS</li> </ul>"},{"location":"getting-started/connect-bi-tool/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/connect-bi-tool/#connection-refused","title":"\"Connection Refused\"","text":"<pre><code>Cause: Server not running or wrong port\nFix: Verify server is running on the expected port\n</code></pre>"},{"location":"getting-started/connect-bi-tool/#401-unauthorized","title":"\"401 Unauthorized\"","text":"<pre><code>Cause: Invalid or missing API key\nFix: Check the X-API-Key header value\n</code></pre>"},{"location":"getting-started/connect-bi-tool/#dataset-not-found","title":"\"Dataset Not Found\"","text":"<pre><code>Cause: Dataset not in catalog or wrong name\nFix: Verify dataset name in catalog.yaml\n</code></pre>"},{"location":"getting-started/connect-bi-tool/#no-data-returned","title":"\"No Data Returned\"","text":"<pre><code>Cause: RLS filtering out all rows\nFix: Verify API key tenant has matching data\n</code></pre>"},{"location":"getting-started/connect-bi-tool/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Power BI Guide</p> <p>Complete Power BI integration guide.</p> <p> Power BI</p> </li> <li> <p>Tableau Guide</p> <p>Complete Tableau integration guide.</p> <p> Tableau</p> </li> <li> <p>API Reference</p> <p>Complete API documentation.</p> <p> API Reference</p> </li> </ul>"},{"location":"getting-started/first-query/","title":"First Query","text":"<p>Learn how to run your first query through the SetuPranali API.</p>"},{"location":"getting-started/first-query/#query-anatomy","title":"Query Anatomy","text":"<p>Every query has three main parts:</p> <pre><code>{\n  \"dataset\": \"sales\",              // Which dataset to query\n  \"dimensions\": [\"region\"],        // Group-by columns\n  \"metrics\": [\"revenue\", \"orders\"] // Aggregated values\n}\n</code></pre>"},{"location":"getting-started/first-query/#basic-query","title":"Basic Query","text":""},{"location":"getting-started/first-query/#request","title":"Request","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\"]\n  }'\n</code></pre>"},{"location":"getting-started/first-query/#response","title":"Response","text":"<pre><code>{\n  \"columns\": [\n    {\"name\": \"region\", \"type\": \"string\"},\n    {\"name\": \"revenue\", \"type\": \"number\"}\n  ],\n  \"rows\": [\n    [\"North\", 125000.00],\n    [\"South\", 89000.00],\n    [\"East\", 156000.00],\n    [\"West\", 112000.00]\n  ],\n  \"stats\": {\n    \"rowCount\": 4,\n    \"executionTimeMs\": 234,\n    \"cached\": false\n  }\n}\n</code></pre>"},{"location":"getting-started/first-query/#adding-filters","title":"Adding Filters","text":"<p>Filter your data with operators like <code>=</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>in</code>, <code>like</code>.</p>"},{"location":"getting-started/first-query/#request_1","title":"Request","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"product\"],\n    \"metrics\": [\"revenue\", \"orders\"],\n    \"filters\": [\n      {\"field\": \"region\", \"op\": \"=\", \"value\": \"North\"},\n      {\"field\": \"order_date\", \"op\": \"&gt;=\", \"value\": \"2024-01-01\"}\n    ]\n  }'\n</code></pre>"},{"location":"getting-started/first-query/#available-filter-operators","title":"Available Filter Operators","text":"Operator Description Example <code>=</code> Equals <code>{\"field\": \"region\", \"op\": \"=\", \"value\": \"North\"}</code> <code>!=</code> Not equals <code>{\"field\": \"status\", \"op\": \"!=\", \"value\": \"cancelled\"}</code> <code>&gt;</code> Greater than <code>{\"field\": \"amount\", \"op\": \"&gt;\", \"value\": 100}</code> <code>&gt;=</code> Greater or equal <code>{\"field\": \"date\", \"op\": \"&gt;=\", \"value\": \"2024-01-01\"}</code> <code>&lt;</code> Less than <code>{\"field\": \"quantity\", \"op\": \"&lt;\", \"value\": 10}</code> <code>&lt;=</code> Less or equal <code>{\"field\": \"date\", \"op\": \"&lt;=\", \"value\": \"2024-12-31\"}</code> <code>in</code> In list <code>{\"field\": \"region\", \"op\": \"in\", \"value\": [\"North\", \"South\"]}</code> <code>like</code> Pattern match <code>{\"field\": \"name\", \"op\": \"like\", \"value\": \"%Corp%\"}</code>"},{"location":"getting-started/first-query/#sorting-results","title":"Sorting Results","text":""},{"location":"getting-started/first-query/#request_2","title":"Request","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"product\"],\n    \"metrics\": [\"revenue\"],\n    \"orderBy\": [\n      {\"field\": \"revenue\", \"direction\": \"desc\"}\n    ]\n  }'\n</code></pre>"},{"location":"getting-started/first-query/#response_1","title":"Response","text":"<p>Results are sorted by revenue, highest first:</p> <pre><code>{\n  \"rows\": [\n    [\"Electronics\", 256000.00],\n    [\"Furniture\", 189000.00],\n    [\"Clothing\", 145000.00]\n  ]\n}\n</code></pre>"},{"location":"getting-started/first-query/#limiting-results","title":"Limiting Results","text":""},{"location":"getting-started/first-query/#request_3","title":"Request","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"product\"],\n    \"metrics\": [\"revenue\"],\n    \"orderBy\": [{\"field\": \"revenue\", \"direction\": \"desc\"}],\n    \"limit\": 5\n  }'\n</code></pre>"},{"location":"getting-started/first-query/#multiple-dimensions","title":"Multiple Dimensions","text":"<p>Group by multiple columns:</p>"},{"location":"getting-started/first-query/#request_4","title":"Request","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\", \"product\", \"order_date\"],\n    \"metrics\": [\"revenue\", \"orders\", \"avg_order_value\"]\n  }'\n</code></pre>"},{"location":"getting-started/first-query/#query-with-row-level-security","title":"Query with Row-Level Security","text":"<p>When you use a tenant-specific API key, RLS is automatic:</p> <pre><code># This key belongs to tenant \"acme_corp\"\ncurl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_acme_abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\"]\n  }'\n</code></pre> <p>The query automatically includes <code>WHERE tenant_id = 'acme_corp'</code>.</p> <p>RLS is Invisible</p> <p>The API response looks exactly the same\u2014but only includes rows  for that tenant. Users cannot bypass this filter.</p>"},{"location":"getting-started/first-query/#complete-example","title":"Complete Example","text":"<p>Here's a full query with all options:</p> <pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_acme_abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\", \"product\"],\n    \"metrics\": [\"revenue\", \"orders\"],\n    \"filters\": [\n      {\"field\": \"order_date\", \"op\": \"&gt;=\", \"value\": \"2024-01-01\"},\n      {\"field\": \"order_date\", \"op\": \"&lt;=\", \"value\": \"2024-12-31\"},\n      {\"field\": \"status\", \"op\": \"!=\", \"value\": \"cancelled\"}\n    ],\n    \"orderBy\": [\n      {\"field\": \"revenue\", \"direction\": \"desc\"}\n    ],\n    \"limit\": 100\n  }'\n</code></pre>"},{"location":"getting-started/first-query/#error-handling","title":"Error Handling","text":""},{"location":"getting-started/first-query/#invalid-dataset","title":"Invalid Dataset","text":"<pre><code>{\n  \"detail\": \"Dataset 'unknown' not found\"\n}\n</code></pre>"},{"location":"getting-started/first-query/#invalid-field","title":"Invalid Field","text":"<pre><code>{\n  \"detail\": \"Unknown dimension 'invalid_field' in dataset 'sales'\"\n}\n</code></pre>"},{"location":"getting-started/first-query/#rate-limited","title":"Rate Limited","text":"<pre><code>{\n  \"detail\": \"Rate limit exceeded. Retry after 60 seconds.\"\n}\n</code></pre>"},{"location":"getting-started/first-query/#python-example","title":"Python Example","text":"<pre><code>import requests\n\nresponse = requests.post(\n    \"http://localhost:8080/v1/query\",\n    headers={\n        \"X-API-Key\": \"pk_acme_abc123\",\n        \"Content-Type\": \"application/json\"\n    },\n    json={\n        \"dataset\": \"sales\",\n        \"dimensions\": [\"region\"],\n        \"metrics\": [\"revenue\", \"orders\"]\n    }\n)\n\ndata = response.json()\n\nfor row in data[\"rows\"]:\n    print(f\"Region: {row[0]}, Revenue: ${row[1]:,.2f}\")\n</code></pre>"},{"location":"getting-started/first-query/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Connect Power BI</p> <p>Use OData to connect Power BI.</p> <p> Power BI</p> </li> <li> <p>Connect Tableau</p> <p>Use the Web Data Connector.</p> <p> Tableau</p> </li> <li> <p>API Reference</p> <p>Complete query API documentation.</p> <p> Query API</p> </li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>This guide covers all installation methods for SetuPranali.</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"Component Minimum Recommended CPU 1 core 2+ cores Memory 512 MB 2+ GB Python 3.9+ 3.11+ Redis 6.0+ 7.0+ (optional)"},{"location":"getting-started/installation/#docker-recommended","title":"Docker (Recommended)","text":"<p>The fastest way to get started.</p>"},{"location":"getting-started/installation/#quick-start","title":"Quick Start","text":"<pre><code>docker run -d \\\n  --name ubi-connector \\\n  -p 8080:8080 \\\n  -v $(pwd)/catalog.yaml:/app/catalog.yaml \\\n  adeygifting/connector:latest\n</code></pre>"},{"location":"getting-started/installation/#with-environment-variables","title":"With Environment Variables","text":"<pre><code>docker run -d \\\n  --name ubi-connector \\\n  -p 8080:8080 \\\n  -e UBI_SECRET_KEY=$(openssl rand -base64 32) \\\n  -e REDIS_URL=redis://redis:6379 \\\n  -e CACHE_TTL_SECONDS=300 \\\n  -v $(pwd)/catalog.yaml:/app/catalog.yaml \\\n  adeygifting/connector:latest\n</code></pre>"},{"location":"getting-started/installation/#docker-compose","title":"Docker Compose","text":"<p>Create a <code>docker-compose.yml</code>:</p> <pre><code>version: '3.8'\n\nservices:\n  connector:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - UBI_SECRET_KEY=${UBI_SECRET_KEY}\n      - REDIS_URL=redis://redis:6379\n      - CACHE_TTL_SECONDS=300\n      - RATE_LIMIT_QUERY=100/minute\n    volumes:\n      - ./catalog.yaml:/app/catalog.yaml:ro\n      - ./data:/app/data\n    depends_on:\n      - redis\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis-data:/data\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 10s\n      timeout: 5s\n      retries: 3\n\nvolumes:\n  redis-data:\n</code></pre> <p>Start the stack:</p> <pre><code># Generate secret key\necho \"UBI_SECRET_KEY=$(openssl rand -base64 32)\" &gt; .env\n\n# Start services\ndocker compose up -d\n\n# View logs\ndocker compose logs -f connector\n</code></pre>"},{"location":"getting-started/installation/#kubernetes","title":"Kubernetes","text":"<p>For production deployments.</p>"},{"location":"getting-started/installation/#using-helm","title":"Using Helm","text":"<pre><code># Add the Helm repository\nhelm repo add setupranali https://charts.setupranali.io\nhelm repo update\n\n# Install with default values\nhelm install ubi-connector adeygifting/connector\n\n# Or with custom values\nhelm install ubi-connector adeygifting/connector \\\n  --set replicaCount=3 \\\n  --set redis.enabled=true \\\n  --set ingress.enabled=true \\\n  --set ingress.host=bi-api.example.com\n</code></pre>"},{"location":"getting-started/installation/#manual-deployment","title":"Manual Deployment","text":"<p>Apply the Kubernetes manifests:</p> <pre><code>kubectl apply -f k8s/namespace.yaml\nkubectl apply -f k8s/secret.yaml\nkubectl apply -f k8s/configmap.yaml\nkubectl apply -f k8s/deployment.yaml\nkubectl apply -f k8s/service.yaml\nkubectl apply -f k8s/ingress.yaml\n</code></pre> <p>See Kubernetes Deployment for complete manifests.</p>"},{"location":"getting-started/installation/#from-source","title":"From Source","text":"<p>For development or customization.</p>"},{"location":"getting-started/installation/#clone-the-repository","title":"Clone the Repository","text":"<pre><code>git clone https://github.com/setupranali/setupranali.github.io.git\ncd setupranali\n</code></pre>"},{"location":"getting-started/installation/#set-up-virtual-environment","title":"Set Up Virtual Environment","text":"<pre><code># Create virtual environment\npython -m venv .venv\n\n# Activate it\nsource .venv/bin/activate  # Linux/macOS\n# or\n.venv\\Scripts\\activate     # Windows\n</code></pre>"},{"location":"getting-started/installation/#install-dependencies","title":"Install Dependencies","text":"<pre><code># Core dependencies\npip install -r requirements.txt\n\n# Development dependencies (optional)\npip install -r requirements-dev.txt\n</code></pre>"},{"location":"getting-started/installation/#configure-environment","title":"Configure Environment","text":"<pre><code># Copy example config\ncp env.example .env\n\n# Edit with your settings\nvim .env\n</code></pre> <p>Minimum required settings:</p> <pre><code># .env\nUBI_SECRET_KEY=your-secret-key-here\n</code></pre>"},{"location":"getting-started/installation/#start-the-server","title":"Start the Server","text":"<pre><code># Development mode (with auto-reload)\npython -m uvicorn app.main:app --reload --port 8080\n\n# Production mode\npython -m uvicorn app.main:app --host 0.0.0.0 --port 8080 --workers 4\n</code></pre>"},{"location":"getting-started/installation/#database-drivers","title":"Database Drivers","text":"<p>Install drivers for your data sources:</p> All DriversPostgreSQLMySQLSnowflakeBigQueryDatabricksRedshiftClickHouse <pre><code>pip install -r requirements.txt\n</code></pre> <pre><code>pip install psycopg2-binary\n</code></pre> <pre><code>pip install mysql-connector-python\n</code></pre> <pre><code>pip install snowflake-connector-python\n</code></pre> <pre><code>pip install google-cloud-bigquery db-dtypes\n</code></pre> <pre><code>pip install databricks-sql-connector\n</code></pre> <pre><code>pip install redshift-connector\n</code></pre> <pre><code>pip install clickhouse-connect\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>After installation, verify everything works:</p> <pre><code># Check health endpoint\ncurl http://localhost:8080/health\n</code></pre> <p>Expected response:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"version\": \"1.0.0\",\n  \"redis\": \"connected\",\n  \"sources\": 0,\n  \"datasets\": 0\n}\n</code></pre> <p>Check the API documentation:</p> <pre><code># Open in browser\nopen http://localhost:8080/docs\n</code></pre>"},{"location":"getting-started/installation/#configuration","title":"Configuration","text":"<p>See Configuration Reference for all options.</p>"},{"location":"getting-started/installation/#essential-settings","title":"Essential Settings","text":"Variable Description Default <code>UBI_SECRET_KEY</code> Encryption key for sources Required <code>REDIS_URL</code> Redis connection URL <code>redis://localhost:6379</code> <code>CACHE_TTL_SECONDS</code> Query cache duration <code>300</code> <code>RATE_LIMIT_QUERY</code> Query rate limit <code>100/minute</code>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Quick Start</p> <p>Get your first query running.</p> <p> Quick Start</p> </li> <li> <p>Add Data Sources</p> <p>Connect your databases.</p> <p> Data Sources</p> </li> <li> <p>Configure Security</p> <p>Set up API keys and RLS.</p> <p> Security</p> </li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Get SetuPranali running and querying data in 5 minutes.</p>"},{"location":"getting-started/quickstart/#step-1-start-the-connector","title":"Step 1: Start the Connector","text":"Docker (Recommended)Docker ComposeFrom Source <pre><code># Pull and run the latest image\ndocker run -d \\\n  --name ubi-connector \\\n  -p 8080:8080 \\\n  -e UBI_SECRET_KEY=$(openssl rand -base64 32) \\\n  adeygifting/connector:latest\n</code></pre> <pre><code># docker-compose.yml\nversion: '3.8'\nservices:\n  connector:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - UBI_SECRET_KEY=${UBI_SECRET_KEY}\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - redis\n\n  redis:\n    image: redis:7-alpine\n</code></pre> <pre><code>docker compose up -d\n</code></pre> <pre><code>git clone https://github.com/setupranali/setupranali.github.io.git\ncd setupranali\n\n# Create virtual environment\npython -m venv .venv\nsource .venv/bin/activate\n\n# Install dependencies\npip install -r requirements.txt\n\n# Start the server\npython -m uvicorn app.main:app --port 8080\n</code></pre> <p>Verify it's running:</p> <pre><code>curl http://localhost:8080/health\n</code></pre> <p>Expected response:</p> <pre><code>{\"status\": \"ok\", \"version\": \"1.0.0\"}\n</code></pre>"},{"location":"getting-started/quickstart/#step-2-register-a-data-source","title":"Step 2: Register a Data Source","text":"<p>Add your database connection. The credentials are encrypted at rest.</p> SnowflakePostgreSQLBigQuery <pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"snowflake-prod\",\n    \"type\": \"snowflake\",\n    \"connection\": {\n      \"account\": \"abc123.us-east-1\",\n      \"user\": \"BI_SERVICE\",\n      \"password\": \"your-password\",\n      \"warehouse\": \"ANALYTICS_WH\",\n      \"database\": \"ANALYTICS\",\n      \"schema\": \"PUBLIC\"\n    }\n  }'\n</code></pre> <pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"postgres-prod\",\n    \"type\": \"postgres\",\n    \"connection\": {\n      \"host\": \"db.example.com\",\n      \"port\": 5432,\n      \"database\": \"analytics\",\n      \"user\": \"readonly\",\n      \"password\": \"your-password\"\n    }\n  }'\n</code></pre> <pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"bigquery-prod\",\n    \"type\": \"bigquery\",\n    \"connection\": {\n      \"project_id\": \"my-project\",\n      \"credentials_json\": \"{...service-account-key...}\"\n    }\n  }'\n</code></pre> <p>Source Registered</p> <p>Your database credentials are now encrypted and stored securely. You'll reference this source by name in your datasets.</p>"},{"location":"getting-started/quickstart/#step-3-define-a-dataset","title":"Step 3: Define a Dataset","text":"<p>Create a <code>catalog.yaml</code> file with your semantic model:</p> <pre><code>datasets:\n  - name: sales\n    source: snowflake-prod  # References the source you just created\n    table: fact_sales\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region_name\n        description: Sales region\n\n      - name: product\n        type: string\n        expr: product_category\n        description: Product category\n\n      - name: order_date\n        type: date\n        expr: order_date\n        description: Order date\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(sale_amount)\"\n        description: Total revenue\n\n      - name: orders\n        type: number\n        expr: \"COUNT(*)\"\n        description: Number of orders\n\n      - name: avg_order_value\n        type: number\n        expr: \"AVG(sale_amount)\"\n        description: Average order value\n\n    # Optional: Row-level security\n    rls:\n      tenant_column: tenant_id\n</code></pre> <p>The connector automatically loads <code>catalog.yaml</code> on startup.</p>"},{"location":"getting-started/quickstart/#step-4-create-an-api-key","title":"Step 4: Create an API Key","text":"<p>API keys control access and enable row-level security:</p> <pre><code># Add to your config or env\napi_keys:\n  # Admin key for management\n  - key: \"admin-key\"\n    role: admin\n\n  # Tenant-specific key with RLS\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    role: analyst\n\n  # Another tenant\n  - key: \"pk_globex_xyz789\"\n    tenant: globex_inc\n    role: analyst\n</code></pre> <p>Row-Level Security</p> <p>When a user queries with <code>pk_acme_abc123</code>, they only see rows where  <code>tenant_id = 'acme_corp'</code>. This is automatic\u2014no extra code needed.</p>"},{"location":"getting-started/quickstart/#step-5-query-your-data","title":"Step 5: Query Your Data","text":""},{"location":"getting-started/quickstart/#option-a-rest-api","title":"Option A: REST API","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_acme_abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\", \"product\"],\n    \"metrics\": [\"revenue\", \"orders\"],\n    \"filters\": [\n      {\"field\": \"order_date\", \"op\": \"&gt;=\", \"value\": \"2024-01-01\"}\n    ]\n  }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"columns\": [\n    {\"name\": \"region\", \"type\": \"string\"},\n    {\"name\": \"product\", \"type\": \"string\"},\n    {\"name\": \"revenue\", \"type\": \"number\"},\n    {\"name\": \"orders\", \"type\": \"number\"}\n  ],\n  \"rows\": [\n    [\"North\", \"Electronics\", 125000.00, 342],\n    [\"South\", \"Furniture\", 89000.00, 156],\n    [\"East\", \"Electronics\", 156000.00, 421]\n  ],\n  \"stats\": {\n    \"rowCount\": 3,\n    \"executionTimeMs\": 234\n  }\n}\n</code></pre>"},{"location":"getting-started/quickstart/#option-b-connect-power-bi","title":"Option B: Connect Power BI","text":"<ol> <li>In Power BI Desktop, go to Get Data \u2192 OData Feed</li> <li>Enter URL: <code>http://localhost:8080/odata/sales</code></li> <li>Select Advanced \u2192 Add custom header:</li> <li><code>X-API-Key</code>: <code>pk_acme_abc123</code></li> <li>Click OK and load your data</li> </ol>"},{"location":"getting-started/quickstart/#option-c-connect-tableau","title":"Option C: Connect Tableau","text":"<ol> <li>Open Tableau Desktop</li> <li>Go to Connect \u2192 Web Data Connector</li> <li>Enter URL: <code>http://localhost:8080/wdc/</code></li> <li>Enter your API key when prompted</li> <li>Select dataset and load</li> </ol>"},{"location":"getting-started/quickstart/#youre-done","title":"\ud83c\udf89 You're Done!","text":"<p>You now have:</p> <ul> <li> A running SetuPranali</li> <li> Encrypted database connection</li> <li> Semantic dataset with metrics</li> <li> Secure API access with RLS</li> <li> BI tool connected</li> </ul>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Add More Datasets</p> <p>Define additional datasets in your catalog.</p> <p> Dataset Guide</p> </li> <li> <p>Configure RLS</p> <p>Set up row-level security for multi-tenant access.</p> <p> RLS Guide</p> </li> <li> <p>Enable Caching</p> <p>Improve performance with Redis caching.</p> <p> Caching</p> </li> <li> <p>Deploy to Production</p> <p>Deploy with Docker or Kubernetes.</p> <p> Deployment</p> </li> </ul>"},{"location":"getting-started/web-ui-quickstart/","title":"Web UI Quick Start","text":"<p>Get started with SetuPranali's web-based admin dashboard in 2 minutes.</p>"},{"location":"getting-started/web-ui-quickstart/#access-the-web-ui","title":"Access the Web UI","text":""},{"location":"getting-started/web-ui-quickstart/#option-1-docker-recommended","title":"Option 1: Docker (Recommended)","text":"<pre><code>docker run -p 8080:8080 -p 5173:5173 adeygifting/connector:latest\n</code></pre> <p>Open http://localhost:5173</p>"},{"location":"getting-started/web-ui-quickstart/#option-2-local-development","title":"Option 2: Local Development","text":"<pre><code># Terminal 1: Start backend\ncd ubi-connector\npython3 -m uvicorn app.main:app --port 8080\n\n# Terminal 2: Start frontend\ncd webui\nnpm install\nnpm run dev\n</code></pre> <p>Open http://localhost:5173</p>"},{"location":"getting-started/web-ui-quickstart/#first-steps","title":"First Steps","text":""},{"location":"getting-started/web-ui-quickstart/#1-create-an-api-key","title":"1. Create an API Key","text":"<ol> <li>Navigate to API Keys (<code>/api-keys</code>)</li> <li>Click \"Create API Key\"</li> <li>Enter:</li> <li>Name: <code>my-first-key</code></li> <li>Tenant: <code>default</code></li> <li>Role: <code>admin</code></li> <li>Click \"Create\"</li> <li>Copy the key - it's only shown once!</li> </ol>"},{"location":"getting-started/web-ui-quickstart/#2-explore-datasets","title":"2. Explore Datasets","text":"<ol> <li>Go to Datasets (<code>/datasets</code>)</li> <li>Click on the \"orders\" dataset</li> <li>View dimensions and metrics</li> <li>Try a sample query</li> </ol>"},{"location":"getting-started/web-ui-quickstart/#3-test-query-playground","title":"3. Test Query Playground","text":"<ol> <li>Navigate to Query Playground (<code>/playground</code>)</li> <li>Select dataset: \"orders\"</li> <li>Add dimension: \"city\"</li> <li>Add metric: \"total_revenue\"</li> <li>Click \"Execute Query\"</li> <li>View results!</li> </ol>"},{"location":"getting-started/web-ui-quickstart/#4-explore-modeling-studio","title":"4. Explore Modeling Studio","text":"<ol> <li>Go to Modeling Studio (<code>/modeling</code>)</li> <li>Click \"Add Source\"</li> <li>Configure a database connection</li> <li>Build an ERD</li> <li>Create a semantic model</li> </ol>"},{"location":"getting-started/web-ui-quickstart/#key-features","title":"Key Features","text":""},{"location":"getting-started/web-ui-quickstart/#dashboard","title":"Dashboard","text":"<ul> <li>System health monitoring</li> <li>Query metrics and statistics</li> <li>Recent activity</li> </ul>"},{"location":"getting-started/web-ui-quickstart/#query-playground","title":"Query Playground","text":"<ul> <li>Visual query builder</li> <li>SQL mode</li> <li>Result visualization</li> <li>Query testing</li> </ul>"},{"location":"getting-started/web-ui-quickstart/#modeling-studio","title":"Modeling Studio","text":"<ul> <li>Schema discovery</li> <li>ERD builder</li> <li>Semantic model creation</li> <li>Query workbench</li> </ul>"},{"location":"getting-started/web-ui-quickstart/#data-sources","title":"Data Sources","text":"<ul> <li>Connection management</li> <li>Connection testing</li> <li>Source configuration</li> </ul>"},{"location":"getting-started/web-ui-quickstart/#api-keys","title":"API Keys","text":"<ul> <li>Key creation and management</li> <li>Usage tracking</li> <li>Key revocation</li> </ul>"},{"location":"getting-started/web-ui-quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Web UI Guide</li> <li>Modeling Studio Guide</li> <li>Query Playground Tutorial</li> </ul>"},{"location":"guides/","title":"Guides","text":"<p>Practical guides for common tasks and configurations.</p>"},{"location":"guides/#quick-links","title":"Quick Links","text":"<ul> <li> <p> Defining Datasets</p> <p>Create and configure your semantic datasets.</p> <p> Datasets</p> </li> <li> <p> Row-Level Security</p> <p>Implement per-tenant data isolation.</p> <p> RLS</p> </li> <li> <p> Incremental Refresh</p> <p>Efficient data loading for BI tools.</p> <p> Incremental Refresh</p> </li> <li> <p> Multi-Tenant Setup</p> <p>Configure for multiple customers.</p> <p> Multi-Tenant</p> </li> <li> <p> API Keys</p> <p>Create and manage API keys.</p> <p> API Keys</p> </li> </ul>"},{"location":"guides/#getting-help","title":"Getting Help","text":"<p>If you don't find what you're looking for:</p> <ul> <li>Check the API Reference</li> <li>Review Concepts</li> <li>Ask in GitHub Discussions</li> </ul>"},{"location":"guides/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/#common-issues","title":"Common Issues","text":"Issue Solution 401 Unauthorized Check API key in X-API-Key header 404 Dataset Not Found Verify dataset name in catalog.yaml Empty Results Check RLS configuration Slow Queries Enable caching, check indexes Rate Limited Reduce request frequency or increase limit"},{"location":"guides/#logs","title":"Logs","text":"<pre><code># Docker\ndocker logs ubi-connector\n\n# Kubernetes\nkubectl logs -l app=ubi-connector\n\n# Local\n# Logs print to stdout by default\n</code></pre>"},{"location":"guides/#health-check","title":"Health Check","text":"<pre><code>curl http://localhost:8080/health\n</code></pre> <p>Expected:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"version\": \"1.0.0\",\n  \"redis\": \"connected\"\n}\n</code></pre>"},{"location":"guides/advanced-data-features/","title":"Advanced Data Features","text":"<p>SetuPranali provides powerful advanced data capabilities that enable sophisticated data modeling and querying across your semantic layer.</p>"},{"location":"guides/advanced-data-features/#overview","title":"Overview","text":"Feature Description Status Semantic Joins Join across datasets in the semantic layer \u2705 Available Calculated Metrics Define metrics based on other metrics \u2705 Available Caching Strategies Smart cache invalidation and pre-warming \u2705 Available Query Federation Query across multiple data sources \u2705 Available"},{"location":"guides/advanced-data-features/#semantic-joins","title":"Semantic Joins","text":"<p>Define relationships between datasets and query across them seamlessly.</p>"},{"location":"guides/advanced-data-features/#configuration","title":"Configuration","text":"<p>Define joins in your <code>catalog.yaml</code>:</p> <pre><code># catalog.yaml\ndatasets:\n  - id: orders\n    name: Orders\n    sql: SELECT * FROM orders\n    dimensions:\n      - name: order_id\n        sql: order_id\n      - name: customer_id\n        sql: customer_id\n    metrics:\n      - name: revenue\n        sql: SUM(amount)\n\n  - id: customers\n    name: Customers  \n    sql: SELECT * FROM customers\n    dimensions:\n      - name: customer_id\n        sql: customer_id\n      - name: customer_name\n        sql: name\n      - name: country\n        sql: country\n\n# Define relationships\njoins:\n  - left_dataset: orders\n    right_dataset: customers\n    join_type: left\n    left_key: customer_id\n    right_key: customer_id\n    cardinality: many-to-one\n</code></pre>"},{"location":"guides/advanced-data-features/#query-with-joins","title":"Query with Joins","text":"<pre><code># Query orders with customer dimensions\ncurl -X POST \"http://localhost:8080/v1/query\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"order_id\", \"customers.customer_name\", \"customers.country\"],\n    \"metrics\": [\"revenue\"]\n  }'\n</code></pre>"},{"location":"guides/advanced-data-features/#join-path-discovery","title":"Join Path Discovery","text":"<p>The system automatically finds the shortest join path between datasets:</p> <pre><code>from setupranali import SetuPranaliClient\n\nclient = SetuPranaliClient(\"http://localhost:8080\", \"sk_demo_123\")\n\n# Get join path between orders and products\njoin_path = client.introspect_join_path(\"orders\", \"products\")\nprint(join_path)\n# {\n#   \"datasets\": [\"orders\", \"order_items\", \"products\"],\n#   \"joins\": [\n#     {\"left\": \"orders\", \"right\": \"order_items\", \"on\": \"order_id\"},\n#     {\"left\": \"order_items\", \"right\": \"products\", \"on\": \"product_id\"}\n#   ]\n# }\n</code></pre>"},{"location":"guides/advanced-data-features/#join-types","title":"Join Types","text":"Type Description <code>inner</code> Only matching rows <code>left</code> All left rows + matching right <code>right</code> All right rows + matching left <code>full</code> All rows from both sides"},{"location":"guides/advanced-data-features/#configuration-options","title":"Configuration Options","text":"Environment Variable Default Description <code>JOINS_ENABLED</code> <code>true</code> Enable semantic joins <code>MAX_JOIN_DEPTH</code> <code>3</code> Maximum join path depth"},{"location":"guides/advanced-data-features/#calculated-metrics","title":"Calculated Metrics","text":"<p>Define complex metrics using formulas that reference other metrics.</p>"},{"location":"guides/advanced-data-features/#configuration_1","title":"Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - id: orders\n    name: Orders\n    sql: SELECT * FROM orders\n    metrics:\n      # Base metrics\n      - name: revenue\n        sql: SUM(amount)\n\n      - name: order_count\n        sql: COUNT(*)\n\n      - name: refund_amount\n        sql: SUM(CASE WHEN status = 'refunded' THEN amount ELSE 0 END)\n\n# Calculated metrics\ncalculated_metrics:\n  - name: average_order_value\n    expression: \"{revenue} / NULLIF({order_count}, 0)\"\n    description: \"Average revenue per order\"\n    format: currency\n\n  - name: net_revenue\n    expression: \"{revenue} - {refund_amount}\"\n    description: \"Revenue minus refunds\"\n    format: currency\n\n  - name: refund_rate\n    expression: \"{refund_amount} / NULLIF({revenue}, 0) * 100\"\n    description: \"Percentage of revenue refunded\"\n    format: percent\n\n  # Calculated metric using another calculated metric\n  - name: net_aov\n    expression: \"{net_revenue} / NULLIF({order_count}, 0)\"\n    description: \"Net average order value\"\n    format: currency\n</code></pre>"},{"location":"guides/advanced-data-features/#using-calculated-metrics","title":"Using Calculated Metrics","text":"<pre><code># Query with calculated metrics\ncurl -X POST \"http://localhost:8080/v1/query\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\", \"order_count\", \"average_order_value\", \"net_revenue\"]\n  }'\n</code></pre>"},{"location":"guides/advanced-data-features/#metric-composition","title":"Metric Composition","text":"<p>Build complex metrics from simpler ones:</p> <pre><code>calculated_metrics:\n  # Growth metrics\n  - name: revenue_growth\n    expression: \"({revenue} - {prev_period_revenue}) / NULLIF({prev_period_revenue}, 0) * 100\"\n\n  # Ratios\n  - name: conversion_rate\n    expression: \"{purchases} / NULLIF({visits}, 0) * 100\"\n\n  # Weighted metrics\n  - name: weighted_score\n    expression: \"({quality_score} * 0.4) + ({speed_score} * 0.3) + ({value_score} * 0.3)\"\n\n  # Conditional metrics\n  - name: premium_revenue_share\n    expression: \"{premium_revenue} / NULLIF({revenue}, 0) * 100\"\n</code></pre>"},{"location":"guides/advanced-data-features/#validation","title":"Validation","text":"<p>The system validates calculated metrics to prevent: - Circular dependencies - Missing metric references - Division by zero (use <code>NULLIF</code>)</p>"},{"location":"guides/advanced-data-features/#configuration-options_1","title":"Configuration Options","text":"Environment Variable Default Description <code>CALCULATED_METRICS_ENABLED</code> <code>true</code> Enable calculated metrics <code>MAX_METRIC_DEPTH</code> <code>5</code> Maximum nesting depth"},{"location":"guides/advanced-data-features/#caching-strategies","title":"Caching Strategies","text":"<p>Smart caching with multiple invalidation strategies.</p>"},{"location":"guides/advanced-data-features/#cache-configuration","title":"Cache Configuration","text":"<pre><code># Environment configuration\nCACHE_ENABLED=true\nCACHE_TTL_SECONDS=3600\nCACHE_MAX_SIZE_MB=1024\nCACHE_PREWARM_ENABLED=true\nCACHE_INVALIDATION_ENABLED=true\n</code></pre>"},{"location":"guides/advanced-data-features/#invalidation-strategies","title":"Invalidation Strategies","text":""},{"location":"guides/advanced-data-features/#ttl-time-to-live","title":"TTL (Time-To-Live)","text":"<pre><code># Automatic expiration after TTL\ncaching:\n  strategy: ttl\n  ttl_seconds: 3600  # 1 hour\n</code></pre>"},{"location":"guides/advanced-data-features/#lru-least-recently-used","title":"LRU (Least Recently Used)","text":"<pre><code>caching:\n  strategy: lru\n  max_entries: 10000\n</code></pre>"},{"location":"guides/advanced-data-features/#dataset-based-invalidation","title":"Dataset-Based Invalidation","text":"<pre><code># Invalidate all cache for a dataset\ncurl -X POST \"http://localhost:8080/v1/cache/invalidate\" \\\n  -H \"Authorization: Bearer sk_admin_key\" \\\n  -d '{\"dataset\": \"orders\"}'\n</code></pre>"},{"location":"guides/advanced-data-features/#tag-based-invalidation","title":"Tag-Based Invalidation","text":"<pre><code># Invalidate by tag\ncurl -X POST \"http://localhost:8080/v1/cache/invalidate\" \\\n  -H \"Authorization: Bearer sk_admin_key\" \\\n  -d '{\"tag\": \"daily_reports\"}'\n</code></pre>"},{"location":"guides/advanced-data-features/#cache-pre-warming","title":"Cache Pre-Warming","text":"<p>Pre-compute frequently accessed queries:</p> <pre><code># catalog.yaml\ncache_prewarm:\n  enabled: true\n  queries:\n    - dataset: orders\n      dimensions: [region]\n      metrics: [revenue, order_count]\n      schedule: \"0 6 * * *\"  # 6 AM daily\n\n    - dataset: orders\n      dimensions: [product_category]\n      metrics: [revenue]\n      filters:\n        date: \"last_30_days\"\n      schedule: \"0 */4 * * *\"  # Every 4 hours\n</code></pre>"},{"location":"guides/advanced-data-features/#cache-statistics","title":"Cache Statistics","text":"<pre><code>curl \"http://localhost:8080/v1/cache/stats\" \\\n  -H \"Authorization: Bearer sk_admin_key\"\n</code></pre> <p>Response: <pre><code>{\n  \"hits\": 15423,\n  \"misses\": 892,\n  \"hit_rate\": 0.945,\n  \"evictions\": 234,\n  \"size_mb\": 256.4,\n  \"max_size_mb\": 1024,\n  \"entry_count\": 1847\n}\n</code></pre></p>"},{"location":"guides/advanced-data-features/#write-through-invalidation","title":"Write-Through Invalidation","text":"<p>Automatically invalidate cache when source data changes:</p> <pre><code>caching:\n  write_through:\n    enabled: true\n    sources:\n      - database: analytics\n        tables: [orders, order_items]\n        invalidate_datasets: [orders, sales_summary]\n</code></pre>"},{"location":"guides/advanced-data-features/#configuration-options_2","title":"Configuration Options","text":"Environment Variable Default Description <code>CACHE_ENABLED</code> <code>true</code> Enable caching <code>CACHE_TTL_SECONDS</code> <code>3600</code> Default TTL <code>CACHE_MAX_SIZE_MB</code> <code>1024</code> Max cache size <code>CACHE_PREWARM_ENABLED</code> <code>true</code> Enable pre-warming"},{"location":"guides/advanced-data-features/#query-federation","title":"Query Federation","text":"<p>Query data across multiple sources as a unified semantic layer.</p>"},{"location":"guides/advanced-data-features/#source-registration","title":"Source Registration","text":"<pre><code># catalog.yaml\nfederation:\n  enabled: true\n  sources:\n    - id: warehouse\n      name: Data Warehouse\n      type: bigquery\n      project: my-project\n      datasets:\n        - orders\n        - customers\n\n    - id: analytics\n      name: Analytics DB\n      type: postgres\n      host: analytics.example.com\n      datasets:\n        - page_views\n        - sessions\n\n    - id: crm\n      name: CRM System\n      type: mysql\n      host: crm.example.com\n      datasets:\n        - leads\n        - opportunities\n</code></pre>"},{"location":"guides/advanced-data-features/#cross-source-queries","title":"Cross-Source Queries","text":"<p>Query across multiple sources seamlessly:</p> <pre><code># Join data from warehouse and analytics\ncurl -X POST \"http://localhost:8080/v1/query\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"region\", \"sessions.traffic_source\"],\n    \"metrics\": [\"revenue\", \"sessions.session_count\"],\n    \"joins\": [\n      {\n        \"dataset\": \"sessions\",\n        \"on\": {\"orders.customer_id\": \"sessions.user_id\"}\n      }\n    ]\n  }'\n</code></pre>"},{"location":"guides/advanced-data-features/#federation-response","title":"Federation Response","text":"<pre><code>{\n  \"data\": [\n    {\n      \"region\": \"US\",\n      \"traffic_source\": \"google\",\n      \"revenue\": 125000,\n      \"session_count\": 45000\n    }\n  ],\n  \"meta\": {\n    \"federated\": true,\n    \"sources\": [\"warehouse\", \"analytics\"],\n    \"timing_ms\": 245,\n    \"sub_timing\": {\n      \"warehouse\": 120,\n      \"analytics\": 95\n    }\n  }\n}\n</code></pre>"},{"location":"guides/advanced-data-features/#source-priority","title":"Source Priority","text":"<p>Configure source priority for failover:</p> <pre><code>federation:\n  sources:\n    - id: primary_warehouse\n      priority: 1  # Primary\n      datasets: [orders]\n\n    - id: replica_warehouse\n      priority: 2  # Fallback\n      datasets: [orders]\n</code></pre>"},{"location":"guides/advanced-data-features/#health-monitoring","title":"Health Monitoring","text":"<pre><code>curl \"http://localhost:8080/v1/federation/health\" \\\n  -H \"Authorization: Bearer sk_admin_key\"\n</code></pre> <pre><code>{\n  \"sources\": {\n    \"warehouse\": {\n      \"healthy\": true,\n      \"last_check\": \"2024-01-15T10:30:00Z\",\n      \"latency_ms\": 45\n    },\n    \"analytics\": {\n      \"healthy\": true,\n      \"last_check\": \"2024-01-15T10:30:00Z\",\n      \"latency_ms\": 32\n    }\n  }\n}\n</code></pre>"},{"location":"guides/advanced-data-features/#configuration-options_3","title":"Configuration Options","text":"Environment Variable Default Description <code>FEDERATION_ENABLED</code> <code>true</code> Enable federation <code>FEDERATION_TIMEOUT_SECONDS</code> <code>60</code> Query timeout <code>FEDERATION_MAX_SOURCES</code> <code>10</code> Max parallel sources"},{"location":"guides/advanced-data-features/#complete-example","title":"Complete Example","text":"<p>Here's a comprehensive catalog using all advanced features:</p> <pre><code># catalog.yaml\nversion: \"1.0\"\n\n# Data Sources\nsources:\n  - id: warehouse\n    type: bigquery\n    project: analytics-project\n\n  - id: postgres\n    type: postgres\n    host: ${POSTGRES_HOST}\n\n# Federation\nfederation:\n  enabled: true\n  sources:\n    - id: warehouse\n      datasets: [orders, products]\n    - id: postgres  \n      datasets: [inventory, suppliers]\n\n# Datasets\ndatasets:\n  - id: orders\n    name: Orders\n    source: warehouse\n    sql: SELECT * FROM `analytics.orders`\n    dimensions:\n      - name: order_id\n        sql: order_id\n      - name: customer_id\n        sql: customer_id\n      - name: order_date\n        sql: order_date\n        type: date\n    metrics:\n      - name: revenue\n        sql: SUM(amount)\n      - name: order_count\n        sql: COUNT(*)\n      - name: refunds\n        sql: SUM(CASE WHEN status = 'refunded' THEN amount ELSE 0 END)\n\n  - id: customers\n    name: Customers\n    source: warehouse\n    sql: SELECT * FROM `analytics.customers`\n    dimensions:\n      - name: customer_id\n        sql: customer_id\n      - name: customer_name\n        sql: name\n      - name: country\n        sql: country\n\n  - id: inventory\n    name: Inventory\n    source: postgres\n    sql: SELECT * FROM inventory\n    dimensions:\n      - name: product_id\n        sql: product_id\n      - name: warehouse_location\n        sql: location\n    metrics:\n      - name: stock_level\n        sql: SUM(quantity)\n\n# Semantic Joins\njoins:\n  - left_dataset: orders\n    right_dataset: customers\n    join_type: left\n    left_key: customer_id\n    right_key: customer_id\n    cardinality: many-to-one\n\n# Calculated Metrics\ncalculated_metrics:\n  - name: aov\n    expression: \"{revenue} / NULLIF({order_count}, 0)\"\n    format: currency\n\n  - name: net_revenue\n    expression: \"{revenue} - {refunds}\"\n    format: currency\n\n  - name: refund_rate\n    expression: \"{refunds} / NULLIF({revenue}, 0) * 100\"\n    format: percent\n\n# Caching\ncaching:\n  enabled: true\n  ttl_seconds: 1800\n  prewarm:\n    - dataset: orders\n      dimensions: [country]\n      metrics: [revenue, order_count, aov]\n      schedule: \"0 * * * *\"\n</code></pre>"},{"location":"guides/advanced-data-features/#python-sdk","title":"Python SDK","text":"<pre><code>from setupranali import SetuPranaliClient\n\nclient = SetuPranaliClient(\n    base_url=\"http://localhost:8080\",\n    api_key=\"sk_demo_123\"\n)\n\n# Query with joins\nresult = client.query(\n    dataset=\"orders\",\n    dimensions=[\"order_id\", \"customers.customer_name\"],\n    metrics=[\"revenue\"]\n)\n\n# Query calculated metrics\nresult = client.query(\n    dataset=\"orders\",\n    dimensions=[\"region\"],\n    metrics=[\"revenue\", \"aov\", \"net_revenue\", \"refund_rate\"]\n)\n\n# Cross-source query\nresult = client.query(\n    dataset=\"orders\",\n    dimensions=[\"product_id\", \"inventory.warehouse_location\"],\n    metrics=[\"revenue\", \"inventory.stock_level\"],\n    joins=[{\"dataset\": \"inventory\", \"on\": \"product_id\"}]\n)\n\n# Cache management\nclient.cache_invalidate(dataset=\"orders\")\nstats = client.cache_stats()\nprint(f\"Cache hit rate: {stats['hit_rate']:.1%}\")\n</code></pre>"},{"location":"guides/advanced-data-features/#best-practices","title":"Best Practices","text":""},{"location":"guides/advanced-data-features/#semantic-joins_1","title":"Semantic Joins","text":"<ol> <li>Define cardinality - Helps query optimizer</li> <li>Keep join depth shallow - Max 3 hops recommended</li> <li>Index join keys - Ensure source tables are indexed</li> </ol>"},{"location":"guides/advanced-data-features/#calculated-metrics_1","title":"Calculated Metrics","text":"<ol> <li>Use NULLIF for divisions - Prevent division by zero</li> <li>Keep nesting shallow - Max 3-4 levels</li> <li>Document formulas - Add descriptions</li> </ol>"},{"location":"guides/advanced-data-features/#caching","title":"Caching","text":"<ol> <li>Set appropriate TTL - Balance freshness vs performance</li> <li>Pre-warm critical queries - Schedule during low-traffic</li> <li>Monitor hit rates - Adjust cache size as needed</li> </ol>"},{"location":"guides/advanced-data-features/#federation","title":"Federation","text":"<ol> <li>Minimize cross-source joins - Push down filters</li> <li>Set timeouts - Prevent slow queries blocking</li> <li>Monitor source health - Set up alerting</li> </ol>"},{"location":"guides/advanced-data-features/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/advanced-data-features/#join-path-not-found","title":"Join Path Not Found","text":"<pre><code>Error: No join path found between 'orders' and 'inventory'\n</code></pre> <p>Solution: Define the relationship in <code>joins</code> section or increase <code>MAX_JOIN_DEPTH</code>.</p>"},{"location":"guides/advanced-data-features/#circular-metric-dependency","title":"Circular Metric Dependency","text":"<pre><code>Error: Circular dependency detected in metric 'growth_rate'\n</code></pre> <p>Solution: Review calculated metric definitions and remove circular references.</p>"},{"location":"guides/advanced-data-features/#cache-miss-rate-high","title":"Cache Miss Rate High","text":"<p>Solution: - Increase <code>CACHE_TTL_SECONDS</code> - Enable pre-warming for common queries - Increase <code>CACHE_MAX_SIZE_MB</code></p>"},{"location":"guides/advanced-data-features/#federation-timeout","title":"Federation Timeout","text":"<pre><code>Error: Federation query timed out after 60s\n</code></pre> <p>Solution: - Increase <code>FEDERATION_TIMEOUT_SECONDS</code> - Add filters to reduce data volume - Check source database performance</p>"},{"location":"guides/ai-features/","title":"AI-Powered Features","text":"<p>SetuPranali includes intelligent automation powered by AI and machine learning.</p>"},{"location":"guides/ai-features/#overview","title":"Overview","text":"Feature Description Auto-generated Descriptions AI-powered documentation for metrics and dimensions Anomaly Detection Automatic alerts when metrics behave unusually Query Suggestions Smart autocomplete based on usage patterns"},{"location":"guides/ai-features/#quick-start","title":"Quick Start","text":""},{"location":"guides/ai-features/#enable-ai-features","title":"Enable AI Features","text":"<pre><code># Enable all AI features\nAI_ENABLED=true\n\n# Use OpenAI for descriptions\nAI_PROVIDER=openai\nOPENAI_API_KEY=sk-xxxxx\n\n# Or use Anthropic\nAI_PROVIDER=anthropic\nANTHROPIC_API_KEY=sk-ant-xxxxx\n\n# Or use heuristics only (no API required)\nAI_PROVIDER=none\n</code></pre>"},{"location":"guides/ai-features/#auto-generated-descriptions","title":"Auto-Generated Descriptions","text":"<p>Automatically generate documentation for metrics, dimensions, and datasets.</p>"},{"location":"guides/ai-features/#how-it-works","title":"How It Works","text":"<ol> <li>SetuPranali analyzes field metadata:</li> <li>Field name and type</li> <li>SQL expression</li> <li>Sample values</li> <li> <p>Related fields</p> </li> <li> <p>Generates business-focused descriptions using:</p> </li> <li>LLM (OpenAI/Anthropic) when configured</li> <li>Smart heuristics as fallback</li> </ol>"},{"location":"guides/ai-features/#api","title":"API","text":"<pre><code># Get auto-generated description\ncurl \"http://localhost:8080/v1/ai/describe\" \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"total_revenue\",\n    \"type\": \"metric\",\n    \"aggregation\": \"sum\",\n    \"sql\": \"SUM(order_amount)\"\n  }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"description\": \"Total sum of all order amounts, representing the complete revenue for the selected time period and dimensions.\"\n}\n</code></pre>"},{"location":"guides/ai-features/#bulk-generation","title":"Bulk Generation","text":"<p>Generate descriptions for all fields in a dataset:</p> <pre><code>curl \"http://localhost:8080/v1/ai/describe/dataset/orders\" \\\n  -H \"X-API-Key: your-key\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"dataset\": {\n    \"name\": \"orders\",\n    \"description\": \"Dataset containing order-level transaction data with revenue metrics and dimensional attributes.\"\n  },\n  \"dimensions\": [\n    {\n      \"name\": \"order_date\",\n      \"description\": \"Date when the order was placed, used for time-based analysis.\"\n    },\n    {\n      \"name\": \"region\",\n      \"description\": \"Geographic region where the order originated.\"\n    }\n  ],\n  \"metrics\": [\n    {\n      \"name\": \"revenue\",\n      \"description\": \"Total revenue from orders, calculated as sum of order amounts.\"\n    },\n    {\n      \"name\": \"order_count\",\n      \"description\": \"Count of orders in the selected period.\"\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/ai-features/#heuristic-patterns","title":"Heuristic Patterns","text":"<p>When no LLM is configured, SetuPranali uses smart heuristics:</p> Pattern Generated Description <code>total_*</code> \"Total sum of...\" <code>avg_*</code> \"Average value of...\" <code>count_*</code> \"Count of...\" <code>*_id</code> \"Unique identifier for...\" <code>*_date</code> \"Date of...\" <code>*_rate</code> \"Rate or percentage of...\""},{"location":"guides/ai-features/#anomaly-detection","title":"Anomaly Detection","text":"<p>Automatically detect unusual metric values and alert users.</p>"},{"location":"guides/ai-features/#how-it-works_1","title":"How It Works","text":"<ol> <li>SetuPranali tracks historical metric values</li> <li>Calculates statistical baseline (mean, standard deviation)</li> <li>Flags values that deviate significantly</li> <li>Creates alerts with severity levels</li> </ol>"},{"location":"guides/ai-features/#alert-types","title":"Alert Types","text":"Type Description <code>spike</code> Value significantly higher than normal <code>drop</code> Value significantly lower than normal <code>trend_change</code> Significant change in trend direction <code>missing_data</code> Expected data not present <code>outlier</code> Value outside normal distribution"},{"location":"guides/ai-features/#severity-levels","title":"Severity Levels","text":"Severity Standard Deviations <code>low</code> 2.0 - 2.5\u03c3 <code>medium</code> 2.5 - 3.0\u03c3 <code>high</code> 3.0 - 4.0\u03c3 <code>critical</code> &gt; 4.0\u03c3"},{"location":"guides/ai-features/#api_1","title":"API","text":""},{"location":"guides/ai-features/#get-alerts","title":"Get Alerts","text":"<pre><code>curl \"http://localhost:8080/v1/ai/anomalies\" \\\n  -H \"X-API-Key: your-key\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"alerts\": [\n    {\n      \"id\": \"abc123\",\n      \"metric\": \"revenue\",\n      \"type\": \"spike\",\n      \"severity\": \"high\",\n      \"timestamp\": \"2025-12-29T10:30:00Z\",\n      \"value\": 150000,\n      \"expected_value\": 50000,\n      \"deviation\": 3.2,\n      \"description\": \"revenue is 3.2 standard deviations above normal. Current: 150000.00, Expected: 50000.00\",\n      \"dimension_values\": {\n        \"region\": \"US\"\n      },\n      \"acknowledged\": false\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/ai-features/#filter-alerts","title":"Filter Alerts","text":"<pre><code># By severity\ncurl \"http://localhost:8080/v1/ai/anomalies?severity=critical\"\n\n# By metric\ncurl \"http://localhost:8080/v1/ai/anomalies?metric=revenue\"\n\n# Unacknowledged only\ncurl \"http://localhost:8080/v1/ai/anomalies?acknowledged=false\"\n</code></pre>"},{"location":"guides/ai-features/#acknowledge-alert","title":"Acknowledge Alert","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ai/anomalies/abc123/acknowledge\" \\\n  -H \"X-API-Key: your-key\"\n</code></pre>"},{"location":"guides/ai-features/#configuration","title":"Configuration","text":"<pre><code># Sensitivity (standard deviations for anomaly)\nAI_ANOMALY_SENSITIVITY=2.0\n\n# Minimum samples before detection starts\nAI_ANOMALY_MIN_SAMPLES=10\n</code></pre>"},{"location":"guides/ai-features/#webhooks","title":"Webhooks","text":"<p>Configure webhooks to receive anomaly alerts:</p> <pre><code># catalog.yaml\nai:\n  anomaly_webhooks:\n    - url: https://slack.com/webhook/xxx\n      severity: [high, critical]\n    - url: https://pagerduty.com/webhook/xxx\n      severity: [critical]\n</code></pre>"},{"location":"guides/ai-features/#query-suggestions","title":"Query Suggestions","text":"<p>Smart autocomplete based on usage patterns.</p>"},{"location":"guides/ai-features/#how-it-works_2","title":"How It Works","text":"<ol> <li>SetuPranali learns from query history</li> <li>Tracks which dimensions/metrics are used together</li> <li>Ranks suggestions by relevance</li> <li>Adapts to each user's patterns</li> </ol>"},{"location":"guides/ai-features/#api_2","title":"API","text":""},{"location":"guides/ai-features/#get-dimension-suggestions","title":"Get Dimension Suggestions","text":"<pre><code>curl \"http://localhost:8080/v1/ai/suggest/dimensions\" \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"current_dimensions\": [\"order_date\"],\n    \"current_metrics\": [\"revenue\"],\n    \"prefix\": \"\"\n  }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"suggestions\": [\n    {\n      \"type\": \"dimension\",\n      \"value\": \"region\",\n      \"display\": \"Region\",\n      \"description\": \"Geographic region\",\n      \"score\": 0.95\n    },\n    {\n      \"type\": \"dimension\",\n      \"value\": \"product_category\",\n      \"display\": \"Product Category\",\n      \"description\": \"Category of product\",\n      \"score\": 0.82\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/ai-features/#get-metric-suggestions","title":"Get Metric Suggestions","text":"<pre><code>curl \"http://localhost:8080/v1/ai/suggest/metrics\" \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"current_dimensions\": [\"order_date\", \"region\"],\n    \"current_metrics\": [\"revenue\"]\n  }'\n</code></pre> <p>Response:</p> <pre><code>{\n  \"suggestions\": [\n    {\n      \"type\": \"metric\",\n      \"value\": \"order_count\",\n      \"display\": \"Order Count\",\n      \"score\": 0.91\n    },\n    {\n      \"type\": \"metric\",\n      \"value\": \"avg_order_value\",\n      \"display\": \"Average Order Value\",\n      \"score\": 0.78\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/ai-features/#get-query-suggestions","title":"Get Query Suggestions","text":"<pre><code>curl \"http://localhost:8080/v1/ai/suggest/queries?dataset=orders\" \\\n  -H \"X-API-Key: your-key\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"suggestions\": [\n    {\n      \"type\": \"query\",\n      \"display\": \"revenue, order_count by order_date, region\",\n      \"description\": \"Used 42 times\",\n      \"score\": 0.85,\n      \"metadata\": {\n        \"dimensions\": [\"order_date\", \"region\"],\n        \"metrics\": [\"revenue\", \"order_count\"]\n      }\n    },\n    {\n      \"type\": \"query\",\n      \"display\": \"revenue by product_category\",\n      \"description\": \"Used 28 times\",\n      \"score\": 0.72,\n      \"metadata\": {\n        \"dimensions\": [\"product_category\"],\n        \"metrics\": [\"revenue\"]\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/ai-features/#scoring-algorithm","title":"Scoring Algorithm","text":"<p>Suggestions are scored based on:</p> Factor Weight Description Usage Frequency 40% How often the field is used Co-occurrence 60% How often used with current selection Base Score 10% Minimum relevance"},{"location":"guides/ai-features/#configuration_1","title":"Configuration","text":""},{"location":"guides/ai-features/#environment-variables","title":"Environment Variables","text":"Variable Default Description <code>AI_ENABLED</code> <code>true</code> Enable AI features <code>AI_PROVIDER</code> <code>none</code> LLM provider (openai, anthropic, none) <code>OPENAI_API_KEY</code> - OpenAI API key <code>ANTHROPIC_API_KEY</code> - Anthropic API key <code>AI_MODEL</code> <code>gpt-4o-mini</code> Model to use <code>AI_AUTO_DESCRIPTIONS</code> <code>true</code> Enable auto descriptions <code>AI_ANOMALY_DETECTION</code> <code>true</code> Enable anomaly detection <code>AI_QUERY_SUGGESTIONS</code> <code>true</code> Enable query suggestions <code>AI_ANOMALY_SENSITIVITY</code> <code>2.0</code> Standard deviations for anomaly <code>AI_ANOMALY_MIN_SAMPLES</code> <code>10</code> Min samples for detection"},{"location":"guides/ai-features/#helm-configuration","title":"Helm Configuration","text":"<pre><code># values.yaml\nai:\n  enabled: true\n  provider: openai\n\n  # From secret\n  apiKeySecret: ai-api-keys\n\n  autoDescriptions:\n    enabled: true\n    cacheHours: 24\n\n  anomalyDetection:\n    enabled: true\n    sensitivity: 2.0\n    minSamples: 10\n    webhooks:\n      - url: https://slack.com/webhook/xxx\n        severity: [high, critical]\n\n  querySuggestions:\n    enabled: true\n    maxHistory: 1000\n</code></pre>"},{"location":"guides/ai-features/#catalog-configuration","title":"Catalog Configuration","text":"<pre><code># catalog.yaml\nai:\n  # Override descriptions\n  descriptions:\n    orders:\n      revenue: \"Total revenue from all completed orders\"\n      order_count: \"Number of orders placed\"\n\n  # Anomaly detection settings\n  anomaly:\n    metrics:\n      - revenue\n      - order_count\n    exclude_dimensions:\n      - test_region\n</code></pre>"},{"location":"guides/ai-features/#best-practices","title":"Best Practices","text":""},{"location":"guides/ai-features/#auto-descriptions","title":"Auto Descriptions","text":"<ol> <li>Review Generated Content: Validate AI-generated descriptions</li> <li>Override When Needed: Use catalog.yaml to set specific descriptions</li> <li>Provide Context: Include SQL expressions and sample values</li> </ol>"},{"location":"guides/ai-features/#anomaly-detection_1","title":"Anomaly Detection","text":"<ol> <li>Start Conservative: Begin with higher sensitivity (3.0)</li> <li>Tune Over Time: Adjust based on false positive rate</li> <li>Acknowledge Alerts: Keep alert queue clean</li> <li>Set Up Webhooks: Route critical alerts to on-call</li> </ol>"},{"location":"guides/ai-features/#query-suggestions_1","title":"Query Suggestions","text":"<ol> <li>Encourage Usage: Suggestions improve with more queries</li> <li>Clean History: Remove test queries from learning</li> <li>Per-Tenant Learning: Consider tenant isolation</li> </ol>"},{"location":"guides/ai-features/#privacy-security","title":"Privacy &amp; Security","text":"<ul> <li>No Data Sent to LLM: Only metadata (names, types) is sent</li> <li>API Keys Secured: Stored as Kubernetes secrets</li> <li>Local Fallback: Works without external APIs</li> <li>Audit Trail: All AI operations are logged</li> </ul>"},{"location":"guides/api-keys/","title":"API Keys","text":"<p>Create and manage API keys for authentication.</p>"},{"location":"guides/api-keys/#overview","title":"Overview","text":"<p>API keys control who can access your data:</p> <pre><code>Request with API Key \u2192 Authentication \u2192 Authorization (RLS) \u2192 Data\n</code></pre>"},{"location":"guides/api-keys/#key-types","title":"Key Types","text":"Type Purpose RLS Admin Platform management Bypassed Analyst Data queries Applied Viewer Read-only access Applied"},{"location":"guides/api-keys/#configuration","title":"Configuration","text":""},{"location":"guides/api-keys/#static-configuration","title":"Static Configuration","text":"<p>Define keys in configuration:</p> <pre><code># config.yaml or environment\napi_keys:\n  # Admin key\n  - key: \"admin-key-xxxxx\"\n    role: admin\n    description: \"Platform administrator\"\n\n  # Tenant key\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    role: analyst\n    description: \"Acme Corp analysts\"\n</code></pre>"},{"location":"guides/api-keys/#environment-variables","title":"Environment Variables","text":"<p>For single-tenant or simple setups:</p> <pre><code># .env\nAPI_KEY_ADMIN=admin-key-xxxxx\nAPI_KEY_DEFAULT=default-key-yyyyy\n</code></pre>"},{"location":"guides/api-keys/#creating-keys","title":"Creating Keys","text":""},{"location":"guides/api-keys/#key-format","title":"Key Format","text":"<p>Recommended format:</p> <pre><code>{prefix}_{tenant}_{random}\n</code></pre> <p>Examples: - <code>pk_acme_abc123</code> (production key for Acme) - <code>sk_test_xyz789</code> (staging key for testing) - <code>admin_ops_000111</code> (admin operations key)</p>"},{"location":"guides/api-keys/#generating-keys","title":"Generating Keys","text":"<pre><code>import secrets\n\ndef generate_api_key(tenant: str, prefix: str = \"pk\") -&gt; str:\n    random_part = secrets.token_hex(12)\n    return f\"{prefix}_{tenant}_{random_part}\"\n\n# Example\nkey = generate_api_key(\"acme\")\n# pk_acme_7a8b9c0d1e2f3a4b5c6d7e8f\n</code></pre>"},{"location":"guides/api-keys/#key-properties","title":"Key Properties","text":"Property Description Required <code>key</code> The API key string Yes <code>role</code> Permission level Yes <code>tenant</code> Tenant identifier for RLS For non-admin <code>description</code> Human-readable note No <code>rate_limit</code> Custom rate limit No <code>expires_at</code> Expiration date No"},{"location":"guides/api-keys/#using-keys","title":"Using Keys","text":""},{"location":"guides/api-keys/#http-header","title":"HTTP Header","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_acme_abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"orders\", \"metrics\": [\"revenue\"]}'\n</code></pre>"},{"location":"guides/api-keys/#power-bi","title":"Power BI","text":"<ol> <li>Go to Advanced options</li> <li>Add HTTP header:</li> <li>Name: <code>X-API-Key</code></li> <li>Value: <code>pk_acme_abc123</code></li> </ol>"},{"location":"guides/api-keys/#tableau","title":"Tableau","text":"<ol> <li>Open Web Data Connector</li> <li>Enter API key in authentication field</li> </ol>"},{"location":"guides/api-keys/#key-rotation","title":"Key Rotation","text":""},{"location":"guides/api-keys/#why-rotate","title":"Why Rotate?","text":"<ul> <li>Employee leaves the organization</li> <li>Key may have been exposed</li> <li>Regular security practice</li> <li>Compliance requirements</li> </ul>"},{"location":"guides/api-keys/#rotation-process","title":"Rotation Process","text":"<ol> <li>Generate new key</li> </ol> <pre><code>new_key = generate_api_key(\"acme\")\n</code></pre> <ol> <li>Add new key (grace period)</li> </ol> <pre><code>api_keys:\n  # Old key (still valid)\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    role: analyst\n\n  # New key (active)\n  - key: \"pk_acme_xyz789\"\n    tenant: acme_corp\n    role: analyst\n</code></pre> <ol> <li>Notify users</li> </ol> <pre><code>Subject: API Key Rotation - Action Required\n\nYour API key will be rotated. Please update your connections.\n\nNew key: pk_acme_xyz789\nDeadline: 2024-02-01\n</code></pre> <ol> <li>Revoke old key</li> </ol> <pre><code>api_keys:\n  # Only new key remains\n  - key: \"pk_acme_xyz789\"\n    tenant: acme_corp\n    role: analyst\n</code></pre>"},{"location":"guides/api-keys/#key-revocation","title":"Key Revocation","text":""},{"location":"guides/api-keys/#immediate-revocation","title":"Immediate Revocation","text":"<p>Remove the key from configuration:</p> <pre><code>api_keys:\n  # Key removed - immediately invalid\n</code></pre>"},{"location":"guides/api-keys/#soft-revocation","title":"Soft Revocation","text":"<p>Mark as disabled:</p> <pre><code>api_keys:\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    role: analyst\n    enabled: false  # Disabled but preserved\n</code></pre>"},{"location":"guides/api-keys/#key-scopes","title":"Key Scopes","text":""},{"location":"guides/api-keys/#dataset-restrictions","title":"Dataset Restrictions","text":"<p>Limit keys to specific datasets:</p> <pre><code>api_keys:\n  - key: \"pk_acme_limited\"\n    tenant: acme_corp\n    role: analyst\n    allowed_datasets:\n      - orders\n      - customers\n    # Cannot access: products, inventory\n</code></pre>"},{"location":"guides/api-keys/#read-only-access","title":"Read-Only Access","text":"<pre><code>api_keys:\n  - key: \"pk_acme_readonly\"\n    tenant: acme_corp\n    role: viewer\n    permissions:\n      - read\n    # Cannot: manage sources, etc.\n</code></pre>"},{"location":"guides/api-keys/#security-best-practices","title":"Security Best Practices","text":""},{"location":"guides/api-keys/#1-never-commit-keys","title":"1. Never Commit Keys","text":"<pre><code># .gitignore\n.env\nconfig.yaml\n**/secrets/**\n</code></pre>"},{"location":"guides/api-keys/#2-use-environment-variables","title":"2. Use Environment Variables","text":"<pre><code># Production\nexport API_KEY_ADMIN=$SECRET_MANAGER_VALUE\n\n# Development\nsource .env.local\n</code></pre>"},{"location":"guides/api-keys/#3-rotate-regularly","title":"3. Rotate Regularly","text":"Environment Rotation Frequency Production Quarterly Staging Monthly Development On demand"},{"location":"guides/api-keys/#4-principle-of-least-privilege","title":"4. Principle of Least Privilege","text":"<p>Give minimum necessary access:</p> <pre><code># Good: Specific tenant, limited datasets\n- key: \"pk_acme_limited\"\n  tenant: acme_corp\n  allowed_datasets: [orders]\n\n# Avoid: Admin for regular use\n- key: \"admin-key\"\n  role: admin\n</code></pre>"},{"location":"guides/api-keys/#5-monitor-usage","title":"5. Monitor Usage","text":"<pre><code>{\n  \"key\": \"pk_acme_***\",\n  \"last_used\": \"2024-01-15T10:30:00Z\",\n  \"total_requests\": 15234,\n  \"avg_requests_per_day\": 342\n}\n</code></pre>"},{"location":"guides/api-keys/#audit-logging","title":"Audit Logging","text":""},{"location":"guides/api-keys/#whats-logged","title":"What's Logged","text":"<p>Every API key usage:</p> <pre><code>{\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"api_key\": \"pk_acme_***\",\n  \"tenant\": \"acme_corp\",\n  \"endpoint\": \"/v1/query\",\n  \"dataset\": \"orders\",\n  \"ip_address\": \"192.168.1.100\",\n  \"user_agent\": \"PowerBI/2.0\"\n}\n</code></pre>"},{"location":"guides/api-keys/#suspicious-activity-detection","title":"Suspicious Activity Detection","text":"<p>Alert on: - Unusual IP addresses - High request volume - Failed authentication attempts - Access to unusual datasets</p>"},{"location":"guides/api-keys/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/api-keys/#invalid-api-key","title":"Invalid API Key","text":"<p>Error: <pre><code>{\"detail\": \"Invalid API key\"}\n</code></pre></p> <p>Causes: - Key not in configuration - Typo in key - Key revoked</p> <p>Solutions: - Verify key exists in config - Check for copy/paste errors - Confirm key hasn't been rotated</p>"},{"location":"guides/api-keys/#missing-api-key","title":"Missing API Key","text":"<p>Error: <pre><code>{\"detail\": \"API key required\"}\n</code></pre></p> <p>Causes: - Header not sent - Wrong header name</p> <p>Solutions: <pre><code># Correct header name\n-H \"X-API-Key: your-key\"\n\n# Not these:\n-H \"Authorization: your-key\"\n-H \"API-Key: your-key\"\n</code></pre></p>"},{"location":"guides/api-keys/#key-not-authorized","title":"Key Not Authorized","text":"<p>Error: <pre><code>{\"detail\": \"Not authorized for dataset 'orders'\"}\n</code></pre></p> <p>Causes: - Key doesn't have access to dataset - Role restrictions</p> <p>Solutions: - Check <code>allowed_datasets</code> configuration - Verify role permissions</p>"},{"location":"guides/best-practices/","title":"Best Practices","text":"<p>Recommended practices for using SetuPranali effectively.</p>"},{"location":"guides/best-practices/#dataset-design","title":"Dataset Design","text":""},{"location":"guides/best-practices/#naming-conventions","title":"Naming Conventions","text":"<p>Good: <pre><code>datasets:\n  - name: sales_orders\n    dimensions:\n      - name: customer_region\n      - name: product_category\n    metrics:\n      - name: total_revenue\n      - name: order_count\n</code></pre></p> <p>Avoid: <pre><code>datasets:\n  - name: tbl_ord_2024  # Unclear purpose\n    dimensions:\n      - name: reg  # Abbreviation\n    metrics:\n      - name: rev  # Unclear\n</code></pre></p>"},{"location":"guides/best-practices/#dimension-design","title":"Dimension Design","text":"<ul> <li>Use Business Names - Not column names</li> <li>Add Descriptions - Self-documenting</li> <li>Group Related Dimensions - Logical organization</li> <li>Use Consistent Naming - Across datasets</li> </ul>"},{"location":"guides/best-practices/#metric-design","title":"Metric Design","text":"<ul> <li>Clear Aggregations - SUM, COUNT, AVG are obvious</li> <li>Document Formulas - Complex calculations need explanation</li> <li>Consistent Formatting - Currency, percentages, etc.</li> <li>Avoid Duplication - Reuse metrics across datasets</li> </ul>"},{"location":"guides/best-practices/#security","title":"Security","text":""},{"location":"guides/best-practices/#api-key-management","title":"API Key Management","text":"<p>Best Practices: - One Key Per Tenant - Isolate data access - Rotate Keys Regularly - Quarterly or as needed - Use Descriptive Names - Easy to identify - Revoke Unused Keys - Clean up old keys - Never Log Keys - Security risk</p> <p>Example: <pre><code># Good: Descriptive name\ncurl -X POST http://localhost:8080/v1/api-keys \\\n  -d '{\"name\": \"powerbi-prod-tenant-a\", \"tenant\": \"tenant-a\", \"role\": \"viewer\"}'\n\n# Avoid: Generic names\ncurl -X POST http://localhost:8080/v1/api-keys \\\n  -d '{\"name\": \"key1\", \"tenant\": \"t1\", \"role\": \"user\"}'\n</code></pre></p>"},{"location":"guides/best-practices/#row-level-security","title":"Row-Level Security","text":"<p>Configuration: <pre><code>datasets:\n  - name: orders\n    rls:\n      enabled: true\n      column: tenant_id  # Must exist in table\n      mode: equals\n      allowAdminBypass: true  # Admins see all data\n</code></pre></p> <p>Best Practices: - Always Enable RLS - For multi-tenant data - Use Indexed Columns - For RLS column (performance) - Test RLS - Verify isolation works - Document RLS Rules - For team understanding</p>"},{"location":"guides/best-practices/#performance","title":"Performance","text":""},{"location":"guides/best-practices/#query-optimization","title":"Query Optimization","text":"<p>Use Semantic Queries: <pre><code># Good: Semantic query (optimized)\nPOST /v1/query\n{\n  \"dataset\": \"orders\",\n  \"dimensions\": [{\"name\": \"city\"}],\n  \"metrics\": [{\"name\": \"total_revenue\"}],\n  \"limit\": 100\n}\n\n# Avoid: Raw SQL when semantic works\nPOST /v1/sql\n{\n  \"sql\": \"SELECT city, SUM(revenue) FROM orders GROUP BY city LIMIT 100\"\n}\n</code></pre></p> <p>Limit Results: - Always use <code>limit</code> in queries - Set reasonable defaults (100-1000 rows) - Use pagination for large datasets</p> <p>Use Filters: <pre><code>{\n  \"dataset\": \"orders\",\n  \"dimensions\": [{\"name\": \"city\"}],\n  \"metrics\": [{\"name\": \"total_revenue\"}],\n  \"filters\": {\n    \"field\": \"order_date\",\n    \"op\": \"gte\",\n    \"value\": \"2024-01-01\"\n  },\n  \"limit\": 100\n}\n</code></pre></p>"},{"location":"guides/best-practices/#caching","title":"Caching","text":"<p>Enable Caching: <pre><code>export CACHE_ENABLED=true\nexport REDIS_URL=redis://localhost:6379/0\n</code></pre></p> <p>Cache Strategy: - Short TTL - For frequently changing data (5-15 minutes) - Long TTL - For stable data (1-24 hours) - Cache Invalidation - On data updates</p>"},{"location":"guides/best-practices/#database-optimization","title":"Database Optimization","text":"<p>Indexes: - Index RLS columns - Index filtered columns - Index join columns - Index date columns (for incremental refresh)</p> <p>Query Patterns: - Avoid <code>SELECT *</code> - Specify columns - Use appropriate data types - Normalize data appropriately - Use materialized views for complex queries</p>"},{"location":"guides/best-practices/#catalog-management","title":"Catalog Management","text":""},{"location":"guides/best-practices/#organization","title":"Organization","text":"<p>Structure: <pre><code># catalog.yaml\ndatasets:\n  # Sales domain\n  - name: sales_orders\n  - name: sales_customers\n\n  # Marketing domain\n  - name: marketing_campaigns\n  - name: marketing_leads\n\n  # Finance domain\n  - name: finance_transactions\n</code></pre></p> <p>Version Control: - Store <code>catalog.yaml</code> in Git - Use branches for changes - Review changes before merging - Document dataset changes</p>"},{"location":"guides/best-practices/#documentation","title":"Documentation","text":"<p>Add Descriptions: <pre><code>datasets:\n  - name: orders\n    description: \"Order-level transaction data with revenue metrics\"\n    dimensions:\n      - name: city\n        description: \"City where order was placed\"\n    metrics:\n      - name: total_revenue\n        description: \"Sum of all order amounts\"\n</code></pre></p>"},{"location":"guides/best-practices/#multi-tenant-setup","title":"Multi-Tenant Setup","text":""},{"location":"guides/best-practices/#tenant-isolation","title":"Tenant Isolation","text":"<p>Configuration: <pre><code># Each tenant gets separate API key\napi_keys:\n  - key: \"pk_tenant_a_...\"\n    tenant: tenant_a\n    role: viewer\n  - key: \"pk_tenant_b_...\"\n    tenant: tenant_b\n    role: viewer\n</code></pre></p> <p>Best Practices: - Separate Keys - One per tenant - Test Isolation - Verify RLS works - Monitor Usage - Track per-tenant queries - Document Tenants - Keep tenant registry</p>"},{"location":"guides/best-practices/#data-model","title":"Data Model","text":"<p>Design: <pre><code>-- Include tenant_id in all tables\nCREATE TABLE orders (\n    id UUID PRIMARY KEY,\n    tenant_id VARCHAR NOT NULL,  -- RLS column\n    order_date DATE,\n    revenue DECIMAL,\n    ...\n);\n\n-- Index for performance\nCREATE INDEX idx_orders_tenant_id ON orders(tenant_id);\n</code></pre></p>"},{"location":"guides/best-practices/#incremental-refresh","title":"Incremental Refresh","text":""},{"location":"guides/best-practices/#configuration","title":"Configuration","text":"<pre><code>datasets:\n  - name: orders\n    incremental:\n      enabled: true\n      column: order_date\n      type: date\n      mode: append\n      maxWindowDays: 90\n</code></pre> <p>Best Practices: - Use Date Columns - For incremental refresh - Set Max Window - Prevent large scans - Index Date Column - For performance - Test Incremental - Verify it works</p>"},{"location":"guides/best-practices/#error-handling","title":"Error Handling","text":""},{"location":"guides/best-practices/#client-side","title":"Client-Side","text":"<p>Retry Logic: <pre><code>import requests\nfrom time import sleep\n\ndef query_with_retry(url, headers, data, max_retries=3):\n    for attempt in range(max_retries):\n        try:\n            response = requests.post(url, headers=headers, json=data, timeout=30)\n            if response.status_code == 200:\n                return response.json()\n            elif response.status_code == 429:  # Rate limited\n                sleep(2 ** attempt)  # Exponential backoff\n                continue\n            else:\n                response.raise_for_status()\n        except requests.exceptions.RequestException as e:\n            if attempt == max_retries - 1:\n                raise\n            sleep(2 ** attempt)\n    return None\n</code></pre></p> <p>Error Messages: - Check <code>error</code> field in response - Log error details - Provide user-friendly messages - Handle rate limits gracefully</p>"},{"location":"guides/best-practices/#monitoring","title":"Monitoring","text":""},{"location":"guides/best-practices/#health-checks","title":"Health Checks","text":"<p>Regular Monitoring: <pre><code># Health check endpoint\ncurl http://localhost:8080/v1/health\n\n# Check specific components\ncurl http://localhost:8080/v1/health | jq '.cache'\n</code></pre></p>"},{"location":"guides/best-practices/#metrics-to-track","title":"Metrics to Track","text":"<ul> <li>Query Success Rate - Should be &gt; 99%</li> <li>Average Response Time - Should be &lt; 1s</li> <li>Cache Hit Rate - Should be &gt; 50%</li> <li>Error Rate - Should be &lt; 1%</li> </ul>"},{"location":"guides/best-practices/#logging","title":"Logging","text":"<p>Structured Logging: - Log all queries with metadata - Include request IDs for tracing - Log errors with context - Monitor for patterns</p>"},{"location":"guides/best-practices/#deployment","title":"Deployment","text":""},{"location":"guides/best-practices/#production-checklist","title":"Production Checklist","text":"<ul> <li> Redis configured and running</li> <li> API keys created and secured</li> <li> RLS enabled for multi-tenant</li> <li> Rate limiting configured</li> <li> Caching enabled</li> <li> Monitoring set up</li> <li> Logs configured</li> <li> Backups scheduled</li> <li> SSL/TLS enabled</li> <li> Firewall configured</li> </ul>"},{"location":"guides/best-practices/#environment-variables","title":"Environment Variables","text":"<p>Required: <pre><code>UBI_SECRET_KEY=your-encryption-key\n</code></pre></p> <p>Recommended: <pre><code>REDIS_URL=redis://localhost:6379/0\nCACHE_ENABLED=true\nRATE_LIMIT_ENABLED=true\nLOG_LEVEL=INFO\n</code></pre></p>"},{"location":"guides/best-practices/#testing","title":"Testing","text":""},{"location":"guides/best-practices/#integration-tests","title":"Integration Tests","text":"<pre><code># Test query execution\ndef test_query_execution():\n    response = requests.post(\n        \"http://localhost:8080/v1/query\",\n        headers={\"X-API-Key\": test_key},\n        json={\n            \"dataset\": \"orders\",\n            \"dimensions\": [{\"name\": \"city\"}],\n            \"limit\": 1\n        }\n    )\n    assert response.status_code == 200\n    assert \"rows\" in response.json()\n</code></pre>"},{"location":"guides/best-practices/#load-testing","title":"Load Testing","text":"<ul> <li>Test with realistic query patterns</li> <li>Verify rate limiting works</li> <li>Check cache performance</li> <li>Monitor database load</li> </ul>"},{"location":"guides/best-practices/#next-steps","title":"Next Steps","text":"<ul> <li>Troubleshooting Guide</li> <li>Production Checklist</li> <li>Configuration Guide</li> </ul>"},{"location":"guides/cli/","title":"CLI Tool","text":"<p>SetuPranali includes a powerful command-line interface for managing your semantic layer.</p>"},{"location":"guides/cli/#installation","title":"Installation","text":"pipFrom source <pre><code># Install with CLI extras\npip install setupranali[cli]\n</code></pre> <pre><code>cd cli\npip install -e .\n</code></pre>"},{"location":"guides/cli/#quick-start","title":"Quick Start","text":"<pre><code># Configure the CLI\nsetupranali config set url http://localhost:8080\nsetupranali config set api_key your-api-key\n\n# Check server health\nsetupranali health\n\n# List datasets\nsetupranali datasets list\n\n# Run a query\nsetupranali query orders -d city -m revenue\n</code></pre>"},{"location":"guides/cli/#commands-reference","title":"Commands Reference","text":""},{"location":"guides/cli/#global-options","title":"Global Options","text":"Option Description <code>--url</code> Server URL (or use <code>SETUPRANALI_URL</code> env) <code>--api-key</code> API key (or use <code>SETUPRANALI_API_KEY</code> env) <code>--json</code> Output as JSON <code>--help</code> Show help"},{"location":"guides/cli/#setupranali-config","title":"<code>setupranali config</code>","text":"<p>Manage CLI configuration.</p> <pre><code># Show current configuration\nsetupranali config show\n\n# Set server URL\nsetupranali config set url http://localhost:8080\n\n# Set API key\nsetupranali config set api_key pk_your_key_here\n\n# Clear all configuration\nsetupranali config clear\n</code></pre>"},{"location":"guides/cli/#setupranali-health","title":"<code>setupranali health</code>","text":"<p>Check server health and status.</p> <pre><code>setupranali health\n</code></pre> <p>Example output:</p> <pre><code>\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502    HEALTHY      \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\n        Services        \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Service     \u2503 Status \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 database    \u2502 \u2713      \u2502\n\u2502 cache       \u2502 \u2713      \u2502\n\u2502 sources_db  \u2502 \u2713      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/cli/#setupranali-sources","title":"<code>setupranali sources</code>","text":"<p>Manage data sources.</p> <pre><code># List all sources\nsetupranali sources list\n\n# Add a new source\nsetupranali sources add \\\n  --name my-postgres \\\n  --type postgres \\\n  --config '{\"host\":\"localhost\",\"port\":5432,\"database\":\"mydb\",\"user\":\"user\",\"password\":\"pass\"}'\n\n# Test connection\nsetupranali sources test my-postgres\n</code></pre> <p>Supported source types:</p> <ul> <li><code>postgres</code></li> <li><code>mysql</code></li> <li><code>snowflake</code></li> <li><code>bigquery</code></li> <li><code>databricks</code></li> <li><code>redshift</code></li> <li><code>clickhouse</code></li> <li><code>duckdb</code></li> </ul>"},{"location":"guides/cli/#setupranali-datasets","title":"<code>setupranali datasets</code>","text":"<p>Manage datasets.</p> <pre><code># List all datasets\nsetupranali datasets list\n\n# Show dataset details\nsetupranali datasets show orders\n\n# Validate catalog.yaml\nsetupranali datasets validate\nsetupranali datasets validate --catalog /path/to/catalog.yaml\n</code></pre> <p>Example output for <code>datasets show</code>:</p> <pre><code>\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 Orders                      \u2502\n\u2502 Order-level transaction data\u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\n      Dimensions       \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Name    \u2503 Type   \u2503 Desc\u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 city    \u2502 string \u2502     \u2502\n\u2502 region  \u2502 string \u2502     \u2502\n\u2502 product \u2502 string \u2502     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n\n        Metrics        \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Name      \u2503 Type   \u2503 Expression  \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 revenue   \u2502 number \u2502 SUM(amount) \u2502\n\u2502 orders    \u2502 number \u2502 COUNT(*)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/cli/#setupranali-query","title":"<code>setupranali query</code>","text":"<p>Execute semantic queries.</p> <pre><code># Basic query\nsetupranali query orders -d city -m revenue\n\n# Multiple dimensions and metrics\nsetupranali query orders -d city -d region -m revenue -m orders --limit 20\n\n# Output formats\nsetupranali query orders -d city -m revenue --format table  # default\nsetupranali query orders -d city -m revenue --format json\nsetupranali query orders -d city -m revenue --format csv\n</code></pre> <p>Options:</p> Option Short Description <code>--dimensions</code> <code>-d</code> Dimensions to include (repeatable) <code>--metrics</code> <code>-m</code> Metrics to include (repeatable) <code>--limit</code> <code>-l</code> Maximum rows (default: 10) <code>--format</code> Output format: table, json, csv"},{"location":"guides/cli/#setupranali-sql","title":"<code>setupranali sql</code>","text":"<p>Execute SQL queries with automatic RLS.</p> <pre><code># Execute SQL\nsetupranali sql \"SELECT city, SUM(revenue) FROM orders GROUP BY city\" -D orders\n\n# CSV output\nsetupranali sql \"SELECT * FROM orders LIMIT 100\" -D orders --format csv\n</code></pre> <p>Security</p> <p>Only <code>SELECT</code> queries are allowed. RLS is automatically applied based on your API key.</p>"},{"location":"guides/cli/#setupranali-nlq","title":"<code>setupranali nlq</code>","text":"<p>Ask questions in natural language.</p> <pre><code># Simple translation\nsetupranali nlq \"What are the top 10 cities by revenue?\" -D orders\n\n# Execute the translated query\nsetupranali nlq \"Show me monthly sales\" -D sales -x\n\n# Use AI provider\nsetupranali nlq \"Total orders per region\" -D orders -p openai -x\n</code></pre> <p>Options:</p> Option Short Description <code>--dataset</code> <code>-D</code> Dataset to query (required) <code>--provider</code> <code>-p</code> NLQ provider: simple, openai, anthropic <code>--execute</code> <code>-x</code> Execute the translated query"},{"location":"guides/cli/#setupranali-introspect","title":"<code>setupranali introspect</code>","text":"<p>Show full schema introspection.</p> <pre><code>setupranali introspect\n</code></pre>"},{"location":"guides/cli/#setupranali-cache","title":"<code>setupranali cache</code>","text":"<p>Manage query cache.</p> <pre><code># Show cache statistics\nsetupranali cache stats\n\n# Clear cache\nsetupranali cache clear\nsetupranali cache clear -D orders  # Specific dataset\n</code></pre>"},{"location":"guides/cli/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>SETUPRANALI_URL</code> Server URL <code>http://localhost:8080</code> <code>SETUPRANALI_API_KEY</code> API key (none)"},{"location":"guides/cli/#configuration-file","title":"Configuration File","text":"<p>The CLI stores configuration in <code>~/.setupranali/config.json</code>:</p> <pre><code>{\n  \"url\": \"http://localhost:8080\",\n  \"api_key\": \"pk_your_key_here\"\n}\n</code></pre> <p>Configuration priority:</p> <ol> <li>Command-line flags (<code>--url</code>, <code>--api-key</code>)</li> <li>Environment variables</li> <li>Config file</li> <li>Defaults</li> </ol>"},{"location":"guides/cli/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"guides/cli/#validate-catalog","title":"Validate Catalog","text":"<pre><code># In CI pipeline\nsetupranali datasets validate --catalog ./catalog.yaml || exit 1\n</code></pre>"},{"location":"guides/cli/#health-check","title":"Health Check","text":"<pre><code># In deployment scripts\nsetupranali health || exit 1\n</code></pre>"},{"location":"guides/cli/#query-for-monitoring","title":"Query for Monitoring","text":"<pre><code># Export metrics\nsetupranali --json query orders -d status -m count | jq '.rows'\n</code></pre>"},{"location":"guides/cli/#scripting-examples","title":"Scripting Examples","text":""},{"location":"guides/cli/#batch-export","title":"Batch Export","text":"<pre><code>#!/bin/bash\nfor dataset in orders sales customers; do\n    setupranali query $dataset -d region -m total --format csv &gt; \"$dataset.csv\"\ndone\n</code></pre>"},{"location":"guides/cli/#health-monitoring","title":"Health Monitoring","text":"<pre><code>#!/bin/bash\nif ! setupranali health &gt; /dev/null 2&gt;&amp;1; then\n    echo \"SetuPranali is down!\" | mail -s \"Alert\" admin@example.com\nfi\n</code></pre>"},{"location":"guides/cli/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/cli/#connection-errors","title":"Connection Errors","text":"<pre><code>\u2717 Cannot connect to server\nURL: http://localhost:8080\n</code></pre> <p>Solutions:</p> <ol> <li>Check the server is running: <code>docker ps</code></li> <li>Verify the URL: <code>setupranali config show</code></li> <li>Check network connectivity</li> </ol>"},{"location":"guides/cli/#authentication-errors","title":"Authentication Errors","text":"<pre><code>Error ERR_1002\nAPI key is invalid or expired\n</code></pre> <p>Solutions:</p> <ol> <li>Verify your API key: <code>setupranali config show</code></li> <li>Update key: <code>setupranali config set api_key NEW_KEY</code></li> <li>Check key hasn't been revoked</li> </ol>"},{"location":"guides/cli/#dataset-not-found","title":"Dataset Not Found","text":"<pre><code>Error ERR_2001\nDataset 'orderz' not found\n\n\ud83d\udca1 Suggestion: Did you mean: orders?\n</code></pre> <p>Solutions:</p> <ol> <li>List available datasets: <code>setupranali datasets list</code></li> <li>Check spelling</li> <li>Verify catalog.yaml is loaded</li> </ol>"},{"location":"guides/datasets/","title":"Defining Datasets","text":"<p>Create semantic datasets that power your BI queries.</p>"},{"location":"guides/datasets/#overview","title":"Overview","text":"<p>A dataset is a queryable data model with:</p> <ul> <li>Source: Where the data lives</li> <li>Dimensions: Columns for grouping</li> <li>Metrics: Aggregated measures</li> <li>RLS: Security rules</li> </ul>"},{"location":"guides/datasets/#basic-dataset","title":"Basic Dataset","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: postgres-prod\n    table: public.orders\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region\n\n      - name: order_date\n        type: date\n        expr: order_date\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n\n      - name: order_count\n        type: number\n        expr: \"COUNT(*)\"\n</code></pre>"},{"location":"guides/datasets/#dataset-properties","title":"Dataset Properties","text":""},{"location":"guides/datasets/#required-fields","title":"Required Fields","text":"Field Description <code>name</code> Unique identifier (snake_case) <code>source</code> Registered data source name <code>table</code> Table or view name"},{"location":"guides/datasets/#optional-fields","title":"Optional Fields","text":"Field Description <code>description</code> Human-readable description <code>sql</code> Custom SQL instead of table <code>dimensions</code> List of dimension fields <code>metrics</code> List of metric fields <code>rls</code> Row-level security config <code>incremental</code> Incremental refresh config"},{"location":"guides/datasets/#dimensions","title":"Dimensions","text":""},{"location":"guides/datasets/#string-dimension","title":"String Dimension","text":"<pre><code>dimensions:\n  - name: region\n    type: string\n    expr: region_name\n    description: Geographic region\n</code></pre>"},{"location":"guides/datasets/#date-dimension","title":"Date Dimension","text":"<pre><code>dimensions:\n  - name: order_date\n    type: date\n    expr: order_date\n    description: Date of order\n</code></pre>"},{"location":"guides/datasets/#computed-dimension","title":"Computed Dimension","text":"<pre><code>dimensions:\n  - name: year_month\n    type: string\n    expr: \"TO_CHAR(order_date, 'YYYY-MM')\"\n    description: Year and month\n</code></pre>"},{"location":"guides/datasets/#boolean-dimension","title":"Boolean Dimension","text":"<pre><code>dimensions:\n  - name: is_premium\n    type: boolean\n    expr: \"customer_tier = 'premium'\"\n    description: Premium customer flag\n</code></pre>"},{"location":"guides/datasets/#metrics","title":"Metrics","text":""},{"location":"guides/datasets/#sum","title":"Sum","text":"<pre><code>metrics:\n  - name: revenue\n    type: number\n    expr: \"SUM(amount)\"\n</code></pre>"},{"location":"guides/datasets/#count","title":"Count","text":"<pre><code>metrics:\n  - name: orders\n    type: number\n    expr: \"COUNT(*)\"\n</code></pre>"},{"location":"guides/datasets/#distinct-count","title":"Distinct Count","text":"<pre><code>metrics:\n  - name: unique_customers\n    type: number\n    expr: \"COUNT(DISTINCT customer_id)\"\n</code></pre>"},{"location":"guides/datasets/#average","title":"Average","text":"<pre><code>metrics:\n  - name: avg_order_value\n    type: number\n    expr: \"AVG(amount)\"\n</code></pre>"},{"location":"guides/datasets/#conditional-aggregation","title":"Conditional Aggregation","text":"<pre><code>metrics:\n  - name: premium_revenue\n    type: number\n    expr: \"SUM(CASE WHEN tier = 'premium' THEN amount ELSE 0 END)\"\n</code></pre>"},{"location":"guides/datasets/#ratio","title":"Ratio","text":"<pre><code>metrics:\n  - name: premium_ratio\n    type: number\n    expr: |\n      SUM(CASE WHEN tier = 'premium' THEN 1 ELSE 0 END)::float / \n      NULLIF(COUNT(*), 0)\n</code></pre>"},{"location":"guides/datasets/#custom-sql","title":"Custom SQL","text":"<p>Instead of a table, use a custom SQL query:</p> <pre><code>datasets:\n  - name: active_orders\n    source: postgres-prod\n    sql: |\n      SELECT \n        o.*,\n        c.name as customer_name,\n        c.tier as customer_tier\n      FROM orders o\n      JOIN customers c ON o.customer_id = c.id\n      WHERE o.status != 'cancelled'\n\n    dimensions:\n      - name: customer_name\n        type: string\n        expr: customer_name\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n</code></pre>"},{"location":"guides/datasets/#multiple-sources","title":"Multiple Sources","text":"<p>Define datasets from different sources:</p> <pre><code>datasets:\n  # PostgreSQL source\n  - name: orders\n    source: postgres-prod\n    table: orders\n\n  # Snowflake source\n  - name: analytics\n    source: snowflake-dw\n    table: ANALYTICS.FACT_SALES\n\n  # BigQuery source\n  - name: events\n    source: bigquery-prod\n    table: analytics.events\n</code></pre>"},{"location":"guides/datasets/#row-level-security","title":"Row-Level Security","text":"<p>Restrict data by tenant:</p> <pre><code>datasets:\n  - name: orders\n    source: postgres-prod\n    table: orders\n\n    rls:\n      tenant_column: tenant_id\n</code></pre> <p>See RLS Guide for advanced configuration.</p>"},{"location":"guides/datasets/#incremental-refresh","title":"Incremental Refresh","text":"<p>Enable efficient loading:</p> <pre><code>datasets:\n  - name: orders\n    source: postgres-prod\n    table: orders\n\n    incremental:\n      date_column: order_date\n      min_date: \"2020-01-01\"\n</code></pre> <p>See Incremental Refresh Guide for details.</p>"},{"location":"guides/datasets/#complete-example","title":"Complete Example","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: sales\n    description: |\n      Sales transactions including revenue, orders, and customer metrics.\n      Updated daily via ETL.\n    source: snowflake-prod\n    table: ANALYTICS.FACT_SALES\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region_name\n        description: Geographic sales region (North, South, East, West)\n\n      - name: product_category\n        type: string\n        expr: product_category\n        description: Product category\n\n      - name: order_date\n        type: date\n        expr: order_date\n        description: Date the order was placed\n\n      - name: customer_segment\n        type: string\n        expr: CASE \n          WHEN annual_spend &gt; 100000 THEN 'Enterprise'\n          WHEN annual_spend &gt; 10000 THEN 'Mid-Market'\n          ELSE 'SMB'\n        END\n        description: Customer segment based on annual spend\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(sale_amount)\"\n        description: Total revenue\n        format: currency\n\n      - name: orders\n        type: number\n        expr: \"COUNT(*)\"\n        description: Number of orders\n\n      - name: avg_order_value\n        type: number\n        expr: \"AVG(sale_amount)\"\n        description: Average order value\n        format: currency\n\n      - name: unique_customers\n        type: number\n        expr: \"COUNT(DISTINCT customer_id)\"\n        description: Unique customers\n\n    rls:\n      tenant_column: tenant_id\n\n    incremental:\n      date_column: order_date\n      min_date: \"2020-01-01\"\n</code></pre>"},{"location":"guides/datasets/#validation","title":"Validation","text":"<p>Test your dataset after defining:</p> <pre><code># Query the dataset\ncurl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\"]\n  }'\n</code></pre>"},{"location":"guides/datasets/#best-practices","title":"Best Practices","text":""},{"location":"guides/datasets/#naming","title":"Naming","text":"Element Convention Dataset <code>snake_case</code>, plural Dimension <code>snake_case</code> Metric <code>snake_case</code>, descriptive"},{"location":"guides/datasets/#documentation","title":"Documentation","text":"<p>Always include descriptions:</p> <pre><code>dimensions:\n  - name: region\n    description: |\n      Geographic sales region based on billing address.\n      Values: North, South, East, West\n</code></pre>"},{"location":"guides/datasets/#performance","title":"Performance","text":"<ul> <li>Use simple expressions when possible</li> <li>Avoid complex subqueries in expressions</li> <li>Index frequently filtered columns</li> <li>Test with realistic data volumes</li> </ul>"},{"location":"guides/ecosystem/","title":"Ecosystem Integrations","text":"<p>SetuPranali integrates with popular analytics tools to import and export semantic models.</p>"},{"location":"guides/ecosystem/#overview","title":"Overview","text":"Integration Description Status dbt Import metrics from dbt Semantic Layer \u2705 Available Cube.js Interoperability with Cube schemas \u2705 Available LookML Import Looker/LookML models \u2705 Available Power BI Service Sync semantic model to Power BI \u2705 Available VS Code Extension Catalog editing with IntelliSense \u2705 Available Web UI Admin dashboard for configuration \u2705 Available"},{"location":"guides/ecosystem/#dbt-integration","title":"dbt Integration","text":"<p>Import metrics, dimensions, and models from dbt projects.</p>"},{"location":"guides/ecosystem/#from-local-manifest","title":"From Local Manifest","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ecosystem/dbt/import/local\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"manifest_path\": \"/path/to/target/manifest.json\",\n    \"output_path\": \"catalog.yaml\",\n    \"include_tags\": [\"production\"]\n  }'\n</code></pre>"},{"location":"guides/ecosystem/#from-dbt-cloud","title":"From dbt Cloud","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ecosystem/dbt/import/cloud\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"account_id\": \"12345\",\n    \"api_token\": \"dbtc_xxxxx\",\n    \"job_id\": 67890,\n    \"output_path\": \"catalog.yaml\"\n  }'\n</code></pre>"},{"location":"guides/ecosystem/#cli-usage","title":"CLI Usage","text":"<pre><code># Import from local manifest\nsetupranali dbt import --manifest ./target/manifest.json --output catalog.yaml\n\n# Import from dbt Cloud\nsetupranali dbt import-cloud \\\n  --account-id 12345 \\\n  --token dbtc_xxxxx \\\n  --job-id 67890\n</code></pre>"},{"location":"guides/ecosystem/#what-gets-imported","title":"What Gets Imported","text":"dbt Artifact SetuPranali Equivalent Models Datasets Columns Dimensions Metrics (MetricFlow) Metrics + Calculated Metrics Tests Validation rules (planned) Documentation Descriptions"},{"location":"guides/ecosystem/#example-conversion","title":"Example Conversion","text":"<p>dbt model: <pre><code># models/orders.yml\nversion: 2\nmodels:\n  - name: orders\n    description: Order transactions\n    columns:\n      - name: order_id\n        description: Primary key\n      - name: customer_id\n        description: Customer foreign key\n      - name: amount\n        description: Order amount\n        meta:\n          is_metric: true\n          aggregation: SUM\n</code></pre></p> <p>Generated SetuPranali catalog: <pre><code>datasets:\n  - id: orders\n    name: Orders\n    description: Order transactions\n    sql: SELECT * FROM analytics.orders\n    dimensions:\n      - name: order_id\n        sql: order_id\n        description: Primary key\n      - name: customer_id\n        sql: customer_id\n        description: Customer foreign key\n    metrics:\n      - name: amount\n        sql: SUM(amount)\n        description: Order amount\n</code></pre></p>"},{"location":"guides/ecosystem/#cubejs-compatibility","title":"Cube.js Compatibility","text":"<p>Import and export Cube.js schemas for interoperability.</p>"},{"location":"guides/ecosystem/#import-cubejs-schema","title":"Import Cube.js Schema","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ecosystem/cube/import\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"schema_path\": \"/path/to/cube/schema\",\n    \"output_path\": \"catalog.yaml\"\n  }'\n</code></pre>"},{"location":"guides/ecosystem/#export-to-cubejs","title":"Export to Cube.js","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ecosystem/cube/export\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"catalog_path\": \"catalog.yaml\",\n    \"output_dir\": \"./cube_schema\"\n  }'\n</code></pre>"},{"location":"guides/ecosystem/#cubejs-meta-api","title":"Cube.js Meta API","text":"<p>SetuPranali can emulate the Cube.js Meta API for tools expecting Cube.js:</p> <pre><code>curl \"http://localhost:8080/v1/ecosystem/cube/meta\" \\\n  -H \"Authorization: Bearer sk_demo_123\"\n</code></pre> <p>Response: <pre><code>{\n  \"cubes\": [\n    {\n      \"name\": \"Orders\",\n      \"title\": \"Orders\",\n      \"measures\": [\n        {\n          \"name\": \"Orders.revenue\",\n          \"title\": \"Revenue\",\n          \"type\": \"number\",\n          \"aggType\": \"sum\"\n        }\n      ],\n      \"dimensions\": [\n        {\n          \"name\": \"Orders.region\",\n          \"title\": \"Region\",\n          \"type\": \"string\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre></p>"},{"location":"guides/ecosystem/#mapping","title":"Mapping","text":"Cube.js SetuPranali Cube Dataset Dimension Dimension Measure Metric Join Semantic Join Pre-aggregation Cache configuration"},{"location":"guides/ecosystem/#lookml-import","title":"LookML Import","text":"<p>Import Looker/LookML models into SetuPranali.</p>"},{"location":"guides/ecosystem/#import-lookml-project","title":"Import LookML Project","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ecosystem/lookml/import\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"project_path\": \"/path/to/lookml/project\",\n    \"output_path\": \"catalog.yaml\"\n  }'\n</code></pre>"},{"location":"guides/ecosystem/#cli-usage_1","title":"CLI Usage","text":"<pre><code>setupranali lookml import --project ./my_lookml_project --output catalog.yaml\n</code></pre>"},{"location":"guides/ecosystem/#what-gets-imported_1","title":"What Gets Imported","text":"LookML Artifact SetuPranali Equivalent View Dataset Dimension Dimension Dimension Group Multiple time dimensions Measure Metric Explore (base view reference) Join Semantic Join"},{"location":"guides/ecosystem/#example-conversion_1","title":"Example Conversion","text":"<p>LookML view: <pre><code>view: orders {\n  sql_table_name: analytics.orders ;;\n\n  dimension: order_id {\n    type: number\n    sql: ${TABLE}.order_id ;;\n    primary_key: yes\n  }\n\n  dimension_group: created {\n    type: time\n    timeframes: [date, week, month, year]\n    sql: ${TABLE}.created_at ;;\n  }\n\n  measure: total_revenue {\n    type: sum\n    sql: ${TABLE}.amount ;;\n    value_format: \"$#,##0\"\n  }\n}\n</code></pre></p> <p>Generated catalog: <pre><code>datasets:\n  - id: orders\n    name: Orders\n    sql: SELECT * FROM analytics.orders\n    dimensions:\n      - name: order_id\n        sql: order_id\n        type: number\n      - name: created_date\n        sql: DATE(created_at)\n        type: date\n      - name: created_month\n        sql: DATE_TRUNC('month', created_at)\n        type: date\n    metrics:\n      - name: total_revenue\n        sql: SUM(amount)\n</code></pre></p>"},{"location":"guides/ecosystem/#power-bi-service-sync","title":"Power BI Service Sync","text":"<p>Sync your SetuPranali semantic model directly to Power BI Service.</p>"},{"location":"guides/ecosystem/#configure-connection","title":"Configure Connection","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ecosystem/powerbi/configure\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"client_id\": \"your-azure-app-client-id\",\n    \"client_secret\": \"your-client-secret\",\n    \"tenant_id\": \"your-azure-tenant-id\",\n    \"workspace_id\": \"optional-workspace-id\"\n  }'\n</code></pre>"},{"location":"guides/ecosystem/#sync-catalog-to-power-bi","title":"Sync Catalog to Power BI","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ecosystem/powerbi/sync\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"catalog_path\": \"catalog.yaml\",\n    \"dataset_name\": \"SetuPranali Dataset\",\n    \"replace_existing\": true\n  }'\n</code></pre>"},{"location":"guides/ecosystem/#push-data","title":"Push Data","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/ecosystem/powerbi/push\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"dataset_id\": \"dataset-guid\",\n    \"table_name\": \"orders\",\n    \"data\": [\n      {\"order_id\": \"1\", \"region\": \"US\", \"revenue\": 1000},\n      {\"order_id\": \"2\", \"region\": \"EU\", \"revenue\": 2000}\n    ]\n  }'\n</code></pre>"},{"location":"guides/ecosystem/#azure-ad-setup","title":"Azure AD Setup","text":"<ol> <li>Register an application in Azure AD</li> <li>Grant Power BI Service permissions:</li> <li><code>Dataset.ReadWrite.All</code></li> <li><code>Workspace.ReadWrite.All</code></li> <li>Create a client secret</li> <li>Configure the app in Power BI admin portal</li> </ol>"},{"location":"guides/ecosystem/#vs-code-extension","title":"VS Code Extension","text":"<p>The SetuPranali VS Code extension provides rich editing support for <code>catalog.yaml</code>.</p>"},{"location":"guides/ecosystem/#features","title":"Features","text":"<ul> <li>IntelliSense - Auto-completion for datasets, dimensions, metrics</li> <li>Validation - Real-time syntax and schema validation</li> <li>Hover Information - Documentation on hover</li> <li>Go to Definition - Navigate to definitions</li> <li>Snippets - Quick templates for common patterns</li> <li>Import - Import from dbt, LookML, Cube.js</li> </ul>"},{"location":"guides/ecosystem/#installation","title":"Installation","text":"<p>Search for \"SetuPranali\" in VS Code Extensions or:</p> <pre><code>code --install-extension setupranali.setupranali-vscode\n</code></pre>"},{"location":"guides/ecosystem/#snippets","title":"Snippets","text":"Prefix Description <code>setu-catalog</code> Complete catalog template <code>setu-dataset</code> New dataset <code>setu-dim</code> New dimension <code>setu-metric-sum</code> Sum metric <code>setu-join</code> Semantic join"},{"location":"guides/ecosystem/#web-ui","title":"Web UI","text":"<p>SetuPranali includes a web-based admin dashboard.</p>"},{"location":"guides/ecosystem/#features_1","title":"Features","text":"<ul> <li>Dashboard - System overview and metrics</li> <li>Datasets - Browse and manage semantic datasets</li> <li>Data Sources - Configure database connections</li> <li>API Keys - Manage authentication</li> <li>Query Playground - Test queries interactively</li> <li>Catalog Editor - Visual YAML editor</li> <li>Analytics - Query patterns and performance</li> </ul>"},{"location":"guides/ecosystem/#running-the-web-ui","title":"Running the Web UI","text":"<pre><code># Using Docker\ndocker run -p 3000:80 setupranali/webui\n\n# Or build from source\ncd webui\nnpm install\nnpm run dev\n</code></pre>"},{"location":"guides/ecosystem/#screenshots","title":"Screenshots","text":"<p>Dashboard showing query metrics, cache stats, and system health.</p>"},{"location":"guides/ecosystem/#api-reference","title":"API Reference","text":""},{"location":"guides/ecosystem/#dbt-endpoints","title":"dbt Endpoints","text":"Method Endpoint Description POST <code>/v1/ecosystem/dbt/import/local</code> Import from local manifest POST <code>/v1/ecosystem/dbt/import/cloud</code> Import from dbt Cloud GET <code>/v1/ecosystem/dbt/models</code> List imported models GET <code>/v1/ecosystem/dbt/metrics</code> List imported metrics"},{"location":"guides/ecosystem/#cubejs-endpoints","title":"Cube.js Endpoints","text":"Method Endpoint Description POST <code>/v1/ecosystem/cube/import</code> Import Cube.js schema POST <code>/v1/ecosystem/cube/export</code> Export to Cube.js GET <code>/v1/ecosystem/cube/meta</code> Cube.js Meta API"},{"location":"guides/ecosystem/#lookml-endpoints","title":"LookML Endpoints","text":"Method Endpoint Description POST <code>/v1/ecosystem/lookml/import</code> Import LookML project GET <code>/v1/ecosystem/lookml/views</code> List imported views GET <code>/v1/ecosystem/lookml/explores</code> List imported explores"},{"location":"guides/ecosystem/#power-bi-endpoints","title":"Power BI Endpoints","text":"Method Endpoint Description POST <code>/v1/ecosystem/powerbi/configure</code> Configure connection GET <code>/v1/ecosystem/powerbi/workspaces</code> List workspaces GET <code>/v1/ecosystem/powerbi/datasets</code> List datasets POST <code>/v1/ecosystem/powerbi/sync</code> Sync catalog POST <code>/v1/ecosystem/powerbi/push</code> Push data POST <code>/v1/ecosystem/powerbi/refresh/{id}</code> Trigger refresh"},{"location":"guides/enterprise/","title":"Enterprise Features","text":"<p>SetuPranali provides enterprise-grade capabilities for large-scale deployments.</p>"},{"location":"guides/enterprise/#overview","title":"Overview","text":"Feature Description Status Tableau Hyper Export Export datasets as Hyper files \u2705 Available Power BI Push Datasets Push data directly to Power BI \u2705 Available Embedded Analytics Embed-ready endpoints with tokens \u2705 Available White-Label Support Custom branding for OEM deployments \u2705 Available Multi-Region Deployment Geo-distributed caching and routing \u2705 Available"},{"location":"guides/enterprise/#tableau-hyper-export","title":"Tableau Hyper Export","text":"<p>Export query results and datasets as Tableau Hyper files for high-performance analytics.</p>"},{"location":"guides/enterprise/#export-dataset","title":"Export Dataset","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/enterprise/hyper/export\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"dataset_id\": \"orders\",\n    \"output_path\": \"/exports/orders.hyper\",\n    \"data\": [\n      {\"order_id\": \"1\", \"region\": \"US\", \"revenue\": 1000},\n      {\"order_id\": \"2\", \"region\": \"EU\", \"revenue\": 2000}\n    ]\n  }'\n</code></pre>"},{"location":"guides/enterprise/#export-query-results","title":"Export Query Results","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/enterprise/hyper/export-query\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"output_path\": \"/exports/query_result.hyper\",\n    \"table_name\": \"SalesData\",\n    \"data\": [{\"region\": \"US\", \"total_revenue\": 125000}]\n  }'\n</code></pre>"},{"location":"guides/enterprise/#export-multiple-datasets","title":"Export Multiple Datasets","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/enterprise/hyper/export-multiple\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"output_path\": \"/exports/analytics.hyper\",\n    \"datasets\": {\n      \"orders\": [{\"order_id\": \"1\", \"revenue\": 1000}],\n      \"customers\": [{\"customer_id\": \"c1\", \"name\": \"Acme\"}]\n    }\n  }'\n</code></pre>"},{"location":"guides/enterprise/#requirements","title":"Requirements","text":"<p>Install the Tableau Hyper API:</p> <pre><code>pip install tableauhyperapi\n</code></pre>"},{"location":"guides/enterprise/#power-bi-push-datasets","title":"Power BI Push Datasets","text":"<p>Push data directly to Power BI Service. See Ecosystem Integrations for full documentation.</p> <pre><code># Push data to Power BI\ncurl -X POST \"http://localhost:8080/v1/ecosystem/powerbi/push\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"dataset_id\": \"dataset-guid\",\n    \"table_name\": \"orders\",\n    \"data\": [\n      {\"order_id\": \"1\", \"region\": \"US\", \"revenue\": 1000}\n    ]\n  }'\n</code></pre>"},{"location":"guides/enterprise/#embedded-analytics","title":"Embedded Analytics","text":"<p>Embed SetuPranali analytics in your applications with secure, scoped tokens.</p>"},{"location":"guides/enterprise/#create-embed-token","title":"Create Embed Token","text":"<pre><code>curl -X POST \"http://localhost:8080/v1/enterprise/embed/token\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"datasets\": [\"orders\", \"customers\"],\n    \"permissions\": [\"query\", \"filter\", \"export\"],\n    \"filters\": {\"region\": \"US\"},\n    \"rls_context\": {\"tenant_id\": \"acme\"},\n    \"expiry_hours\": 24,\n    \"max_rows\": 10000,\n    \"allowed_dimensions\": [\"region\", \"product_category\"],\n    \"allowed_metrics\": [\"revenue\", \"order_count\"]\n  }'\n</code></pre> <p>Response: <pre><code>{\n  \"token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"type\": \"embed\",\n  \"expires_in_hours\": 24\n}\n</code></pre></p>"},{"location":"guides/enterprise/#get-embed-code","title":"Get Embed Code","text":"<pre><code># Get iframe HTML\ncurl -X POST \"http://localhost:8080/v1/enterprise/embed/code\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"token\": \"eyJhbGciOiJIUzI1NiIs...\",\n    \"format\": \"iframe\",\n    \"config\": {\n      \"theme\": \"dark\",\n      \"show_toolbar\": true,\n      \"show_filters\": true,\n      \"show_export\": false\n    }\n  }'\n</code></pre> <p>Response: <pre><code>{\n  \"html\": \"&lt;iframe src=\\\"http://localhost:8080/embed/view?token=...\\\" width=\\\"100%\\\" height=\\\"600px\\\"&gt;&lt;/iframe&gt;\",\n  \"url\": \"http://localhost:8080/embed/view?token=...\"\n}\n</code></pre></p>"},{"location":"guides/enterprise/#embed-permissions","title":"Embed Permissions","text":"Permission Description <code>query</code> Execute queries <code>filter</code> Apply filters <code>export</code> Export data <code>explore</code> Explore datasets <code>drill</code> Drill down/up"},{"location":"guides/enterprise/#embedding-in-your-app","title":"Embedding in Your App","text":"<p>React: <pre><code>function AnalyticsEmbed({ token }) {\n  return (\n    &lt;iframe\n      src={`https://your-setupranali.com/embed/view?token=${token}`}\n      width=\"100%\"\n      height=\"600px\"\n      frameBorder=\"0\"\n      allow=\"clipboard-write\"\n    /&gt;\n  );\n}\n</code></pre></p> <p>JavaScript SDK: <pre><code>&lt;script src=\"https://your-setupranali.com/embed/sdk.js\"&gt;&lt;/script&gt;\n&lt;div id=\"analytics-container\"&gt;&lt;/div&gt;\n&lt;script&gt;\n  SetuPranali.embed({\n    container: '#analytics-container',\n    token: 'your-embed-token',\n    theme: 'dark',\n    onReady: () =&gt; console.log('Analytics loaded')\n  });\n&lt;/script&gt;\n</code></pre></p>"},{"location":"guides/enterprise/#white-label-support","title":"White-Label Support","text":"<p>Customize branding for OEM deployments and multi-tenant environments.</p>"},{"location":"guides/enterprise/#set-branding","title":"Set Branding","text":"<pre><code>curl -X PUT \"http://localhost:8080/v1/enterprise/branding\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"colors\": {\n      \"primary\": \"#FF5722\",\n      \"secondary\": \"#2196F3\",\n      \"accent\": \"#4CAF50\"\n    },\n    \"assets\": {\n      \"logoUrl\": \"https://your-company.com/logo.svg\",\n      \"faviconUrl\": \"https://your-company.com/favicon.ico\"\n    },\n    \"text\": {\n      \"companyName\": \"Your Company\",\n      \"productName\": \"Your Analytics\",\n      \"tagline\": \"Insights that matter\",\n      \"supportEmail\": \"support@your-company.com\"\n    },\n    \"custom_domain\": \"analytics.your-company.com\"\n  }'\n</code></pre>"},{"location":"guides/enterprise/#get-branding","title":"Get Branding","text":"<pre><code># Get branding for current tenant\ncurl \"http://localhost:8080/v1/enterprise/branding\" \\\n  -H \"Authorization: Bearer sk_demo_123\"\n\n# Get branding by custom domain\ncurl \"http://localhost:8080/v1/enterprise/branding/domain/analytics.your-company.com\"\n</code></pre>"},{"location":"guides/enterprise/#get-generated-css","title":"Get Generated CSS","text":"<pre><code># Get full CSS\ncurl \"http://localhost:8080/v1/enterprise/branding/css\" \\\n  -H \"Authorization: Bearer sk_demo_123\"\n\n# Get CSS variables only\ncurl \"http://localhost:8080/v1/enterprise/branding/css-variables\" \\\n  -H \"Authorization: Bearer sk_demo_123\"\n</code></pre>"},{"location":"guides/enterprise/#branding-configuration","title":"Branding Configuration","text":"<pre><code># white_label.yaml\ndefault:\n  enabled: true\n  colors:\n    primary: \"#6366F1\"\n    secondary: \"#8B5CF6\"\n  text:\n    company_name: \"SetuPranali\"\n    product_name: \"Analytics\"\n\ntenants:\n  acme:\n    enabled: true\n    colors:\n      primary: \"#FF5722\"\n      secondary: \"#2196F3\"\n    assets:\n      logo_url: \"https://acme.com/logo.svg\"\n    text:\n      company_name: \"Acme Analytics\"\n    custom_domain: \"analytics.acme.com\"\n</code></pre>"},{"location":"guides/enterprise/#multi-region-deployment","title":"Multi-Region Deployment","text":"<p>Deploy SetuPranali across multiple regions for low latency and data residency.</p>"},{"location":"guides/enterprise/#register-regions","title":"Register Regions","text":"<pre><code># Register US region\ncurl -X POST \"http://localhost:8080/v1/enterprise/regions\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"region_id\": \"us-east-1\",\n    \"name\": \"US East\",\n    \"endpoint\": \"https://us-east.setupranali.com\",\n    \"priority\": 1,\n    \"weight\": 100,\n    \"is_primary\": true,\n    \"latitude\": 37.7749,\n    \"longitude\": -122.4194\n  }'\n\n# Register EU region with data residency\ncurl -X POST \"http://localhost:8080/v1/enterprise/regions\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"region_id\": \"eu-west-1\",\n    \"name\": \"EU West\",\n    \"endpoint\": \"https://eu-west.setupranali.com\",\n    \"priority\": 2,\n    \"weight\": 100,\n    \"data_residency\": [\"DE\", \"FR\", \"GB\", \"NL\"],\n    \"latitude\": 52.3676,\n    \"longitude\": 4.9041\n  }'\n</code></pre>"},{"location":"guides/enterprise/#select-optimal-region","title":"Select Optimal Region","text":"<pre><code># By geo-location\ncurl -X POST \"http://localhost:8080/v1/enterprise/regions/select\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"latitude\": 51.5074,\n    \"longitude\": -0.1278\n  }'\n\n# By country (data residency)\ncurl -X POST \"http://localhost:8080/v1/enterprise/regions/select\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"country_code\": \"DE\"\n  }'\n</code></pre>"},{"location":"guides/enterprise/#routing-strategies","title":"Routing Strategies","text":"Strategy Description <code>priority</code> Route to highest priority healthy region <code>latency</code> Route to lowest latency region <code>geo</code> Route to geographically closest region <code>residency</code> Route based on data residency requirements <code>weighted</code> Weighted random distribution <pre><code># Set routing strategy\ncurl -X PUT \"http://localhost:8080/v1/enterprise/regions/strategy/geo\" \\\n  -H \"Authorization: Bearer sk_demo_123\"\n</code></pre>"},{"location":"guides/enterprise/#region-health","title":"Region Health","text":"<pre><code># List all regions with health\ncurl \"http://localhost:8080/v1/enterprise/regions\" \\\n  -H \"Authorization: Bearer sk_demo_123\"\n\n# Get specific region health\ncurl \"http://localhost:8080/v1/enterprise/regions/us-east-1/health\" \\\n  -H \"Authorization: Bearer sk_demo_123\"\n</code></pre> <p>Response: <pre><code>{\n  \"region_id\": \"us-east-1\",\n  \"status\": \"healthy\",\n  \"latency_ms\": 45.2,\n  \"error_rate\": 0.001,\n  \"cache_hit_rate\": 0.94,\n  \"active_connections\": 128,\n  \"last_check\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre></p>"},{"location":"guides/enterprise/#distributed-cache","title":"Distributed Cache","text":"<pre><code># Get cache stats\ncurl \"http://localhost:8080/v1/enterprise/regions/cache/stats\" \\\n  -H \"Authorization: Bearer sk_demo_123\"\n\n# Sync cache between regions\ncurl -X POST \"http://localhost:8080/v1/enterprise/regions/cache/sync\" \\\n  -H \"Authorization: Bearer sk_demo_123\" \\\n  -d '{\n    \"from_region\": \"us-east-1\",\n    \"to_region\": \"eu-west-1\"\n  }'\n</code></pre>"},{"location":"guides/enterprise/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Global Load Balancer                      \u2502\n\u2502                 (Latency/Geo-based routing)                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502                   \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502     US Region         \u2502 \u2502     EU Region        \u2502\n        \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n        \u2502  \u2502  SetuPranali    \u2502  \u2502 \u2502 \u2502  SetuPranali    \u2502  \u2502\n        \u2502  \u2502   Instances     \u2502  \u2502 \u2502 \u2502   Instances     \u2502  \u2502\n        \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n        \u2502           \u2502           \u2502 \u2502          \u2502          \u2502\n        \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n        \u2502  \u2502  Redis Cache    \u2502\u25c4\u2500\u253c\u2500\u253c\u2500\u25ba Redis Cache    \u2502  \u2502\n        \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n        \u2502                       \u2502 \u2502                     \u2502\n        \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n        \u2502  \u2502  Data Sources   \u2502  \u2502 \u2502 \u2502  Data Sources   \u2502  \u2502\n        \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/enterprise/#configuration","title":"Configuration","text":""},{"location":"guides/enterprise/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>EMBED_SECRET_KEY</code> Secret for embed tokens <code>UBI_SECRET_KEY</code> <code>EMBED_TOKEN_EXPIRY_HOURS</code> Default token expiry <code>24</code> <code>EMBED_ALLOWED_ORIGINS</code> CORS origins for embeds <code>*</code> <code>WHITE_LABEL_CONFIG</code> Path to branding config <code>white_label.yaml</code> <code>ROUTING_STRATEGY</code> Default routing strategy <code>priority</code> <code>BASE_URL</code> Base URL for embed links <code>http://localhost:8080</code>"},{"location":"guides/enterprise/#docker-compose-example","title":"Docker Compose Example","text":"<pre><code>version: '3.8'\n\nservices:\n  setupranali-us:\n    image: setupranali/connector\n    environment:\n      - REGION_ID=us-east-1\n      - IS_PRIMARY=true\n      - REDIS_URL=redis://redis-us:6379\n    deploy:\n      replicas: 3\n\n  setupranali-eu:\n    image: setupranali/connector\n    environment:\n      - REGION_ID=eu-west-1\n      - DATA_RESIDENCY=DE,FR,GB,NL\n      - REDIS_URL=redis://redis-eu:6379\n    deploy:\n      replicas: 3\n\n  redis-us:\n    image: redis:7-alpine\n\n  redis-eu:\n    image: redis:7-alpine\n</code></pre>"},{"location":"guides/enterprise/#api-reference","title":"API Reference","text":""},{"location":"guides/enterprise/#tableau-hyper-endpoints","title":"Tableau Hyper Endpoints","text":"Method Endpoint Description POST <code>/v1/enterprise/hyper/export</code> Export dataset POST <code>/v1/enterprise/hyper/export-query</code> Export query results POST <code>/v1/enterprise/hyper/export-multiple</code> Export multiple datasets"},{"location":"guides/enterprise/#embedded-analytics-endpoints","title":"Embedded Analytics Endpoints","text":"Method Endpoint Description POST <code>/v1/enterprise/embed/token</code> Create embed token POST <code>/v1/enterprise/embed/code</code> Get embed code POST <code>/v1/enterprise/embed/query</code> Validate embed query GET <code>/v1/enterprise/embed/tokens</code> List tokens DELETE <code>/v1/enterprise/embed/token/{id}</code> Revoke token"},{"location":"guides/enterprise/#white-label-endpoints","title":"White-Label Endpoints","text":"Method Endpoint Description GET <code>/v1/enterprise/branding</code> Get branding PUT <code>/v1/enterprise/branding</code> Set branding GET <code>/v1/enterprise/branding/css</code> Get CSS GET <code>/v1/enterprise/branding/domain/{domain}</code> Get by domain DELETE <code>/v1/enterprise/branding/{tenant_id}</code> Delete branding"},{"location":"guides/enterprise/#multi-region-endpoints","title":"Multi-Region Endpoints","text":"Method Endpoint Description POST <code>/v1/enterprise/regions</code> Register region DELETE <code>/v1/enterprise/regions/{id}</code> Unregister region GET <code>/v1/enterprise/regions</code> List regions GET <code>/v1/enterprise/regions/{id}/health</code> Get health POST <code>/v1/enterprise/regions/select</code> Select region PUT <code>/v1/enterprise/regions/strategy/{strategy}</code> Set strategy GET <code>/v1/enterprise/regions/cache/stats</code> Cache stats POST <code>/v1/enterprise/regions/cache/sync</code> Sync cache"},{"location":"guides/fine-grained-permissions/","title":"Fine-Grained Permissions","text":"<p>Implement column-level and dataset-level access control for enterprise security.</p>"},{"location":"guides/fine-grained-permissions/#overview","title":"Overview","text":"<p>SetuPranali provides comprehensive access control:</p> <ul> <li>Dataset-Level Access: Control who can access which datasets</li> <li>Column-Level Access: Restrict dimensions and metrics per user/role</li> <li>Row-Level Security (RLS): Automatic tenant isolation</li> <li>Role-Based Access Control (RBAC): Define roles with permissions</li> <li>Policy-Based Access Control: Flexible policy rules</li> <li>Data Masking: Mask sensitive column values</li> <li>Query Limits: Restrict result sizes and time ranges</li> </ul>"},{"location":"guides/fine-grained-permissions/#quick-start","title":"Quick Start","text":""},{"location":"guides/fine-grained-permissions/#1-define-roles-in-catalogyaml","title":"1. Define Roles in catalog.yaml","text":"<pre><code># catalog.yaml\npermissions:\n  enabled: true\n  default_effect: deny  # deny-by-default\n\n  roles:\n    - name: analyst\n      datasets:\n        - dataset: \"*\"\n          actions: [query, read]\n\n    - name: viewer\n      datasets:\n        - dataset: \"public_*\"\n          actions: [read]\n          max_rows: 1000\n\n    - name: admin\n      datasets:\n        - dataset: \"*\"\n          actions: [query, read, write, admin]\n      can_create_api_keys: true\n      can_manage_sources: true\n\n  api_key_roles:\n    \"sk_live_analyst123\": [analyst]\n    \"sk_live_admin456\": [admin]\n</code></pre>"},{"location":"guides/fine-grained-permissions/#2-query-with-permissions","title":"2. Query with Permissions","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: sk_live_analyst123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"orders\", \"metrics\": [\"revenue\"]}'\n</code></pre>"},{"location":"guides/fine-grained-permissions/#dataset-level-access-control","title":"Dataset-Level Access Control","text":""},{"location":"guides/fine-grained-permissions/#allow-access-to-specific-datasets","title":"Allow Access to Specific Datasets","text":"<pre><code>roles:\n  - name: sales_analyst\n    datasets:\n      - dataset: orders\n        actions: [query, read]\n\n      - dataset: customers\n        actions: [query, read]\n\n      - dataset: products\n        actions: [read]  # Read-only, no queries\n</code></pre>"},{"location":"guides/fine-grained-permissions/#wildcard-patterns","title":"Wildcard Patterns","text":"<pre><code>roles:\n  - name: finance_team\n    datasets:\n      # All finance datasets\n      - dataset: \"finance_*\"\n        actions: [query, read]\n\n      # All datasets in reporting schema\n      - dataset: \"reporting.*\"\n        actions: [read]\n</code></pre>"},{"location":"guides/fine-grained-permissions/#deny-access","title":"Deny Access","text":"<pre><code>roles:\n  - name: restricted_user\n    datasets:\n      # Allow most datasets\n      - dataset: \"*\"\n        actions: [query]\n\n      # Deny sensitive datasets\n      - dataset: hr_salaries\n        effect: deny\n\n      - dataset: \"pii_*\"\n        effect: deny\n</code></pre>"},{"location":"guides/fine-grained-permissions/#column-level-access-control","title":"Column-Level Access Control","text":""},{"location":"guides/fine-grained-permissions/#dimensionmetric-whitelisting","title":"Dimension/Metric Whitelisting","text":"<p>Only allow specific columns:</p> <pre><code>roles:\n  - name: limited_analyst\n    datasets:\n      - dataset: orders\n        actions: [query]\n\n        # Only these dimensions allowed\n        allowed_dimensions:\n          - order_date\n          - region\n          - product_category\n\n        # Only these metrics allowed\n        allowed_metrics:\n          - order_count\n          - total_amount\n</code></pre>"},{"location":"guides/fine-grained-permissions/#dimensionmetric-blacklisting","title":"Dimension/Metric Blacklisting","text":"<p>Deny specific columns:</p> <pre><code>roles:\n  - name: external_partner\n    datasets:\n      - dataset: orders\n        actions: [query]\n\n        # These dimensions are hidden\n        denied_dimensions:\n          - customer_email\n          - customer_phone\n          - internal_notes\n\n        # These metrics are hidden\n        denied_metrics:\n          - profit_margin\n          - cost_price\n</code></pre>"},{"location":"guides/fine-grained-permissions/#per-column-permissions","title":"Per-Column Permissions","text":"<pre><code>roles:\n  - name: support_agent\n    datasets:\n      - dataset: customers\n        actions: [query, read]\n\n        columns:\n          - name: email\n            effect: allow\n            mask: EMAIL  # Show a***@domain.com\n\n          - name: phone\n            effect: allow\n            mask: PARTIAL  # Show 5***9\n\n          - name: ssn\n            effect: deny  # Completely hidden\n\n          - name: address\n            effect: allow\n            mask: \"***\"  # Replace with ***\n</code></pre>"},{"location":"guides/fine-grained-permissions/#data-masking","title":"Data Masking","text":""},{"location":"guides/fine-grained-permissions/#masking-types","title":"Masking Types","text":"Mask Example Input Output <code>***</code> <code>john@email.com</code> <code>***</code> <code>HASH</code> <code>john@email.com</code> <code>a3f2b8c1</code> <code>PARTIAL</code> <code>1234567890</code> <code>1********0</code> <code>EMAIL</code> <code>john@email.com</code> <code>j***@email.com</code>"},{"location":"guides/fine-grained-permissions/#configure-masking","title":"Configure Masking","text":"<pre><code>roles:\n  - name: customer_service\n    datasets:\n      - dataset: customers\n        columns:\n          - name: credit_card\n            mask: PARTIAL\n\n          - name: ssn\n            mask: \"XXX-XX-****\"\n\n          - name: email\n            mask: EMAIL\n\n          - name: salary\n            mask: HASH\n</code></pre>"},{"location":"guides/fine-grained-permissions/#custom-masking-functions","title":"Custom Masking Functions","text":"<pre><code>columns:\n  - name: phone\n    mask_function: mask_phone  # Custom function\n</code></pre> <p>Implement in Python:</p> <pre><code>def mask_phone(value: str) -&gt; str:\n    \"\"\"Custom phone masking.\"\"\"\n    if len(value) &gt;= 10:\n        return f\"({value[:3]}) ***-{value[-4:]}\"\n    return \"***\"\n</code></pre>"},{"location":"guides/fine-grained-permissions/#row-level-security-rls","title":"Row-Level Security (RLS)","text":""},{"location":"guides/fine-grained-permissions/#tenant-isolation","title":"Tenant Isolation","text":"<p>Automatically filter rows by tenant:</p> <pre><code>roles:\n  - name: tenant_user\n    datasets:\n      - dataset: \"*\"\n        actions: [query]\n        rls_field: tenant_id  # Column containing tenant ID\n</code></pre> <p>The user's tenant ID (from API key, OAuth, or SAML) is used to filter:</p> <pre><code>-- Automatically added to queries\nWHERE tenant_id = 'user_tenant_id'\n</code></pre>"},{"location":"guides/fine-grained-permissions/#custom-rls-filters","title":"Custom RLS Filters","text":"<pre><code>roles:\n  - name: regional_manager\n    datasets:\n      - dataset: orders\n        actions: [query]\n        rls_filter: \"region IN ('US-East', 'US-West')\"\n\n      - dataset: employees\n        actions: [query]\n        rls_filter: \"department = 'Sales' AND active = true\"\n</code></pre>"},{"location":"guides/fine-grained-permissions/#dynamic-rls-with-attributes","title":"Dynamic RLS with Attributes","text":"<pre><code>roles:\n  - name: department_head\n    datasets:\n      - dataset: employees\n        actions: [query]\n        # Uses department from OAuth/SAML attributes\n        rls_filter: \"department = '${user.department}'\"\n</code></pre>"},{"location":"guides/fine-grained-permissions/#query-limits","title":"Query Limits","text":""},{"location":"guides/fine-grained-permissions/#row-limits","title":"Row Limits","text":"<pre><code>roles:\n  - name: free_tier\n    datasets:\n      - dataset: \"*\"\n        actions: [query]\n        max_rows: 1000  # Max 1000 rows per query\n</code></pre>"},{"location":"guides/fine-grained-permissions/#time-range-limits","title":"Time Range Limits","text":"<pre><code>roles:\n  - name: trial_user\n    datasets:\n      - dataset: \"*\"\n        actions: [query]\n        allowed_time_range: 30  # Only last 30 days\n</code></pre>"},{"location":"guides/fine-grained-permissions/#dimensionmetric-limits","title":"Dimension/Metric Limits","text":"<pre><code>roles:\n  - name: simple_queries\n    datasets:\n      - dataset: \"*\"\n        actions: [query]\n        max_dimensions: 3  # Max 3 dimensions per query\n        max_metrics: 5     # Max 5 metrics per query\n</code></pre>"},{"location":"guides/fine-grained-permissions/#role-based-access-control-rbac","title":"Role-Based Access Control (RBAC)","text":""},{"location":"guides/fine-grained-permissions/#define-roles","title":"Define Roles","text":"<pre><code>roles:\n  # Base role with minimal access\n  - name: base_user\n    datasets:\n      - dataset: \"public_*\"\n        actions: [read]\n\n  # Analyst inherits base_user\n  - name: analyst\n    inherits: [base_user]\n    datasets:\n      - dataset: \"*\"\n        actions: [query, read]\n\n  # Senior analyst with export\n  - name: senior_analyst\n    inherits: [analyst]\n    datasets:\n      - dataset: \"*\"\n        actions: [query, read, export]\n\n  # Admin with everything\n  - name: admin\n    inherits: [senior_analyst]\n    datasets:\n      - dataset: \"*\"\n        actions: [query, read, write, admin]\n    can_create_api_keys: true\n    can_manage_sources: true\n    can_view_audit_logs: true\n</code></pre>"},{"location":"guides/fine-grained-permissions/#assign-roles","title":"Assign Roles","text":"<pre><code># By API Key\napi_key_roles:\n  \"sk_live_analyst123\": [analyst]\n  \"sk_live_senior456\": [senior_analyst]\n  \"sk_live_admin789\": [admin]\n\n# By User ID (OAuth/SAML)\nuser_roles:\n  \"user@company.com\": [analyst]\n  \"admin@company.com\": [admin]\n\n# By Tenant\ntenant_roles:\n  \"tenant_123\": [base_user]\n  \"tenant_456\": [analyst]\n</code></pre>"},{"location":"guides/fine-grained-permissions/#role-priority","title":"Role Priority","text":"<p>Higher priority roles are evaluated first:</p> <pre><code>roles:\n  - name: admin\n    priority: 100  # Highest\n\n  - name: analyst\n    priority: 50\n\n  - name: viewer\n    priority: 10  # Lowest\n</code></pre>"},{"location":"guides/fine-grained-permissions/#policy-based-access-control","title":"Policy-Based Access Control","text":""},{"location":"guides/fine-grained-permissions/#define-policies","title":"Define Policies","text":"<pre><code>policies:\n  # Allow analysts during business hours\n  - id: business_hours_only\n    name: Business Hours Access\n    principals: [analyst]\n    resources: [\"*\"]\n    actions: [query]\n    effect: allow\n    conditions:\n      time_range:\n        start: 9\n        end: 18\n\n  # Deny access from unknown IPs\n  - id: ip_whitelist\n    name: IP Whitelist\n    principals: [\"*\"]\n    resources: [\"*\"]\n    actions: [\"*\"]\n    effect: deny\n    conditions:\n      ip_range: [\"10.0.0.0/8\", \"192.168.0.0/16\"]\n</code></pre>"},{"location":"guides/fine-grained-permissions/#policy-conditions","title":"Policy Conditions","text":"Condition Description Example <code>ip_range</code> Allowed IP ranges <code>[\"10.0.0.0/8\"]</code> <code>time_range</code> Allowed hours (UTC) <code>{start: 9, end: 18}</code> <code>tenant_id</code> Specific tenant <code>\"tenant_123\"</code> <code>attributes</code> User attributes <code>{department: \"Sales\"}</code>"},{"location":"guides/fine-grained-permissions/#policy-precedence","title":"Policy Precedence","text":"<ol> <li>Explicit Deny - Always wins</li> <li>Explicit Allow - If no deny</li> <li>Default Effect - If no match (deny by default)</li> </ol>"},{"location":"guides/fine-grained-permissions/#api-key-scoping","title":"API Key Scoping","text":""},{"location":"guides/fine-grained-permissions/#create-scoped-api-keys","title":"Create Scoped API Keys","text":"<pre><code>api_keys:\n  - key: \"sk_live_readonly\"\n    roles: [viewer]\n    datasets: [\"orders\", \"products\"]\n    expires_at: \"2025-12-31\"\n\n  - key: \"sk_live_analytics\"\n    roles: [analyst]\n    tenant_id: \"tenant_123\"\n\n  - key: \"sk_live_admin\"\n    roles: [admin]\n</code></pre>"},{"location":"guides/fine-grained-permissions/#api-key-restrictions","title":"API Key Restrictions","text":"<pre><code>api_keys:\n  - key: \"sk_partner_xyz\"\n    roles: [partner]\n\n    # IP restrictions\n    allowed_ips: [\"203.0.113.0/24\"]\n\n    # Rate limits\n    rate_limit: 100  # requests per minute\n\n    # Expiration\n    expires_at: \"2025-06-30T23:59:59Z\"\n</code></pre>"},{"location":"guides/fine-grained-permissions/#audit-logging","title":"Audit Logging","text":""},{"location":"guides/fine-grained-permissions/#enable-audit-logs","title":"Enable Audit Logs","text":"<pre><code>permissions:\n  audit_enabled: true\n</code></pre>"},{"location":"guides/fine-grained-permissions/#audit-log-format","title":"Audit Log Format","text":"<pre><code>{\n  \"timestamp\": \"2025-12-29T10:30:00Z\",\n  \"event\": \"permission_check\",\n  \"principal\": {\n    \"api_key\": \"sk_live_***\",\n    \"user_id\": \"user@company.com\",\n    \"tenant_id\": \"tenant_123\",\n    \"roles\": [\"analyst\"]\n  },\n  \"resource\": {\n    \"type\": \"dataset\",\n    \"id\": \"orders\"\n  },\n  \"action\": \"query\",\n  \"result\": {\n    \"allowed\": true,\n    \"matched_roles\": [\"analyst\"],\n    \"applied_filters\": [\"tenant_id = 'tenant_123'\"]\n  }\n}\n</code></pre>"},{"location":"guides/fine-grained-permissions/#helm-configuration","title":"Helm Configuration","text":"<pre><code># values.yaml\npermissions:\n  enabled: true\n  defaultEffect: deny\n\n  roles:\n    - name: analyst\n      datasets:\n        - dataset: \"*\"\n          actions: [query, read]\n\n    - name: admin\n      datasets:\n        - dataset: \"*\"\n          actions: [query, read, write, admin]\n      canCreateApiKeys: true\n      canManageSources: true\n\n  apiKeyRoles:\n    # From secret\n    existingSecret: api-key-roles\n\n  auditEnabled: true\n</code></pre>"},{"location":"guides/fine-grained-permissions/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>PERMISSIONS_ENABLED</code> Enable fine-grained permissions <code>true</code> <code>PERMISSIONS_DEFAULT_EFFECT</code> Default permission effect <code>deny</code> <code>PERMISSIONS_AUDIT_ENABLED</code> Enable audit logging <code>true</code> <code>PERMISSIONS_CACHE_TTL</code> Permission cache TTL (seconds) <code>300</code> <code>ADMIN_API_KEY</code> Admin API key (auto-creates admin role) -"},{"location":"guides/fine-grained-permissions/#examples","title":"Examples","text":""},{"location":"guides/fine-grained-permissions/#multi-tenant-saas","title":"Multi-Tenant SaaS","text":"<pre><code>permissions:\n  enabled: true\n  default_effect: deny\n\n  roles:\n    # Each tenant gets isolated access\n    - name: tenant_user\n      datasets:\n        - dataset: \"*\"\n          actions: [query, read]\n          rls_field: tenant_id\n          max_rows: 50000\n\n    # Super admin can see all\n    - name: super_admin\n      datasets:\n        - dataset: \"*\"\n          actions: [query, read, write, admin]\n      can_manage_sources: true\n\n  tenant_roles:\n    \"*\": [tenant_user]  # All tenants get tenant_user role\n\n  api_key_roles:\n    \"sk_super_admin\": [super_admin]\n</code></pre>"},{"location":"guides/fine-grained-permissions/#data-privacy-compliance","title":"Data Privacy Compliance","text":"<pre><code>permissions:\n  enabled: true\n\n  roles:\n    - name: gdpr_compliant\n      datasets:\n        - dataset: customers\n          actions: [query]\n\n          # Hide PII columns\n          denied_dimensions:\n            - email\n            - phone\n            - address\n            - date_of_birth\n\n          # Mask remaining PII\n          columns:\n            - name: name\n              mask: PARTIAL\n            - name: customer_id\n              mask: HASH\n</code></pre>"},{"location":"guides/fine-grained-permissions/#department-based-access","title":"Department-Based Access","text":"<pre><code>permissions:\n  enabled: true\n\n  roles:\n    - name: sales\n      datasets:\n        - dataset: orders\n          actions: [query]\n          rls_filter: \"department = 'Sales'\"\n        - dataset: customers\n          actions: [query]\n\n    - name: finance\n      datasets:\n        - dataset: orders\n          actions: [query]\n        - dataset: revenue\n          actions: [query]\n        - dataset: costs\n          actions: [query]\n\n    - name: hr\n      datasets:\n        - dataset: employees\n          actions: [query]\n          denied_dimensions: [salary, ssn]\n\n  user_roles:\n    \"alice@company.com\": [sales]\n    \"bob@company.com\": [finance]\n    \"carol@company.com\": [hr]\n</code></pre>"},{"location":"guides/fine-grained-permissions/#best-practices","title":"Best Practices","text":"<ol> <li>Deny by Default: Always use <code>default_effect: deny</code></li> <li>Least Privilege: Grant minimum required permissions</li> <li>Use Roles: Don't assign permissions directly to users</li> <li>Role Inheritance: Create hierarchy for maintainability</li> <li>Audit Everything: Enable audit logging</li> <li>Review Regularly: Audit permissions periodically</li> <li>Test Permissions: Verify with test API keys</li> </ol>"},{"location":"guides/fine-grained-permissions/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/fine-grained-permissions/#access-denied","title":"Access Denied","text":"<pre><code>{\n  \"error\": \"Access denied\",\n  \"code\": \"ERR_4003\",\n  \"details\": {\n    \"dataset\": \"orders\",\n    \"reason\": \"No matching permission found\",\n    \"principal\": \"sk_live_***\"\n  }\n}\n</code></pre> <p>Solutions: 1. Check API key has correct roles assigned 2. Verify role has dataset permission 3. Check for explicit deny policies 4. Review role priority</p>"},{"location":"guides/fine-grained-permissions/#column-not-available","title":"Column Not Available","text":"<pre><code>{\n  \"error\": \"Dimension not available\",\n  \"code\": \"ERR_3004\",\n  \"details\": {\n    \"dimension\": \"customer_email\",\n    \"reason\": \"Column denied by permission\"\n  }\n}\n</code></pre> <p>Solutions: 1. Check <code>denied_dimensions</code> in role 2. Verify <code>allowed_dimensions</code> whitelist 3. Check column-level permissions</p>"},{"location":"guides/fine-grained-permissions/#missing-rls-filter","title":"Missing RLS Filter","text":"<pre><code>{\n  \"warning\": \"No RLS filter applied\",\n  \"details\": {\n    \"dataset\": \"orders\",\n    \"tenant_id\": null\n  }\n}\n</code></pre> <p>Solutions: 1. Verify tenant_id is provided 2. Check <code>rls_field</code> configuration 3. Verify API key has tenant association</p>"},{"location":"guides/incremental-refresh/","title":"Incremental Refresh","text":"<p>Enable efficient data loading for BI tools.</p>"},{"location":"guides/incremental-refresh/#overview","title":"Overview","text":"<p>Incremental refresh loads only new or changed data:</p> <pre><code>Full Refresh:  Load 3 years of data  \u2192  Slow, expensive\nIncremental:   Load last 7 days       \u2192  Fast, efficient\n</code></pre> <p>Power BI native support via OData date filtering.</p>"},{"location":"guides/incremental-refresh/#how-it-works","title":"How It Works","text":""},{"location":"guides/incremental-refresh/#configuration","title":"Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: postgres-prod\n    table: orders\n\n    incremental:\n      date_column: order_date\n      min_date: \"2020-01-01\"\n</code></pre>"},{"location":"guides/incremental-refresh/#power-bi-request","title":"Power BI Request","text":"<p>Power BI sends date range parameters:</p> <pre><code>GET /odata/orders?$filter=order_date ge 2024-01-01 and order_date lt 2024-02-01\n</code></pre>"},{"location":"guides/incremental-refresh/#query-translation","title":"Query Translation","text":"<pre><code>SELECT ... FROM orders \nWHERE order_date &gt;= '2024-01-01' \n  AND order_date &lt; '2024-02-01'\n</code></pre>"},{"location":"guides/incremental-refresh/#configuration-options","title":"Configuration Options","text":""},{"location":"guides/incremental-refresh/#basic-configuration","title":"Basic Configuration","text":"<pre><code>incremental:\n  date_column: order_date\n</code></pre>"},{"location":"guides/incremental-refresh/#with-minimum-date","title":"With Minimum Date","text":"<p>Prevent loading very old data:</p> <pre><code>incremental:\n  date_column: order_date\n  min_date: \"2020-01-01\"\n</code></pre>"},{"location":"guides/incremental-refresh/#with-granularity","title":"With Granularity","text":"<p>Specify date granularity:</p> <pre><code>incremental:\n  date_column: order_date\n  granularity: day  # day, month, year\n</code></pre>"},{"location":"guides/incremental-refresh/#power-bi-setup","title":"Power BI Setup","text":""},{"location":"guides/incremental-refresh/#step-1-create-parameters","title":"Step 1: Create Parameters","text":"<p>In Power BI, create two parameters:</p> <ol> <li>RangeStart</li> <li>Type: Date/Time</li> <li> <p>Current Value: (leave empty)</p> </li> <li> <p>RangeEnd</p> </li> <li>Type: Date/Time</li> <li>Current Value: (leave empty)</li> </ol>"},{"location":"guides/incremental-refresh/#step-2-filter-query","title":"Step 2: Filter Query","text":"<p>In Power Query, filter by these parameters:</p> <pre><code>let\n    Source = OData.Feed(\"http://localhost:8080/odata/orders\"),\n    Filtered = Table.SelectRows(Source, each \n        [order_date] &gt;= RangeStart and \n        [order_date] &lt; RangeEnd\n    )\nin\n    Filtered\n</code></pre>"},{"location":"guides/incremental-refresh/#step-3-configure-refresh-policy","title":"Step 3: Configure Refresh Policy","text":"<ol> <li>Right-click dataset \u2192 Incremental refresh</li> <li>Configure:</li> <li>Archive: 3 years</li> <li>Incrementally refresh: 7 days</li> <li>Detect data changes: (optional)</li> </ol>"},{"location":"guides/incremental-refresh/#step-4-publish-to-service","title":"Step 4: Publish to Service","text":"<p>Publish to Power BI Service. Incremental refresh only works in the service.</p>"},{"location":"guides/incremental-refresh/#odata-filter-syntax","title":"OData Filter Syntax","text":""},{"location":"guides/incremental-refresh/#standard-operators","title":"Standard Operators","text":"Operator OData Example Greater than or equal <code>ge</code> <code>date ge 2024-01-01</code> Less than <code>lt</code> <code>date lt 2024-02-01</code> Equal <code>eq</code> <code>status eq 'active'</code> Not equal <code>ne</code> <code>status ne 'cancelled'</code> And <code>and</code> <code>date ge 2024-01-01 and date lt 2024-02-01</code>"},{"location":"guides/incremental-refresh/#date-formats","title":"Date Formats","text":"<pre><code># ISO 8601 format\norder_date ge 2024-01-01\n\n# With time\ncreated_at ge 2024-01-01T00:00:00Z\n</code></pre>"},{"location":"guides/incremental-refresh/#optimization","title":"Optimization","text":""},{"location":"guides/incremental-refresh/#partition-size","title":"Partition Size","text":"Granularity Best For Day High-volume transactional data Month Standard reporting Year Historical archives"},{"location":"guides/incremental-refresh/#index-the-date-column","title":"Index the Date Column","text":"<pre><code>-- Essential for incremental refresh\nCREATE INDEX idx_orders_date ON orders(order_date);\n</code></pre>"},{"location":"guides/incremental-refresh/#composite-indexes","title":"Composite Indexes","text":"<p>If using RLS + incremental:</p> <pre><code>CREATE INDEX idx_orders_tenant_date \n  ON orders(tenant_id, order_date);\n</code></pre>"},{"location":"guides/incremental-refresh/#testing","title":"Testing","text":""},{"location":"guides/incremental-refresh/#verify-odata-filtering","title":"Verify OData Filtering","text":"<pre><code># Test date range filter\ncurl \"http://localhost:8080/odata/orders?\\$filter=order_date%20ge%202024-01-01%20and%20order_date%20lt%202024-02-01\" \\\n  -H \"X-API-Key: your-api-key\"\n</code></pre>"},{"location":"guides/incremental-refresh/#check-query-performance","title":"Check Query Performance","text":"<pre><code># Time the request\ntime curl \"http://localhost:8080/odata/orders?...\" \\\n  -H \"X-API-Key: your-api-key\" -o /dev/null\n</code></pre>"},{"location":"guides/incremental-refresh/#verify-correct-rows","title":"Verify Correct Rows","text":"<pre><code># Count rows in date range\ncurl \"http://localhost:8080/odata/orders?\\$filter=order_date%20ge%202024-01-01&amp;\\$count=true\" \\\n  -H \"X-API-Key: your-api-key\"\n</code></pre>"},{"location":"guides/incremental-refresh/#combining-with-rls","title":"Combining with RLS","text":"<p>Incremental refresh works with row-level security:</p> <pre><code>datasets:\n  - name: orders\n    table: orders\n\n    rls:\n      tenant_column: tenant_id\n\n    incremental:\n      date_column: order_date\n</code></pre> <p>Generated query:</p> <pre><code>SELECT ... FROM orders \nWHERE tenant_id = 'acme_corp'           -- RLS\n  AND order_date &gt;= '2024-01-01'        -- Incremental\n  AND order_date &lt; '2024-02-01'\n</code></pre>"},{"location":"guides/incremental-refresh/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/incremental-refresh/#full-refresh-still-happening","title":"Full Refresh Still Happening","text":"<p>Symptoms: Power BI loading all data</p> <p>Causes: - Parameters not created correctly - Filter not using parameters - Policy not configured</p> <p>Solutions: - Verify RangeStart and RangeEnd parameters exist - Check Power Query filter references parameters - Confirm policy is set in Power BI Service</p>"},{"location":"guides/incremental-refresh/#date-filter-not-working","title":"Date Filter Not Working","text":"<p>Symptoms: OData filter returns all rows</p> <p>Causes: - <code>incremental</code> not configured - Wrong column name - Date format mismatch</p> <p>Solutions: <pre><code># Verify configuration\nincremental:\n  date_column: order_date  # Must match actual column\n</code></pre></p>"},{"location":"guides/incremental-refresh/#slow-incremental-loads","title":"Slow Incremental Loads","text":"<p>Symptoms: Incremental still slow</p> <p>Causes: - Missing index - Large date ranges - Complex dataset</p> <p>Solutions: <pre><code>-- Add index\nCREATE INDEX idx_orders_date ON orders(order_date);\n\n-- Check partition size (smaller = faster)\n</code></pre></p>"},{"location":"guides/incremental-refresh/#best-practices","title":"Best Practices","text":""},{"location":"guides/incremental-refresh/#choose-right-date-column","title":"Choose Right Date Column","text":"Column Type Use For <code>created_at</code> New records only <code>updated_at</code> Modified records <code>event_date</code> Business date"},{"location":"guides/incremental-refresh/#set-realistic-ranges","title":"Set Realistic Ranges","text":"<pre><code># Don't load ancient data\nincremental:\n  date_column: order_date\n  min_date: \"2020-01-01\"  # Reasonable start\n</code></pre>"},{"location":"guides/incremental-refresh/#monitor-partition-size","title":"Monitor Partition Size","text":"<p>Keep partitions manageable:</p> Data Volume Suggested Granularity &lt; 1M rows/day Day 1-10M rows/day Day with smaller range &gt; 10M rows/day Consider pre-aggregation"},{"location":"guides/incremental-refresh/#test-in-development","title":"Test in Development","text":"<p>Before production:</p> <ol> <li>Test with small date ranges</li> <li>Verify row counts match expectations</li> <li>Time the refresh duration</li> <li>Monitor database load</li> </ol>"},{"location":"guides/modeling-ui/","title":"BI Modeling UI","text":"<p>SetuPranali includes a powerful web-based BI modeling interface similar to Power BI / Looker / Metabase.</p>"},{"location":"guides/modeling-ui/#overview","title":"Overview","text":"<p>The Modeling Studio provides: - Source Connection UI - Add, edit, test, and manage database connections - Schema Discovery Panel - Browse schemas, tables, and columns with lazy loading - ERD Builder - Drag-and-drop canvas for building entity relationships - Semantic Model - Define dimensions, measures, and calculated fields - Query Workbench - Execute semantic and SQL queries with visualization</p>"},{"location":"guides/modeling-ui/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         Modeling Studio UI                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Schema    \u2502        ERD Canvas           \u2502    Semantic Model       \u2502\n\u2502   Panel     \u2502    (React Flow)             \u2502       Panel            \u2502\n\u2502             \u2502                             \u2502                         \u2502\n\u2502  - Schemas  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2510        \u2502  - Dimensions           \u2502\n\u2502  - Tables   \u2502  \u2502Table\u2502\u2500\u2500\u2500\u2500\u2502Table\u2502        \u2502  - Measures             \u2502\n\u2502  - Columns  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2518        \u2502  - Calculated Fields    \u2502\n\u2502             \u2502       \u2502          \u2502         \u2502  - Time Intelligence    \u2502\n\u2502             \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2510        \u2502                         \u2502\n\u2502             \u2502  \u2502Table\u2502\u2500\u2500\u2500\u2500\u2502Table\u2502        \u2502                         \u2502\n\u2502             \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2518        \u2502                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                        Query Workbench                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 [ Semantic Mode ]  [ SQL Mode ]           [ \u25b6 Run Query ]     \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Results  \u2502  Chart  \u2502  Generated SQL                           \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/modeling-ui/#backend-architecture","title":"Backend Architecture","text":""},{"location":"guides/modeling-ui/#module-structure","title":"Module Structure","text":"<pre><code>app/modeling/\n\u251c\u2500\u2500 __init__.py                 # Module exports\n\u251c\u2500\u2500 schema_introspection.py     # Database schema discovery\n\u251c\u2500\u2500 erd_manager.py              # ERD persistence (nodes, edges)\n\u251c\u2500\u2500 semantic_model.py           # Dimensions, measures, calculated fields\n\u251c\u2500\u2500 query_planner.py            # SQL generation from semantic queries\n\u2514\u2500\u2500 routes.py                   # REST API endpoints\n</code></pre>"},{"location":"guides/modeling-ui/#key-classes","title":"Key Classes","text":""},{"location":"guides/modeling-ui/#schemaintrospector","title":"SchemaIntrospector","text":"<p>Discovers database metadata across different engines: - <code>get_schemas()</code> - List schemas/databases - <code>get_tables(schema)</code> - List tables in schema - <code>get_columns(schema, table)</code> - Get column metadata - <code>get_sample_data(schema, table)</code> - Preview data</p>"},{"location":"guides/modeling-ui/#erdmanager","title":"ERDManager","text":"<p>Manages entity-relationship diagrams: - TableNode - Table on canvas (position, columns, collapsed state) - RelationshipEdge - Join between tables (cardinality, join type) - ERDModel - Complete graph with nodes and edges</p>"},{"location":"guides/modeling-ui/#semanticmodelmanager","title":"SemanticModelManager","text":"<p>Manages semantic layer definitions: - Dimension - Categorical columns for grouping - Measure - Aggregated metrics (SUM, COUNT, AVG, etc.) - CalculatedField - Derived expressions - TimeIntelligence - YTD, MoM, YoY calculations</p>"},{"location":"guides/modeling-ui/#queryplanner","title":"QueryPlanner","text":"<p>Generates SQL from semantic queries: - Resolves dimensions and measures to columns - Builds JOIN paths using ERD relationships - Applies filters and sorts - Validates expressions</p>"},{"location":"guides/modeling-ui/#frontend-architecture","title":"Frontend Architecture","text":""},{"location":"guides/modeling-ui/#component-structure","title":"Component Structure","text":"<pre><code>webui/src/\n\u251c\u2500\u2500 components/\n\u2502   \u2514\u2500\u2500 modeling/\n\u2502       \u251c\u2500\u2500 SourceConnectionDialog.tsx  # Connection config modal\n\u2502       \u251c\u2500\u2500 SchemaPanel.tsx             # Tree view for schemas\n\u2502       \u251c\u2500\u2500 ERDCanvas.tsx               # React Flow canvas\n\u2502       \u251c\u2500\u2500 SemanticModelPanel.tsx      # Dimensions &amp; measures\n\u2502       \u2514\u2500\u2500 QueryWorkbench.tsx          # SQL/semantic query UI\n\u251c\u2500\u2500 pages/\n\u2502   \u2514\u2500\u2500 ModelingStudio.tsx              # Main page layout\n\u251c\u2500\u2500 store/\n\u2502   \u2514\u2500\u2500 modeling.ts                     # Zustand state management\n\u251c\u2500\u2500 lib/\n\u2502   \u2514\u2500\u2500 modeling-api.ts                 # API client\n\u2514\u2500\u2500 types/\n    \u2514\u2500\u2500 modeling.ts                     # TypeScript types\n</code></pre>"},{"location":"guides/modeling-ui/#state-management","title":"State Management","text":"<p>Uses Zustand for global state: - Sources - Data source connections - Schema Tree - Expanded/collapsed state, search - ERD Canvas - Zoom, pan, selection - Semantic Model - Selected dimensions/measures - Query Workbench - Mode, SQL text, results</p>"},{"location":"guides/modeling-ui/#key-libraries","title":"Key Libraries","text":"Library Purpose xyflow/react ERD canvas (drag, connect, pan, zoom) monaco-editor/react SQL editor with syntax highlighting recharts Result visualization (bar, line charts) react-resizable-panels Resizable layout panels tanstack/react-query Data fetching &amp; caching zustand State management"},{"location":"guides/modeling-ui/#api-reference","title":"API Reference","text":""},{"location":"guides/modeling-ui/#schema-introspection","title":"Schema Introspection","text":"<pre><code># List schemas\nGET /v1/modeling/sources/{sourceId}/schemas\n\n# List tables in schema\nGET /v1/modeling/sources/{sourceId}/schemas/{schema}/tables\n\n# Get columns for table\nGET /v1/modeling/sources/{sourceId}/schemas/{schema}/tables/{table}/columns\n\n# Get sample data\nGET /v1/modeling/sources/{sourceId}/schemas/{schema}/tables/{table}/sample?limit=100\n</code></pre>"},{"location":"guides/modeling-ui/#erd-management","title":"ERD Management","text":"<pre><code># CRUD for ERD models\nPOST   /v1/modeling/erd\nGET    /v1/modeling/erd\nGET    /v1/modeling/erd/{modelId}\nPUT    /v1/modeling/erd/{modelId}\nDELETE /v1/modeling/erd/{modelId}\n\n# Node operations\nPOST   /v1/modeling/erd/{modelId}/nodes\nDELETE /v1/modeling/erd/{modelId}/nodes/{nodeId}\n\n# Edge operations\nPOST   /v1/modeling/erd/{modelId}/edges\nDELETE /v1/modeling/erd/{modelId}/edges/{edgeId}\n</code></pre>"},{"location":"guides/modeling-ui/#semantic-model-management","title":"Semantic Model Management","text":"<pre><code># CRUD for semantic models\nPOST   /v1/modeling/semantic\nGET    /v1/modeling/semantic\nGET    /v1/modeling/semantic/{modelId}\nPUT    /v1/modeling/semantic/{modelId}\nDELETE /v1/modeling/semantic/{modelId}\n\n# Dimension operations\nPOST   /v1/modeling/semantic/{modelId}/dimensions\nDELETE /v1/modeling/semantic/{modelId}/dimensions/{dimId}\n\n# Measure operations\nPOST   /v1/modeling/semantic/{modelId}/measures\nDELETE /v1/modeling/semantic/{modelId}/measures/{measureId}\n\n# Calculated field operations\nPOST   /v1/modeling/semantic/{modelId}/calculated\n</code></pre>"},{"location":"guides/modeling-ui/#query-workbench","title":"Query Workbench","text":"<pre><code># Execute semantic query\nPOST /v1/modeling/query/semantic\n{\n  \"erdModelId\": \"...\",\n  \"semanticModelId\": \"...\",\n  \"query\": {\n    \"dimensions\": [\"Region\", \"Product\"],\n    \"measures\": [\"Total Revenue\", \"Order Count\"],\n    \"filters\": [],\n    \"sorts\": [{\"field\": \"Total Revenue\", \"direction\": \"DESC\"}],\n    \"limit\": 100\n  }\n}\n\n# Execute raw SQL\nPOST /v1/modeling/query/sql\n{\n  \"sql\": \"SELECT * FROM orders LIMIT 10\",\n  \"sourceId\": \"...\"\n}\n\n# Explain query (without executing)\nPOST /v1/modeling/query/explain\n\n# Validate expression\nPOST /v1/modeling/query/validate-expression\n{\n  \"expression\": \"[Revenue] / [Orders]\"\n}\n</code></pre>"},{"location":"guides/modeling-ui/#database-schema","title":"Database Schema","text":""},{"location":"guides/modeling-ui/#erd-models-sqlite","title":"ERD Models (SQLite)","text":"<pre><code>CREATE TABLE erd_models (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    source_id TEXT NOT NULL,\n    description TEXT,\n    data TEXT NOT NULL,          -- JSON: nodes, edges\n    version INTEGER DEFAULT 1,\n    created_at TEXT NOT NULL,\n    updated_at TEXT NOT NULL\n);\nCREATE INDEX idx_erd_source_id ON erd_models(source_id);\n</code></pre>"},{"location":"guides/modeling-ui/#semantic-models-sqlite","title":"Semantic Models (SQLite)","text":"<pre><code>CREATE TABLE semantic_models (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    source_id TEXT NOT NULL,\n    erd_model_id TEXT,\n    description TEXT,\n    data TEXT NOT NULL,          -- JSON: dimensions, measures, etc.\n    version INTEGER DEFAULT 1,\n    created_at TEXT NOT NULL,\n    updated_at TEXT NOT NULL\n);\nCREATE INDEX idx_semantic_source_id ON semantic_models(source_id);\n</code></pre>"},{"location":"guides/modeling-ui/#usage-example","title":"Usage Example","text":""},{"location":"guides/modeling-ui/#1-create-connection","title":"1. Create Connection","text":"<pre><code>const result = await modelingApi.testConnection({\n  engine: 'postgres',\n  host: 'localhost',\n  port: 5432,\n  database: 'sales',\n  username: 'admin',\n  password: 'secret',\n  ssl: true\n});\n</code></pre>"},{"location":"guides/modeling-ui/#2-build-erd","title":"2. Build ERD","text":"<pre><code>// Create ERD model\nconst erd = await modelingApi.createERDModel({\n  name: 'Sales Data Model',\n  sourceId: 'pg-sales'\n});\n\n// Add tables\nawait modelingApi.addTableNode(erd.id, {\n  schemaName: 'public',\n  tableName: 'orders',\n  position: { x: 100, y: 100 }\n});\n\n// Create relationship\nawait modelingApi.addRelationship(erd.id, {\n  sourceNodeId: 'orders-node',\n  sourceColumn: 'customer_id',\n  targetNodeId: 'customers-node',\n  targetColumn: 'id',\n  cardinality: 'N:1',\n  joinType: 'left'\n});\n</code></pre>"},{"location":"guides/modeling-ui/#3-define-semantic-model","title":"3. Define Semantic Model","text":"<pre><code>const semantic = await modelingApi.createSemanticModel({\n  name: 'Sales Metrics',\n  sourceId: 'pg-sales',\n  erdModelId: erd.id\n});\n\n// Add dimension\nawait modelingApi.addDimension(semantic.id, {\n  name: 'Product Category',\n  sourceColumn: 'category',\n  sourceTable: 'public.products',\n  dimensionType: 'categorical'\n});\n\n// Add measure\nawait modelingApi.addMeasure(semantic.id, {\n  name: 'Total Revenue',\n  expression: 'revenue',\n  aggregation: 'SUM',\n  sourceTable: 'public.orders',\n  formatString: '$#,##0.00'\n});\n</code></pre>"},{"location":"guides/modeling-ui/#4-run-semantic-query","title":"4. Run Semantic Query","text":"<pre><code>const result = await modelingApi.executeSemanticQuery(\n  erd.id,\n  semantic.id,\n  {\n    dimensions: ['Product Category'],\n    measures: ['Total Revenue'],\n    sorts: [{ field: 'Total Revenue', direction: 'DESC' }],\n    limit: 10\n  }\n);\n\nconsole.log(result.rows);\n// [\n//   { \"Product Category\": \"Electronics\", \"Total Revenue\": 150000 },\n//   { \"Product Category\": \"Clothing\", \"Total Revenue\": 89000 },\n//   ...\n// ]\n</code></pre>"},{"location":"guides/modeling-ui/#best-practices","title":"Best Practices","text":""},{"location":"guides/modeling-ui/#erd-design","title":"ERD Design","text":"<ul> <li>Start with fact tables (orders, transactions)</li> <li>Add dimension tables and create relationships</li> <li>Use descriptive relationship names</li> <li>Mark inactive relationships for alternative join paths</li> </ul>"},{"location":"guides/modeling-ui/#semantic-model","title":"Semantic Model","text":"<ul> <li>Use business-friendly names (not column names)</li> <li>Add descriptions for self-documentation</li> <li>Create calculated metrics for complex KPIs</li> <li>Configure time intelligence for date dimensions</li> </ul>"},{"location":"guides/modeling-ui/#performance","title":"Performance","text":"<ul> <li>Use lazy loading for large schemas</li> <li>Cache introspection results</li> <li>Limit sample data queries</li> <li>Use LIMIT in semantic queries</li> </ul>"},{"location":"guides/modeling-ui/#yaml-contract-export","title":"YAML Contract Export","text":"<p>The Modeling Studio can export semantic models as YAML contracts:</p> <pre><code>GET /v1/modeling/semantic/{modelId}/yaml\n</code></pre> <p>Returns the semantic model in YAML format for use in <code>catalog.yaml</code>.</p>"},{"location":"guides/modeling-ui/#roadmap","title":"Roadmap","text":"<ul> <li> Visual join validation (type compatibility)</li> <li> Drag dimension from schema to semantic panel</li> <li> Auto-detect relationships from foreign keys</li> <li> Export semantic model to dbt/Cube.js</li> <li> Collaborative editing (websocket sync)</li> <li> Version history for models</li> <li> YAML contract export (\u2705 Available)</li> </ul>"},{"location":"guides/multi-tenant/","title":"Multi-Tenant Setup","text":"<p>Configure SetuPranali for multiple customers.</p>"},{"location":"guides/multi-tenant/#overview","title":"Overview","text":"<p>Multi-tenancy allows you to serve multiple customers from a single deployment:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              SetuPranali                      \u2502\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502  \u2502 Tenant A \u2502  \u2502 Tenant B \u2502  \u2502 Tenant C \u2502               \u2502\n\u2502  \u2502 (Acme)   \u2502  \u2502 (Globex) \u2502  \u2502 (Wayne)  \u2502               \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502       \u2502             \u2502             \u2502                      \u2502\n\u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2502                     \u2502                                    \u2502\n\u2502              Data Isolation                              \u2502\n\u2502              (Row-Level Security)                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/multi-tenant/#setup","title":"Setup","text":""},{"location":"guides/multi-tenant/#step-1-data-model","title":"Step 1: Data Model","text":"<p>Ensure all tables have a tenant identifier:</p> <pre><code>CREATE TABLE orders (\n    id SERIAL PRIMARY KEY,\n    tenant_id VARCHAR(50) NOT NULL,  -- Required\n    customer_id INTEGER,\n    amount DECIMAL(10,2),\n    order_date DATE\n);\n\nCREATE INDEX idx_orders_tenant ON orders(tenant_id);\n</code></pre>"},{"location":"guides/multi-tenant/#step-2-configure-rls","title":"Step 2: Configure RLS","text":"<p>Add RLS to each dataset:</p> <pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: postgres-prod\n    table: orders\n\n    rls:\n      tenant_column: tenant_id\n\n    dimensions:\n      - name: region\n        type: string\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n</code></pre>"},{"location":"guides/multi-tenant/#step-3-create-api-keys","title":"Step 3: Create API Keys","text":"<p>Create a key for each tenant:</p> <pre><code>api_keys:\n  # Tenant A\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    role: analyst\n\n  # Tenant B\n  - key: \"pk_globex_xyz789\"\n    tenant: globex_inc\n    role: analyst\n\n  # Tenant C\n  - key: \"pk_wayne_555555\"\n    tenant: wayne_ent\n    role: analyst\n\n  # Admin (sees all data)\n  - key: \"admin-key-xxxxx\"\n    role: admin\n</code></pre>"},{"location":"guides/multi-tenant/#step-4-distribute-keys","title":"Step 4: Distribute Keys","text":"<p>Provide each customer their unique API key:</p> Customer API Key Acme Corp <code>pk_acme_abc123</code> Globex Inc <code>pk_globex_xyz789</code> Wayne Enterprises <code>pk_wayne_555555</code>"},{"location":"guides/multi-tenant/#architecture-patterns","title":"Architecture Patterns","text":""},{"location":"guides/multi-tenant/#shared-database","title":"Shared Database","text":"<p>All tenants share one database with tenant column:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Database                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 orders                             \u2502  \u2502\n\u2502  \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2502  \u2502\n\u2502  \u2502 tenant_id \u2502 order_id \u2502 amount     \u2502  \u2502\n\u2502  \u2502 acme      \u2502 1001     \u2502 500.00     \u2502  \u2502\n\u2502  \u2502 globex    \u2502 1002     \u2502 750.00     \u2502  \u2502\n\u2502  \u2502 wayne     \u2502 1003     \u2502 250.00     \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Pros: Simple, cost-effective Cons: Noisy neighbor risk</p>"},{"location":"guides/multi-tenant/#schema-per-tenant","title":"Schema Per Tenant","text":"<p>Each tenant has their own schema:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Database                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502 acme.orders\u2502  \u2502globex.orders\u2502         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Configuration:</p> <pre><code>datasets:\n  - name: orders_acme\n    source: postgres-prod\n    table: acme.orders\n</code></pre>"},{"location":"guides/multi-tenant/#database-per-tenant","title":"Database Per Tenant","text":"<p>Each tenant has their own database:</p> <pre><code># Multiple sources\nsources:\n  - name: acme-db\n    type: postgres\n    connection: { database: acme_db }\n\n  - name: globex-db\n    type: postgres\n    connection: { database: globex_db }\n\ndatasets:\n  - name: orders_acme\n    source: acme-db\n    table: orders\n\n  - name: orders_globex\n    source: globex-db\n    table: orders\n</code></pre>"},{"location":"guides/multi-tenant/#self-service-portal","title":"Self-Service Portal","text":""},{"location":"guides/multi-tenant/#automated-key-provisioning","title":"Automated Key Provisioning","text":"<p>Integrate key creation into your app:</p> <pre><code>import requests\n\ndef provision_tenant(tenant_id: str, email: str):\n    # Generate unique key\n    api_key = f\"pk_{tenant_id}_{generate_random()}\"\n\n    # Register with connector\n    # (In production, use secure key management)\n    add_to_config(api_key, tenant_id)\n\n    # Send to customer\n    send_welcome_email(email, api_key)\n\n    return api_key\n</code></pre>"},{"location":"guides/multi-tenant/#customer-dashboard","title":"Customer Dashboard","text":"<p>Each customer gets:</p> <ul> <li>Their API key</li> <li>Dataset documentation</li> <li>Power BI / Tableau connection instructions</li> <li>Usage statistics</li> </ul>"},{"location":"guides/multi-tenant/#monitoring","title":"Monitoring","text":""},{"location":"guides/multi-tenant/#per-tenant-metrics","title":"Per-Tenant Metrics","text":"<p>Track usage by tenant:</p> <pre><code>{\n  \"tenant\": \"acme_corp\",\n  \"queries_today\": 1523,\n  \"avg_response_time_ms\": 145,\n  \"cache_hit_rate\": 0.82,\n  \"last_active\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"guides/multi-tenant/#alerts","title":"Alerts","text":"<p>Set up alerts for:</p> <ul> <li>High query volume (abuse detection)</li> <li>Error rates by tenant</li> <li>Slow queries</li> <li>Rate limit hits</li> </ul>"},{"location":"guides/multi-tenant/#scaling","title":"Scaling","text":""},{"location":"guides/multi-tenant/#horizontal-scaling","title":"Horizontal Scaling","text":"<p>Deploy multiple connector instances:</p> <pre><code># docker-compose.yml\nservices:\n  connector:\n    image: adeygifting/connector:latest\n    deploy:\n      replicas: 3  # Scale horizontally\n</code></pre> <p>All instances share: - Same configuration - Same Redis (for cache/rate limiting) - Same database sources</p>"},{"location":"guides/multi-tenant/#tenant-isolation","title":"Tenant Isolation","text":"<p>For strict isolation, deploy per-tenant:</p> <pre><code># tenant-a-compose.yml\nservices:\n  connector-acme:\n    image: adeygifting/connector:latest\n    environment:\n      - TENANT_ID=acme\n    volumes:\n      - ./acme-catalog.yaml:/app/catalog.yaml\n</code></pre>"},{"location":"guides/multi-tenant/#security-best-practices","title":"Security Best Practices","text":""},{"location":"guides/multi-tenant/#key-rotation","title":"Key Rotation","text":"<p>Regularly rotate API keys:</p> <pre><code>def rotate_key(tenant_id: str):\n    # Generate new key\n    new_key = generate_key()\n\n    # Add new key (grace period)\n    add_key(new_key, tenant_id)\n\n    # Notify customer\n    notify_key_rotation(tenant_id, new_key)\n\n    # After grace period, revoke old key\n    schedule_revoke(old_key, delay_days=7)\n</code></pre>"},{"location":"guides/multi-tenant/#audit-logging","title":"Audit Logging","text":"<p>Log all tenant activity:</p> <pre><code>{\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"tenant\": \"acme_corp\",\n  \"action\": \"query\",\n  \"dataset\": \"orders\",\n  \"dimensions\": [\"region\"],\n  \"ip_address\": \"192.168.1.100\"\n}\n</code></pre>"},{"location":"guides/multi-tenant/#rate-limiting-per-tenant","title":"Rate Limiting Per Tenant","text":"<p>Prevent noisy neighbors:</p> <pre><code>api_keys:\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    rate_limit: \"100/minute\"  # Per-tenant limit\n</code></pre>"},{"location":"guides/multi-tenant/#onboarding-checklist","title":"Onboarding Checklist","text":"<p>For each new tenant:</p> <ul> <li> Create tenant record in your system</li> <li> Add tenant data to shared database</li> <li> Generate API key</li> <li> Configure rate limits</li> <li> Send welcome email with instructions</li> <li> Verify data isolation</li> <li> Monitor first queries</li> <li> Collect feedback</li> </ul>"},{"location":"guides/multi-tenant/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/multi-tenant/#tenant-seeing-wrong-data","title":"Tenant Seeing Wrong Data","text":"<p>Symptoms: Customer sees another tenant's data</p> <p>Causes: - Wrong tenant in API key - RLS not configured - Tenant column mismatch</p> <p>Solutions: <pre><code># Verify API key configuration\napi_keys:\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp  # Must match data\n\n# Verify RLS\nrls:\n  tenant_column: tenant_id  # Must match column name\n</code></pre></p>"},{"location":"guides/multi-tenant/#tenant-seeing-no-data","title":"Tenant Seeing No Data","text":"<p>Symptoms: Empty results</p> <p>Causes: - Tenant ID doesn't match data - No data loaded for tenant - Case sensitivity issue</p> <p>Solutions: <pre><code>-- Check what tenants exist in data\nSELECT DISTINCT tenant_id FROM orders;\n\n-- Verify case matches\n-- 'ACME_CORP' \u2260 'acme_corp'\n</code></pre></p>"},{"location":"guides/multi-tenant/#one-tenant-slow","title":"One Tenant Slow","text":"<p>Symptoms: One tenant significantly slower</p> <p>Causes: - Large data volume - Missing indexes - Complex filters</p> <p>Solutions: <pre><code>-- Check tenant data size\nSELECT tenant_id, COUNT(*) \nFROM orders \nGROUP BY tenant_id;\n\n-- Add composite index\nCREATE INDEX idx_tenant_date \n  ON orders(tenant_id, order_date);\n</code></pre></p>"},{"location":"guides/oauth/","title":"OAuth 2.0 / OIDC Authentication","text":"<p>Configure OAuth 2.0 and OpenID Connect (OIDC) authentication for SetuPranali.</p>"},{"location":"guides/oauth/#overview","title":"Overview","text":"<p>SetuPranali supports OAuth 2.0 / OIDC authentication with these providers:</p> <ul> <li>Google - Google Workspace and Cloud Identity</li> <li>Microsoft Azure AD - Enterprise Azure Active Directory</li> <li>Okta - Enterprise identity management</li> <li>Auth0 - Identity as a service</li> <li>Keycloak - Open-source identity management</li> <li>Generic OIDC - Any OIDC-compliant provider</li> </ul>"},{"location":"guides/oauth/#quick-start","title":"Quick Start","text":""},{"location":"guides/oauth/#1-enable-oauth","title":"1. Enable OAuth","text":"<p>Set environment variables:</p> <pre><code># Enable OAuth\nOAUTH_ENABLED=true\n\n# Configure provider (example: Google)\nOAUTH_GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com\nOAUTH_GOOGLE_CLIENT_SECRET=your-client-secret\n</code></pre>"},{"location":"guides/oauth/#2-use-bearer-token","title":"2. Use Bearer Token","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"Authorization: Bearer eyJhbGciOiJSUzI1NiIs...\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"orders\", \"metrics\": [\"revenue\"]}'\n</code></pre>"},{"location":"guides/oauth/#provider-configuration","title":"Provider Configuration","text":""},{"location":"guides/oauth/#google","title":"Google","text":"<pre><code># Environment variables\nOAUTH_ENABLED=true\nOAUTH_GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com\nOAUTH_GOOGLE_CLIENT_SECRET=your-client-secret  # Optional for JWT validation\n\n# Optional\nOAUTH_DEFAULT_PROVIDER=google\n</code></pre> <p>Google Cloud Console Setup:</p> <ol> <li>Go to Google Cloud Console</li> <li>Create or select a project</li> <li>Navigate to APIs &amp; Services &gt; Credentials</li> <li>Create OAuth 2.0 Client ID</li> <li>Configure authorized origins and redirect URIs</li> </ol>"},{"location":"guides/oauth/#microsoft-azure-ad","title":"Microsoft Azure AD","text":"<pre><code># Environment variables\nOAUTH_ENABLED=true\nOAUTH_AZURE_TENANT_ID=your-tenant-id\nOAUTH_AZURE_CLIENT_ID=your-client-id\nOAUTH_AZURE_CLIENT_SECRET=your-client-secret  # Optional\n\n# Optional\nOAUTH_DEFAULT_PROVIDER=azure\n</code></pre> <p>Azure Portal Setup:</p> <ol> <li>Go to Azure Portal</li> <li>Navigate to Azure Active Directory &gt; App registrations</li> <li>Create new registration</li> <li>Configure API permissions</li> <li>Add Redirect URIs</li> </ol> <p>Multi-tenant:</p> <pre><code># Use 'common' for multi-tenant\nOAUTH_AZURE_TENANT_ID=common\n</code></pre>"},{"location":"guides/oauth/#okta","title":"Okta","text":"<pre><code># Environment variables\nOAUTH_ENABLED=true\nOAUTH_OKTA_DOMAIN=your-domain.okta.com\nOAUTH_OKTA_CLIENT_ID=your-client-id\nOAUTH_OKTA_CLIENT_SECRET=your-client-secret  # Optional\nOAUTH_OKTA_AUDIENCE=api://default\n\n# Optional\nOAUTH_DEFAULT_PROVIDER=okta\n</code></pre> <p>Okta Admin Setup:</p> <ol> <li>Go to Okta Admin Console</li> <li>Navigate to Applications &gt; Create App Integration</li> <li>Select OIDC and Web Application</li> <li>Configure redirect URIs</li> <li>Note the Client ID</li> </ol>"},{"location":"guides/oauth/#auth0","title":"Auth0","text":"<pre><code># Environment variables\nOAUTH_ENABLED=true\nOAUTH_AUTH0_DOMAIN=your-tenant.auth0.com\nOAUTH_AUTH0_CLIENT_ID=your-client-id\nOAUTH_AUTH0_CLIENT_SECRET=your-client-secret  # Optional\nOAUTH_AUTH0_AUDIENCE=https://api.yourapp.com\n\n# Optional\nOAUTH_DEFAULT_PROVIDER=auth0\n</code></pre> <p>Auth0 Dashboard Setup:</p> <ol> <li>Go to Auth0 Dashboard</li> <li>Create new Application</li> <li>Create new API</li> <li>Configure allowed origins</li> </ol>"},{"location":"guides/oauth/#keycloak","title":"Keycloak","text":"<pre><code># Environment variables\nOAUTH_ENABLED=true\nOAUTH_KEYCLOAK_URL=https://keycloak.yourcompany.com\nOAUTH_KEYCLOAK_REALM=your-realm\nOAUTH_KEYCLOAK_CLIENT_ID=your-client-id\nOAUTH_KEYCLOAK_CLIENT_SECRET=your-client-secret  # Optional\n\n# Optional\nOAUTH_DEFAULT_PROVIDER=keycloak\n</code></pre> <p>Keycloak Admin Setup:</p> <ol> <li>Create new Realm (or use existing)</li> <li>Create new Client</li> <li>Set Access Type to <code>confidential</code> or <code>public</code></li> <li>Configure Valid Redirect URIs</li> </ol>"},{"location":"guides/oauth/#generic-oidc","title":"Generic OIDC","text":"<pre><code># Environment variables\nOAUTH_ENABLED=true\nOAUTH_OIDC_ISSUER=https://your-provider.com\nOAUTH_OIDC_CLIENT_ID=your-client-id\nOAUTH_OIDC_CLIENT_SECRET=your-client-secret\nOAUTH_OIDC_AUDIENCE=your-audience\nOAUTH_OIDC_DISCOVERY_URL=https://your-provider.com/.well-known/openid-configuration\n\n# Optional\nOAUTH_DEFAULT_PROVIDER=oidc\n</code></pre>"},{"location":"guides/oauth/#multiple-providers","title":"Multiple Providers","text":"<p>Configure multiple providers simultaneously:</p> <pre><code>OAUTH_ENABLED=true\n\n# Google\nOAUTH_GOOGLE_CLIENT_ID=google-client-id\n\n# Azure AD\nOAUTH_AZURE_TENANT_ID=azure-tenant-id\nOAUTH_AZURE_CLIENT_ID=azure-client-id\n\n# Default provider\nOAUTH_DEFAULT_PROVIDER=azure\n</code></pre> <p>Specify provider in request:</p> <pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"Authorization: Bearer eyJhbGciOiJSUzI1NiIs...\" \\\n  -H \"X-OAuth-Provider: google\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"orders\", \"metrics\": [\"revenue\"]}'\n</code></pre>"},{"location":"guides/oauth/#token-claims-mapping","title":"Token Claims Mapping","text":""},{"location":"guides/oauth/#tenant-mapping","title":"Tenant Mapping","text":"<p>Map OAuth claims to tenants for RLS:</p> <pre><code># Default claim name\nOAUTH_TENANT_CLAIM=tenant_id\n\n# Or use organization/group claim\nOAUTH_TENANT_CLAIM=org_id\n</code></pre> <p>Token example:</p> <pre><code>{\n  \"sub\": \"user123\",\n  \"email\": \"user@company.com\",\n  \"tenant_id\": \"company-123\",\n  \"roles\": [\"analyst\", \"viewer\"]\n}\n</code></pre>"},{"location":"guides/oauth/#role-mapping","title":"Role Mapping","text":"<pre><code># Default claim name\nOAUTH_ROLES_CLAIM=roles\n\n# Azure AD uses 'roles'\n# Keycloak uses 'realm_access.roles'\n</code></pre>"},{"location":"guides/oauth/#api-key-fallback","title":"API Key Fallback","text":"<p>Allow API key authentication when OAuth is enabled:</p> <pre><code># Enable both OAuth and API keys (default)\nOAUTH_ALLOW_API_KEYS=true\n\n# OAuth only\nOAUTH_ALLOW_API_KEYS=false\n</code></pre> <p>Request precedence:</p> <ol> <li>Bearer token (OAuth) - if present</li> <li>X-API-Key header - if OAuth fails or not present</li> <li>api_key query parameter - last resort</li> </ol>"},{"location":"guides/oauth/#helm-configuration","title":"Helm Configuration","text":"<pre><code># values.yaml\noauth:\n  enabled: true\n\n  providers:\n    google:\n      clientId: \"your-client-id\"\n      clientSecret: \"your-client-secret\"  # From secret\n\n    azure:\n      tenantId: \"your-tenant-id\"\n      clientId: \"your-client-id\"\n\n  defaultProvider: \"azure\"\n  allowApiKeys: true\n\n  # Claims mapping\n  tenantClaim: \"tenant_id\"\n  rolesClaim: \"roles\"\n</code></pre> <p>Using secrets:</p> <pre><code># values.yaml\noauth:\n  enabled: true\n  existingSecret: \"oauth-secrets\"\n</code></pre> <pre><code># oauth-secrets.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: oauth-secrets\ntype: Opaque\nstringData:\n  OAUTH_GOOGLE_CLIENT_SECRET: \"secret-value\"\n  OAUTH_AZURE_CLIENT_SECRET: \"secret-value\"\n</code></pre>"},{"location":"guides/oauth/#docker-configuration","title":"Docker Configuration","text":"<pre><code># docker-compose.yml\nservices:\n  setupranali:\n    image: adeygifting/connector\n    environment:\n      - OAUTH_ENABLED=true\n      - OAUTH_GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}\n      - OAUTH_GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}\n      - OAUTH_ALLOW_API_KEYS=true\n</code></pre>"},{"location":"guides/oauth/#token-validation","title":"Token Validation","text":""},{"location":"guides/oauth/#jwt-validation","title":"JWT Validation","text":"<p>SetuPranali validates:</p> <ul> <li>Signature - Using provider's JWKS</li> <li>Expiration - <code>exp</code> claim</li> <li>Audience - <code>aud</code> claim (if configured)</li> <li>Issuer - <code>iss</code> claim</li> </ul>"},{"location":"guides/oauth/#jwks-caching","title":"JWKS Caching","text":"<p>JWKS are cached to improve performance:</p> <pre><code># Cache TTL (default: 1 hour)\nOAUTH_JWKS_CACHE_TTL=3600\n</code></pre>"},{"location":"guides/oauth/#leeway","title":"Leeway","text":"<p>Allow clock skew between servers:</p> <pre><code># Leeway in seconds (default: 60)\nOAUTH_LEEWAY=60\n</code></pre>"},{"location":"guides/oauth/#row-level-security","title":"Row-Level Security","text":"<p>OAuth tokens can provide tenant context for RLS:</p> <pre><code># catalog.yaml\ndatasets:\n  - id: orders\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre> <p>The <code>tenant_id</code> from the OAuth token is automatically used for filtering.</p>"},{"location":"guides/oauth/#examples","title":"Examples","text":""},{"location":"guides/oauth/#python-sdk","title":"Python SDK","text":"<pre><code>from setupranali import SetuPranaliClient\n\n# Using OAuth token\nclient = SetuPranaliClient(\n    url=\"https://your-server.com\",\n    token=\"eyJhbGciOiJSUzI1NiIs...\"  # OAuth token instead of api_key\n)\n\ndf = client.query(\n    dataset=\"orders\",\n    dimensions=[\"region\"],\n    metrics=[\"revenue\"]\n)\n</code></pre>"},{"location":"guides/oauth/#javascript-sdk","title":"JavaScript SDK","text":"<pre><code>import { SetuPranali } from '@setupranali/sdk';\n\nconst client = new SetuPranali({\n  url: 'https://your-server.com',\n  token: 'eyJhbGciOiJSUzI1NiIs...'  // OAuth token\n});\n\nconst data = await client.query({\n  dataset: 'orders',\n  dimensions: ['region'],\n  metrics: ['revenue']\n});\n</code></pre>"},{"location":"guides/oauth/#curl","title":"cURL","text":"<pre><code># Get token from OAuth provider\nTOKEN=$(curl -s -X POST https://oauth.provider.com/token \\\n  -d \"grant_type=client_credentials\" \\\n  -d \"client_id=your-client-id\" \\\n  -d \"client_secret=your-client-secret\" \\\n  | jq -r '.access_token')\n\n# Query SetuPranali\ncurl -X POST http://localhost:8080/v1/query \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"orders\", \"metrics\": [\"revenue\"]}'\n</code></pre>"},{"location":"guides/oauth/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/oauth/#invalid-token","title":"Invalid Token","text":"<pre><code>401 Unauthorized: Invalid token\n</code></pre> <p>Solutions:</p> <ol> <li>Verify token hasn't expired</li> <li>Check token is from correct provider</li> <li>Verify audience matches configuration</li> <li>Check issuer matches configuration</li> </ol>"},{"location":"guides/oauth/#token-expired","title":"Token Expired","text":"<pre><code>401 Unauthorized: Token has expired\n</code></pre> <p>Solutions:</p> <ol> <li>Refresh the token</li> <li>Check system clock synchronization</li> <li>Increase <code>OAUTH_LEEWAY</code> for clock skew</li> </ol>"},{"location":"guides/oauth/#jwks-fetch-failed","title":"JWKS Fetch Failed","text":"<pre><code>500 Internal Server Error: Failed to fetch signing keys\n</code></pre> <p>Solutions:</p> <ol> <li>Verify provider URL is accessible</li> <li>Check firewall/network settings</li> <li>Verify JWKS URI is correct</li> </ol>"},{"location":"guides/oauth/#audience-mismatch","title":"Audience Mismatch","text":"<pre><code>401 Unauthorized: Invalid token audience\n</code></pre> <p>Solutions:</p> <ol> <li>Verify <code>OAUTH_*_AUDIENCE</code> is correct</li> <li>Check token's <code>aud</code> claim</li> <li>Disable audience verification if not needed:    <pre><code>OAUTH_VERIFY_AUD=false\n</code></pre></li> </ol>"},{"location":"guides/oauth/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Use HTTPS - Always use HTTPS in production</li> <li>Short token lifetime - Use short-lived access tokens</li> <li>Validate audience - Always validate the <code>aud</code> claim</li> <li>Rotate secrets - Regularly rotate client secrets</li> <li>Least privilege - Grant minimal required scopes</li> <li>Monitor logs - Watch for authentication failures</li> </ol>"},{"location":"guides/oauth/#environment-variables-reference","title":"Environment Variables Reference","text":"Variable Description Default <code>OAUTH_ENABLED</code> Enable OAuth authentication <code>false</code> <code>OAUTH_DEFAULT_PROVIDER</code> Default provider name (first configured) <code>OAUTH_ALLOW_API_KEYS</code> Allow API key fallback <code>true</code> <code>OAUTH_TENANT_CLAIM</code> Claim for tenant ID <code>tenant_id</code> <code>OAUTH_ROLES_CLAIM</code> Claim for user roles <code>roles</code> <code>OAUTH_LEEWAY</code> Clock skew tolerance (seconds) <code>60</code> <code>OAUTH_JWKS_CACHE_TTL</code> JWKS cache TTL (seconds) <code>3600</code> <code>OAUTH_VERIFY_AUD</code> Verify audience claim <code>true</code> <code>OAUTH_GOOGLE_CLIENT_ID</code> Google client ID - <code>OAUTH_GOOGLE_CLIENT_SECRET</code> Google client secret - <code>OAUTH_AZURE_TENANT_ID</code> Azure AD tenant ID <code>common</code> <code>OAUTH_AZURE_CLIENT_ID</code> Azure AD client ID - <code>OAUTH_AZURE_CLIENT_SECRET</code> Azure AD client secret - <code>OAUTH_OKTA_DOMAIN</code> Okta domain - <code>OAUTH_OKTA_CLIENT_ID</code> Okta client ID - <code>OAUTH_OKTA_AUDIENCE</code> Okta audience <code>api://default</code> <code>OAUTH_AUTH0_DOMAIN</code> Auth0 domain - <code>OAUTH_AUTH0_CLIENT_ID</code> Auth0 client ID - <code>OAUTH_AUTH0_AUDIENCE</code> Auth0 audience - <code>OAUTH_KEYCLOAK_URL</code> Keycloak URL - <code>OAUTH_KEYCLOAK_REALM</code> Keycloak realm <code>master</code> <code>OAUTH_KEYCLOAK_CLIENT_ID</code> Keycloak client ID - <code>OAUTH_OIDC_ISSUER</code> Generic OIDC issuer - <code>OAUTH_OIDC_CLIENT_ID</code> Generic OIDC client ID - <code>OAUTH_OIDC_DISCOVERY_URL</code> OIDC discovery URL -"},{"location":"guides/observability/","title":"Observability","text":"<p>Monitor, trace, and audit your SetuPranali deployment with comprehensive observability features.</p>"},{"location":"guides/observability/#overview","title":"Overview","text":"<p>SetuPranali provides four pillars of observability:</p> Feature Description Query Analytics Dashboard for query patterns and performance Prometheus Metrics Export metrics for monitoring OpenTelemetry Tracing Distributed tracing support Audit Logs Full audit trail of all queries"},{"location":"guides/observability/#quick-start","title":"Quick Start","text":"<p>Enable all observability features:</p> <pre><code># Enable all features\nANALYTICS_ENABLED=true\nMETRICS_ENABLED=true\nTRACING_ENABLED=true\nAUDIT_ENABLED=true\n\n# Optional: Configure endpoints\nTRACING_ENDPOINT=http://jaeger:4317\nAUDIT_LOG_FILE=/var/log/setupranali/audit.log\n</code></pre>"},{"location":"guides/observability/#query-analytics","title":"Query Analytics","text":"<p>Track query patterns, performance, and usage across your deployment.</p>"},{"location":"guides/observability/#enable-analytics","title":"Enable Analytics","text":"<pre><code>ANALYTICS_ENABLED=true\nANALYTICS_RETENTION_HOURS=168  # 7 days\nANALYTICS_SAMPLE_RATE=1.0      # 100% sampling\n</code></pre>"},{"location":"guides/observability/#analytics-api","title":"Analytics API","text":""},{"location":"guides/observability/#get-overall-stats","title":"Get Overall Stats","text":"<pre><code>curl http://localhost:8080/v1/analytics/stats\n</code></pre> <p>Response:</p> <pre><code>{\n  \"total_queries\": 15420,\n  \"total_errors\": 23,\n  \"error_rate\": 0.0015,\n  \"avg_duration_ms\": 145.3,\n  \"avg_rows\": 1250,\n  \"cache_hit_rate\": 0.72,\n  \"by_dataset\": {\n    \"orders\": {\"count\": 8500, \"duration_ms\": 1200000, \"errors\": 12},\n    \"customers\": {\"count\": 4200, \"duration_ms\": 450000, \"errors\": 5}\n  },\n  \"slow_queries\": [\n    {\"query_id\": \"abc123\", \"dataset\": \"orders\", \"duration_ms\": 5200}\n  ],\n  \"popular_dimensions\": {\n    \"order_date\": 8500,\n    \"region\": 6200,\n    \"product_category\": 4100\n  },\n  \"popular_metrics\": {\n    \"revenue\": 12000,\n    \"order_count\": 9500,\n    \"avg_order_value\": 7200\n  }\n}\n</code></pre>"},{"location":"guides/observability/#get-hourly-stats","title":"Get Hourly Stats","text":"<pre><code>curl \"http://localhost:8080/v1/analytics/hourly?hours=24\"\n</code></pre> <p>Response:</p> <pre><code>[\n  {\"hour\": \"2025-12-29-08\", \"count\": 450, \"avg_duration_ms\": 132.5},\n  {\"hour\": \"2025-12-29-09\", \"count\": 890, \"avg_duration_ms\": 145.2},\n  {\"hour\": \"2025-12-29-10\", \"count\": 1200, \"avg_duration_ms\": 156.8}\n]\n</code></pre>"},{"location":"guides/observability/#get-dataset-stats","title":"Get Dataset Stats","text":"<pre><code>curl http://localhost:8080/v1/analytics/datasets\n</code></pre> <p>Response:</p> <pre><code>[\n  {\"dataset\": \"orders\", \"count\": 8500, \"avg_duration_ms\": 141.2, \"error_rate\": 0.0014},\n  {\"dataset\": \"customers\", \"count\": 4200, \"avg_duration_ms\": 107.1, \"error_rate\": 0.0012}\n]\n</code></pre>"},{"location":"guides/observability/#analytics-dashboard","title":"Analytics Dashboard","text":"<p>Build dashboards with the analytics data:</p> <pre><code>import requests\nimport pandas as pd\n\n# Get hourly stats\nresponse = requests.get(\"http://localhost:8080/v1/analytics/hourly?hours=168\")\ndata = response.json()\n\ndf = pd.DataFrame(data)\ndf['hour'] = pd.to_datetime(df['hour'], format='%Y-%m-%d-%H')\ndf.plot(x='hour', y='count', title='Queries per Hour')\n</code></pre>"},{"location":"guides/observability/#prometheus-metrics","title":"Prometheus Metrics","text":"<p>Export metrics in Prometheus format for monitoring and alerting.</p>"},{"location":"guides/observability/#enable-metrics","title":"Enable Metrics","text":"<pre><code>METRICS_ENABLED=true\nMETRICS_PREFIX=setupranali\n</code></pre>"},{"location":"guides/observability/#metrics-endpoint","title":"Metrics Endpoint","text":"<pre><code>curl http://localhost:8080/metrics\n</code></pre> <p>Response:</p> <pre><code># HELP setupranali_queries_total Total number of queries\n# TYPE setupranali_queries_total counter\nsetupranali_queries_total{dataset=\"orders\"} 8500\nsetupranali_queries_total{dataset=\"customers\"} 4200\n\n# HELP setupranali_queries_error_total Total number of query errors\n# TYPE setupranali_queries_error_total counter\nsetupranali_queries_error_total{dataset=\"orders\"} 12\n\n# HELP setupranali_query_duration_seconds Query duration histogram\n# TYPE setupranali_query_duration_seconds histogram\nsetupranali_query_duration_seconds_bucket{dataset=\"orders\",le=\"0.1\"} 5200\nsetupranali_query_duration_seconds_bucket{dataset=\"orders\",le=\"0.5\"} 7800\nsetupranali_query_duration_seconds_bucket{dataset=\"orders\",le=\"1.0\"} 8400\nsetupranali_query_duration_seconds_bucket{dataset=\"orders\",le=\"+Inf\"} 8500\nsetupranali_query_duration_seconds_sum{dataset=\"orders\"} 1200.5\nsetupranali_query_duration_seconds_count{dataset=\"orders\"} 8500\n\n# HELP setupranali_cache_size_bytes Current cache size\n# TYPE setupranali_cache_size_bytes gauge\nsetupranali_cache_size_bytes 1048576\n\n# HELP setupranali_active_connections Active connections\n# TYPE setupranali_active_connections gauge\nsetupranali_active_connections 45\n</code></pre>"},{"location":"guides/observability/#available-metrics","title":"Available Metrics","text":"Metric Type Description <code>queries_total</code> Counter Total queries executed <code>queries_success_total</code> Counter Successful queries <code>queries_error_total</code> Counter Failed queries <code>queries_cache_hits_total</code> Counter Cache hits <code>query_duration_seconds</code> Histogram Query latency <code>query_rows_total</code> Counter Total rows returned <code>http_requests_total</code> Counter HTTP requests <code>http_request_duration_seconds</code> Histogram HTTP latency <code>active_connections</code> Gauge Active connections <code>cache_size_bytes</code> Gauge Cache size"},{"location":"guides/observability/#prometheus-configuration","title":"Prometheus Configuration","text":"<pre><code># prometheus.yml\nscrape_configs:\n  - job_name: 'setupranali'\n    static_configs:\n      - targets: ['setupranali:8080']\n    metrics_path: '/metrics'\n    scrape_interval: 15s\n</code></pre>"},{"location":"guides/observability/#grafana-dashboard","title":"Grafana Dashboard","text":"<p>Import this dashboard JSON for Grafana:</p> <pre><code>{\n  \"title\": \"SetuPranali\",\n  \"panels\": [\n    {\n      \"title\": \"Queries per Second\",\n      \"type\": \"graph\",\n      \"targets\": [\n        {\"expr\": \"rate(setupranali_queries_total[5m])\"}\n      ]\n    },\n    {\n      \"title\": \"Query Latency (p99)\",\n      \"type\": \"graph\",\n      \"targets\": [\n        {\"expr\": \"histogram_quantile(0.99, rate(setupranali_query_duration_seconds_bucket[5m]))\"}\n      ]\n    },\n    {\n      \"title\": \"Error Rate\",\n      \"type\": \"singlestat\",\n      \"targets\": [\n        {\"expr\": \"rate(setupranali_queries_error_total[5m]) / rate(setupranali_queries_total[5m])\"}\n      ]\n    },\n    {\n      \"title\": \"Cache Hit Rate\",\n      \"type\": \"gauge\",\n      \"targets\": [\n        {\"expr\": \"rate(setupranali_queries_cache_hits_total[5m]) / rate(setupranali_queries_total[5m])\"}\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/observability/#alerting-rules","title":"Alerting Rules","text":"<pre><code># alerts.yml\ngroups:\n  - name: setupranali\n    rules:\n      - alert: HighErrorRate\n        expr: rate(setupranali_queries_error_total[5m]) / rate(setupranali_queries_total[5m]) &gt; 0.05\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High query error rate\"\n\n      - alert: SlowQueries\n        expr: histogram_quantile(0.99, rate(setupranali_query_duration_seconds_bucket[5m])) &gt; 5\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"p99 latency &gt; 5s\"\n\n      - alert: LowCacheHitRate\n        expr: rate(setupranali_queries_cache_hits_total[5m]) / rate(setupranali_queries_total[5m]) &lt; 0.5\n        for: 15m\n        labels:\n          severity: info\n        annotations:\n          summary: \"Cache hit rate below 50%\"\n</code></pre>"},{"location":"guides/observability/#opentelemetry-tracing","title":"OpenTelemetry Tracing","text":"<p>Distributed tracing for debugging and performance analysis.</p>"},{"location":"guides/observability/#enable-tracing","title":"Enable Tracing","text":"<pre><code>TRACING_ENABLED=true\nTRACING_SAMPLE_RATE=1.0           # 100% sampling\nTRACING_EXPORTER=otlp             # otlp, jaeger, zipkin\nTRACING_ENDPOINT=http://jaeger:4317\nTRACING_SERVICE_NAME=setupranali\n</code></pre>"},{"location":"guides/observability/#trace-visualization","title":"Trace Visualization","text":"<p>Traces show the full request lifecycle:</p> <pre><code>[setupranali] POST /v1/query (250ms)\n\u251c\u2500\u2500 [validate_request] (2ms)\n\u251c\u2500\u2500 [check_permissions] (5ms)\n\u2502   \u2514\u2500\u2500 [evaluate_policies] (3ms)\n\u251c\u2500\u2500 [check_cache] (1ms) - cache_miss\n\u251c\u2500\u2500 [execute_query] (235ms)\n\u2502   \u251c\u2500\u2500 [build_sql] (5ms)\n\u2502   \u251c\u2500\u2500 [connect_to_source] (10ms)\n\u2502   \u2514\u2500\u2500 [run_query] (220ms)\n\u2514\u2500\u2500 [cache_result] (2ms)\n</code></pre>"},{"location":"guides/observability/#trace-attributes","title":"Trace Attributes","text":"<p>Each span includes:</p> Attribute Description <code>dataset</code> Dataset being queried <code>dimensions</code> Requested dimensions <code>metrics</code> Requested metrics <code>tenant_id</code> Tenant identifier <code>cache_hit</code> Whether cache was hit <code>rows_returned</code> Number of rows <code>sql</code> Generated SQL (if enabled)"},{"location":"guides/observability/#jaeger-configuration","title":"Jaeger Configuration","text":"<pre><code># docker-compose.yml\nservices:\n  jaeger:\n    image: jaegertracing/all-in-one:1.50\n    ports:\n      - \"16686:16686\"  # UI\n      - \"4317:4317\"    # OTLP gRPC\n      - \"4318:4318\"    # OTLP HTTP\n    environment:\n      - COLLECTOR_OTLP_ENABLED=true\n\n  setupranali:\n    image: adeygifting/connector\n    environment:\n      - TRACING_ENABLED=true\n      - TRACING_ENDPOINT=http://jaeger:4317\n</code></pre>"},{"location":"guides/observability/#zipkin-configuration","title":"Zipkin Configuration","text":"<pre><code>TRACING_EXPORTER=zipkin\nTRACING_ENDPOINT=http://zipkin:9411/api/v2/spans\n</code></pre>"},{"location":"guides/observability/#custom-spans","title":"Custom Spans","text":"<p>Add custom spans in your code:</p> <pre><code>from app.observability import get_tracer, trace\n\n# Using context manager\ntracer = get_tracer()\nwith tracer.start_span(\"custom_operation\") as span:\n    span.set_attribute(\"custom_key\", \"value\")\n    # ... your code ...\n\n# Using decorator\n@trace(\"my_function\")\ndef my_function():\n    pass\n</code></pre>"},{"location":"guides/observability/#audit-logs","title":"Audit Logs","text":"<p>Complete audit trail of all queries and administrative actions.</p>"},{"location":"guides/observability/#enable-audit-logging","title":"Enable Audit Logging","text":"<pre><code>AUDIT_ENABLED=true\nAUDIT_LOG_FILE=/var/log/setupranali/audit.log\nAUDIT_INCLUDE_QUERY_TEXT=true\nAUDIT_INCLUDE_RESULTS=false  # Don't log result data\n</code></pre>"},{"location":"guides/observability/#audit-log-format","title":"Audit Log Format","text":"<pre><code>{\n  \"event_id\": \"abc123def456\",\n  \"timestamp\": \"2025-12-29T10:30:00.000Z\",\n  \"event_type\": \"query\",\n  \"api_key_hash\": \"a1b2c3d4e5f6g7h8\",\n  \"user_id\": \"user@company.com\",\n  \"tenant_id\": \"tenant_123\",\n  \"source_ip\": \"192.168.1.100\",\n  \"user_agent\": \"Python/3.11\",\n  \"resource_type\": \"dataset\",\n  \"resource_id\": \"orders\",\n  \"action\": \"query\",\n  \"details\": {\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"order_date\", \"region\"],\n    \"metrics\": [\"revenue\", \"order_count\"],\n    \"filters\": {\"region\": \"US\"},\n    \"rows_returned\": 150\n  },\n  \"success\": true,\n  \"duration_ms\": 145.5,\n  \"request_id\": \"req_xyz789\"\n}\n</code></pre>"},{"location":"guides/observability/#audit-event-types","title":"Audit Event Types","text":"Event Type Description <code>query</code> Query executed <code>login</code> User login <code>logout</code> User logout <code>api_key_created</code> API key created <code>api_key_revoked</code> API key revoked <code>source_created</code> Data source added <code>source_updated</code> Data source modified <code>source_deleted</code> Data source removed <code>permission_denied</code> Access denied <code>permission_granted</code> Access granted <code>config_changed</code> Configuration modified <code>error</code> Error occurred"},{"location":"guides/observability/#query-audit-logs","title":"Query Audit Logs","text":"<pre><code># Get recent audit events\ncurl \"http://localhost:8080/v1/audit/events?limit=100\"\n\n# Filter by event type\ncurl \"http://localhost:8080/v1/audit/events?event_type=query\"\n\n# Filter by tenant\ncurl \"http://localhost:8080/v1/audit/events?tenant_id=tenant_123\"\n\n# Filter by time range\ncurl \"http://localhost:8080/v1/audit/events?start_time=2025-12-29T00:00:00Z&amp;end_time=2025-12-29T23:59:59Z\"\n</code></pre>"},{"location":"guides/observability/#log-shipping","title":"Log Shipping","text":"<p>Ship logs to external systems:</p>"},{"location":"guides/observability/#elasticsearch","title":"Elasticsearch","text":"<pre><code># filebeat.yml\nfilebeat.inputs:\n  - type: log\n    paths:\n      - /var/log/setupranali/audit.log\n    json.keys_under_root: true\n    json.add_error_key: true\n\noutput.elasticsearch:\n  hosts: [\"elasticsearch:9200\"]\n  index: \"setupranali-audit-%{+yyyy.MM.dd}\"\n</code></pre>"},{"location":"guides/observability/#splunk","title":"Splunk","text":"<pre><code># fluentd.conf\n&lt;source&gt;\n  @type tail\n  path /var/log/setupranali/audit.log\n  pos_file /var/log/fluentd/audit.log.pos\n  tag setupranali.audit\n  format json\n&lt;/source&gt;\n\n&lt;match setupranali.**&gt;\n  @type splunk_hec\n  host splunk.company.com\n  port 8088\n  token YOUR_HEC_TOKEN\n&lt;/match&gt;\n</code></pre>"},{"location":"guides/observability/#sensitive-data-handling","title":"Sensitive Data Handling","text":"<p>Sensitive fields are automatically redacted:</p> <pre><code># Configure sensitive fields\nAUDIT_SENSITIVE_FIELDS=password,secret,token,key,ssn\n</code></pre> <p>Example redaction:</p> <pre><code>{\n  \"details\": {\n    \"api_key\": \"[REDACTED]\",\n    \"password\": \"[REDACTED]\",\n    \"user_data\": {\n      \"email\": \"user@company.com\",\n      \"ssn\": \"[REDACTED]\"\n    }\n  }\n}\n</code></pre>"},{"location":"guides/observability/#helm-configuration","title":"Helm Configuration","text":"<pre><code># values.yaml\nobservability:\n  analytics:\n    enabled: true\n    retentionHours: 168\n    sampleRate: 1.0\n\n  metrics:\n    enabled: true\n    prefix: setupranali\n    serviceMonitor:\n      enabled: true\n      interval: 15s\n\n  tracing:\n    enabled: true\n    sampleRate: 0.1  # 10% in production\n    exporter: otlp\n    endpoint: http://jaeger-collector:4317\n    serviceName: setupranali\n\n  audit:\n    enabled: true\n    logFile: /var/log/setupranali/audit.log\n    includeQueryText: true\n    persistence:\n      enabled: true\n      size: 10Gi\n</code></pre>"},{"location":"guides/observability/#docker-configuration","title":"Docker Configuration","text":"<pre><code># docker-compose.yml\nservices:\n  setupranali:\n    image: adeygifting/connector\n    environment:\n      # Analytics\n      - ANALYTICS_ENABLED=true\n      - ANALYTICS_RETENTION_HOURS=168\n\n      # Metrics\n      - METRICS_ENABLED=true\n      - METRICS_PREFIX=setupranali\n\n      # Tracing\n      - TRACING_ENABLED=true\n      - TRACING_ENDPOINT=http://jaeger:4317\n\n      # Audit\n      - AUDIT_ENABLED=true\n      - AUDIT_LOG_FILE=/var/log/setupranali/audit.log\n    volumes:\n      - audit-logs:/var/log/setupranali\n    ports:\n      - \"8080:8080\"\n\n  prometheus:\n    image: prom/prometheus\n    volumes:\n      - ./prometheus.yml:/etc/prometheus/prometheus.yml\n    ports:\n      - \"9090:9090\"\n\n  grafana:\n    image: grafana/grafana\n    ports:\n      - \"3000:3000\"\n    environment:\n      - GF_SECURITY_ADMIN_PASSWORD=admin\n\n  jaeger:\n    image: jaegertracing/all-in-one\n    ports:\n      - \"16686:16686\"\n      - \"4317:4317\"\n\nvolumes:\n  audit-logs:\n</code></pre>"},{"location":"guides/observability/#environment-variables-reference","title":"Environment Variables Reference","text":"Variable Description Default <code>ANALYTICS_ENABLED</code> Enable query analytics <code>true</code> <code>ANALYTICS_RETENTION_HOURS</code> Analytics data retention <code>168</code> <code>ANALYTICS_SAMPLE_RATE</code> Sampling rate (0.0-1.0) <code>1.0</code> <code>METRICS_ENABLED</code> Enable Prometheus metrics <code>true</code> <code>METRICS_PREFIX</code> Metrics name prefix <code>setupranali</code> <code>TRACING_ENABLED</code> Enable OpenTelemetry tracing <code>true</code> <code>TRACING_SAMPLE_RATE</code> Trace sampling rate <code>1.0</code> <code>TRACING_EXPORTER</code> Exporter type (otlp/jaeger/zipkin) <code>otlp</code> <code>TRACING_ENDPOINT</code> Exporter endpoint - <code>TRACING_SERVICE_NAME</code> Service name in traces <code>setupranali</code> <code>AUDIT_ENABLED</code> Enable audit logging <code>true</code> <code>AUDIT_LOG_FILE</code> Audit log file path - <code>AUDIT_INCLUDE_QUERY_TEXT</code> Include query in logs <code>true</code> <code>AUDIT_INCLUDE_RESULTS</code> Include results in logs <code>false</code> <code>AUDIT_SENSITIVE_FIELDS</code> Fields to redact <code>password,secret,token,key</code>"},{"location":"guides/observability/#best-practices","title":"Best Practices","text":""},{"location":"guides/observability/#production-settings","title":"Production Settings","text":"<pre><code># Lower sampling in production\nTRACING_SAMPLE_RATE=0.1        # 10% of requests\nANALYTICS_SAMPLE_RATE=1.0      # Keep 100% for analytics\n\n# Configure retention\nANALYTICS_RETENTION_HOURS=168  # 7 days\n\n# Ship logs externally\nAUDIT_LOG_FILE=/var/log/setupranali/audit.log\n</code></pre>"},{"location":"guides/observability/#security","title":"Security","text":"<ol> <li>Redact Sensitive Data: Configure <code>AUDIT_SENSITIVE_FIELDS</code></li> <li>Restrict Metrics Access: Use authentication on <code>/metrics</code></li> <li>Encrypt Logs: Use encrypted storage for audit logs</li> <li>Limit Retention: Set appropriate retention periods</li> </ol>"},{"location":"guides/observability/#performance","title":"Performance","text":"<ol> <li>Sample Traces: Use <code>TRACING_SAMPLE_RATE=0.1</code> in production</li> <li>Async Logging: Audit logs are written asynchronously</li> <li>Cache Metrics: Metrics are aggregated in memory</li> <li>Limit History: Configure retention to manage memory</li> </ol>"},{"location":"guides/rls/","title":"Row-Level Security","text":"<p>Implement automatic per-tenant data isolation.</p>"},{"location":"guides/rls/#overview","title":"Overview","text":"<p>Row-Level Security (RLS) ensures each tenant only sees their own data:</p> <pre><code>Tenant A queries \"orders\" \u2192 Sees only Tenant A's orders\nTenant B queries \"orders\" \u2192 Sees only Tenant B's orders\nAdmin queries \"orders\"    \u2192 Sees all orders\n</code></pre> <p>This happens automatically\u2014no code changes in BI tools.</p>"},{"location":"guides/rls/#how-it-works","title":"How It Works","text":""},{"location":"guides/rls/#configuration","title":"Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: postgres-prod\n    table: orders\n\n    rls:\n      tenant_column: tenant_id\n</code></pre>"},{"location":"guides/rls/#api-key-setup","title":"API Key Setup","text":"<pre><code>api_keys:\n  - key: \"pk_acme_abc123\"\n    tenant: acme_corp\n    role: analyst\n</code></pre>"},{"location":"guides/rls/#query-transformation","title":"Query Transformation","text":"<p>When <code>pk_acme_abc123</code> queries <code>orders</code>:</p> <pre><code>-- Original query\nSELECT region, SUM(amount) \nFROM orders \nGROUP BY region\n\n-- With RLS applied\nSELECT region, SUM(amount) \nFROM orders \nWHERE tenant_id = 'acme_corp'  -- Injected\nGROUP BY region\n</code></pre>"},{"location":"guides/rls/#configuration-options","title":"Configuration Options","text":""},{"location":"guides/rls/#basic-rls","title":"Basic RLS","text":"<p>Single tenant column:</p> <pre><code>rls:\n  tenant_column: tenant_id\n</code></pre>"},{"location":"guides/rls/#custom-column-name","title":"Custom Column Name","text":"<p>If your tenant column has a different name:</p> <pre><code>rls:\n  tenant_column: organization_id\n</code></pre>"},{"location":"guides/rls/#multiple-conditions","title":"Multiple Conditions","text":"<p>Add extra filters:</p> <pre><code>rls:\n  tenant_column: tenant_id\n  additional_filters:\n    - column: deleted_at\n      condition: IS NULL\n    - column: is_active\n      condition: \"= true\"\n</code></pre> <p>Generated SQL:</p> <pre><code>WHERE tenant_id = 'acme_corp'\n  AND deleted_at IS NULL\n  AND is_active = true\n</code></pre>"},{"location":"guides/rls/#admin-bypass","title":"Admin Bypass","text":"<p>Allow admins to see all data:</p> <pre><code>api_keys:\n  - key: \"admin-key\"\n    role: admin  # Bypasses RLS\n</code></pre>"},{"location":"guides/rls/#multi-tenant-patterns","title":"Multi-Tenant Patterns","text":""},{"location":"guides/rls/#pattern-1-single-tenant-column","title":"Pattern 1: Single Tenant Column","text":"<pre><code># Most common pattern\nrls:\n  tenant_column: tenant_id\n</code></pre> <p>Table structure:</p> <pre><code>CREATE TABLE orders (\n    id SERIAL PRIMARY KEY,\n    tenant_id VARCHAR(50) NOT NULL,  -- RLS column\n    amount DECIMAL,\n    ...\n);\n</code></pre>"},{"location":"guides/rls/#pattern-2-organization-hierarchy","title":"Pattern 2: Organization Hierarchy","text":"<pre><code>rls:\n  tenant_column: org_id\n  # API key tenant maps to org_id\n</code></pre>"},{"location":"guides/rls/#pattern-3-composite-key","title":"Pattern 3: Composite Key","text":"<p>For complex scenarios:</p> <pre><code>rls:\n  expression: \"org_id = '{tenant}' AND region = '{region}'\"\n</code></pre> <p>Advanced Usage</p> <p>Custom expressions require additional context in the API key configuration.</p>"},{"location":"guides/rls/#testing-rls","title":"Testing RLS","text":""},{"location":"guides/rls/#verify-tenant-isolation","title":"Verify Tenant Isolation","text":"<ol> <li>Create test data:</li> </ol> <pre><code>INSERT INTO orders (tenant_id, region, amount) VALUES\n  ('acme_corp', 'North', 100),\n  ('acme_corp', 'South', 200),\n  ('globex_inc', 'North', 300),\n  ('globex_inc', 'East', 400);\n</code></pre> <ol> <li>Query as Tenant A:</li> </ol> <pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_acme_abc123\" \\\n  -d '{\"dataset\": \"orders\", \"dimensions\": [\"region\"], \"metrics\": [\"revenue\"]}'\n</code></pre> <p>Expected (only Acme data):</p> <pre><code>{\n  \"rows\": [\n    [\"North\", 100],\n    [\"South\", 200]\n  ]\n}\n</code></pre> <ol> <li>Query as Tenant B:</li> </ol> <pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_globex_xyz789\" \\\n  -d '{\"dataset\": \"orders\", \"dimensions\": [\"region\"], \"metrics\": [\"revenue\"]}'\n</code></pre> <p>Expected (only Globex data):</p> <pre><code>{\n  \"rows\": [\n    [\"North\", 300],\n    [\"East\", 400]\n  ]\n}\n</code></pre>"},{"location":"guides/rls/#verify-cannot-bypass","title":"Verify Cannot Bypass","text":"<p>Users cannot override RLS:</p> <pre><code># Attempting to add tenant filter manually - still restricted\ncurl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: pk_acme_abc123\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"metrics\": [\"revenue\"],\n    \"filters\": [{\"field\": \"tenant_id\", \"op\": \"=\", \"value\": \"globex_inc\"}]\n  }'\n</code></pre> <p>Result: Still only sees Acme data (RLS is additive).</p>"},{"location":"guides/rls/#security-considerations","title":"Security Considerations","text":""},{"location":"guides/rls/#rls-is-server-side","title":"RLS is Server-Side","text":"<ul> <li>Applied by the connector, not the database</li> <li>Users cannot bypass via SQL injection</li> <li>Works identically across all BI tools</li> </ul>"},{"location":"guides/rls/#tenant-id-validation","title":"Tenant ID Validation","text":"<ul> <li>Tenant ID comes from API key configuration</li> <li>Users cannot specify their own tenant</li> <li>Admin verification of API key \u2192 tenant mapping</li> </ul>"},{"location":"guides/rls/#audit-trail","title":"Audit Trail","text":"<p>All queries are logged with tenant context:</p> <pre><code>{\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"api_key\": \"pk_acme_***\",\n  \"tenant\": \"acme_corp\",\n  \"dataset\": \"orders\",\n  \"rls_applied\": true\n}\n</code></pre>"},{"location":"guides/rls/#best-practices","title":"Best Practices","text":""},{"location":"guides/rls/#consistent-tenant-columns","title":"Consistent Tenant Columns","text":"<p>Use the same tenant column across all tables:</p> <pre><code>-- All tables have tenant_id\nCREATE TABLE orders (tenant_id VARCHAR, ...);\nCREATE TABLE customers (tenant_id VARCHAR, ...);\nCREATE TABLE products (tenant_id VARCHAR, ...);\n</code></pre>"},{"location":"guides/rls/#index-tenant-columns","title":"Index Tenant Columns","text":"<pre><code>CREATE INDEX idx_orders_tenant ON orders(tenant_id);\n</code></pre>"},{"location":"guides/rls/#validate-data-integrity","title":"Validate Data Integrity","text":"<p>Ensure no data leaks via foreign keys:</p> <pre><code>-- Orders should only reference customers in same tenant\nCREATE TABLE orders (\n    tenant_id VARCHAR NOT NULL,\n    customer_id INTEGER REFERENCES customers(id),\n    CONSTRAINT fk_customer_tenant \n      CHECK (customer_tenant_id = tenant_id)\n);\n</code></pre>"},{"location":"guides/rls/#test-isolation-regularly","title":"Test Isolation Regularly","text":"<pre><code># Automated test\nfor tenant in acme globex wayne; do\n  result=$(curl -s -X POST http://localhost:8080/v1/query \\\n    -H \"X-API-Key: pk_${tenant}_key\" \\\n    -d '{\"dataset\": \"orders\", \"metrics\": [\"revenue\"]}')\n\n  # Verify response only contains expected tenant\n  echo \"Tenant: $tenant, Result: $result\"\ndone\n</code></pre>"},{"location":"guides/rls/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/rls/#no-data-returned","title":"No Data Returned","text":"<p>Symptoms: Query returns empty results</p> <p>Causes: - Tenant ID doesn't match data - RLS column name mismatch - No data for tenant</p> <p>Solutions: <pre><code>-- Check what tenants exist\nSELECT DISTINCT tenant_id FROM orders;\n\n-- Verify API key configuration\n-- Check catalog.yaml rls.tenant_column\n</code></pre></p>"},{"location":"guides/rls/#wrong-data-returned","title":"Wrong Data Returned","text":"<p>Symptoms: Seeing other tenant's data</p> <p>Causes: - RLS not configured - Using admin key - Tenant column misconfigured</p> <p>Solutions: <pre><code># Verify RLS is configured\ndatasets:\n  - name: orders\n    rls:\n      tenant_column: tenant_id  # Must match actual column\n</code></pre></p>"},{"location":"guides/rls/#performance-impact","title":"Performance Impact","text":"<p>Symptoms: Slow queries with RLS</p> <p>Solutions: <pre><code>-- Add index on tenant column\nCREATE INDEX idx_orders_tenant ON orders(tenant_id);\n\n-- Check query plan\nEXPLAIN ANALYZE SELECT ... FROM orders WHERE tenant_id = 'acme';\n</code></pre></p>"},{"location":"guides/saml/","title":"SAML 2.0 SSO Authentication","text":"<p>Configure SAML 2.0 Single Sign-On (SSO) for enterprise identity provider integration.</p>"},{"location":"guides/saml/#overview","title":"Overview","text":"<p>SetuPranali supports SAML 2.0 SSO with enterprise identity providers:</p> <ul> <li>Okta - Enterprise identity management</li> <li>Microsoft Azure AD - Azure Active Directory (SAML mode)</li> <li>Microsoft ADFS - Active Directory Federation Services</li> <li>OneLogin - Cloud identity provider</li> <li>PingFederate - Enterprise federation</li> <li>Google Workspace - Google SAML apps</li> <li>Shibboleth - Open-source IdP</li> <li>Generic SAML 2.0 - Any SAML 2.0 compliant IdP</li> </ul>"},{"location":"guides/saml/#prerequisites","title":"Prerequisites","text":"<p>Install the SAML library:</p> <pre><code>pip install python3-saml\n</code></pre>"},{"location":"guides/saml/#quick-start","title":"Quick Start","text":""},{"location":"guides/saml/#1-configure-service-provider","title":"1. Configure Service Provider","text":"<pre><code># Enable SAML\nSAML_ENABLED=true\n\n# Service Provider (SetuPranali)\nSAML_SP_ENTITY_ID=https://your-app.com/saml/metadata\nSAML_SP_ACS_URL=https://your-app.com/saml/acs\n</code></pre>"},{"location":"guides/saml/#2-configure-identity-provider","title":"2. Configure Identity Provider","text":"<pre><code># Identity Provider\nSAML_IDP_NAME=okta\nSAML_IDP_ENTITY_ID=http://www.okta.com/exk123\nSAML_IDP_SSO_URL=https://your-domain.okta.com/app/exk123/sso/saml\nSAML_IDP_CERT=\"-----BEGIN CERTIFICATE-----\nMIIDpDCCAo...\n-----END CERTIFICATE-----\"\n</code></pre>"},{"location":"guides/saml/#3-initiate-login","title":"3. Initiate Login","text":"<pre><code># Redirect to IdP\ncurl -L http://localhost:8080/saml/login\n</code></pre>"},{"location":"guides/saml/#service-provider-configuration","title":"Service Provider Configuration","text":"<p>The Service Provider (SP) is SetuPranali - your application.</p>"},{"location":"guides/saml/#required-settings","title":"Required Settings","text":"<pre><code># Unique identifier for your application\nSAML_SP_ENTITY_ID=https://your-app.com/saml/metadata\n\n# Assertion Consumer Service - where IdP sends the response\nSAML_SP_ACS_URL=https://your-app.com/saml/acs\n</code></pre>"},{"location":"guides/saml/#optional-settings","title":"Optional Settings","text":"<pre><code># Single Logout URL\nSAML_SP_SLO_URL=https://your-app.com/saml/slo\n\n# Metadata URL\nSAML_SP_METADATA_URL=https://your-app.com/saml/metadata\n\n# SP Certificate and Key (for signing)\nSAML_SP_CERT=\"-----BEGIN CERTIFICATE-----...\"\nSAML_SP_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----...\"\n\n# Security options\nSAML_WANT_ASSERTIONS_SIGNED=true\nSAML_WANT_ASSERTIONS_ENCRYPTED=false\nSAML_AUTHN_REQUESTS_SIGNED=false\n</code></pre>"},{"location":"guides/saml/#identity-provider-configuration","title":"Identity Provider Configuration","text":""},{"location":"guides/saml/#okta","title":"Okta","text":"<pre><code>SAML_ENABLED=true\nSAML_IDP_NAME=okta\nSAML_IDP_ENTITY_ID=http://www.okta.com/exk123abc\nSAML_IDP_SSO_URL=https://your-domain.okta.com/app/your-app/exk123abc/sso/saml\nSAML_IDP_SLO_URL=https://your-domain.okta.com/app/your-app/exk123abc/slo/saml\nSAML_IDP_CERT=\"...\"\n</code></pre> <p>Okta Admin Setup:</p> <ol> <li>Go to Applications &gt; Create App Integration</li> <li>Select SAML 2.0</li> <li>Configure:</li> <li>Single sign-on URL: <code>https://your-app.com/saml/acs</code></li> <li>Audience URI (SP Entity ID): <code>https://your-app.com/saml/metadata</code></li> <li>Configure Attribute Statements</li> <li>Download IdP certificate</li> </ol>"},{"location":"guides/saml/#microsoft-azure-ad","title":"Microsoft Azure AD","text":"<pre><code>SAML_ENABLED=true\nSAML_IDP_NAME=azure\nSAML_IDP_ENTITY_ID=https://sts.windows.net/your-tenant-id/\nSAML_IDP_SSO_URL=https://login.microsoftonline.com/your-tenant-id/saml2\nSAML_IDP_SLO_URL=https://login.microsoftonline.com/your-tenant-id/saml2\nSAML_IDP_CERT=\"...\"\n</code></pre> <p>Azure Portal Setup:</p> <ol> <li>Go to Azure Active Directory &gt; Enterprise applications</li> <li>Create New application &gt; Non-gallery application</li> <li>Configure Single sign-on &gt; SAML</li> <li>Set:</li> <li>Identifier (Entity ID): <code>https://your-app.com/saml/metadata</code></li> <li>Reply URL (ACS): <code>https://your-app.com/saml/acs</code></li> <li>Download Certificate (Base64)</li> </ol>"},{"location":"guides/saml/#microsoft-adfs","title":"Microsoft ADFS","text":"<pre><code>SAML_ENABLED=true\nSAML_IDP_NAME=adfs\nSAML_IDP_ENTITY_ID=https://adfs.company.com/adfs/services/trust\nSAML_IDP_SSO_URL=https://adfs.company.com/adfs/ls/\nSAML_IDP_SLO_URL=https://adfs.company.com/adfs/ls/\nSAML_IDP_CERT=\"...\"\n</code></pre> <p>ADFS Setup:</p> <ol> <li>Open AD FS Management</li> <li>Add Relying Party Trust</li> <li>Enter SP metadata URL or configure manually</li> <li>Configure Claim Rules</li> <li>Export token signing certificate</li> </ol>"},{"location":"guides/saml/#onelogin","title":"OneLogin","text":"<pre><code>SAML_ENABLED=true\nSAML_IDP_NAME=onelogin\nSAML_IDP_ENTITY_ID=https://app.onelogin.com/saml/metadata/123456\nSAML_IDP_SSO_URL=https://your-company.onelogin.com/trust/saml2/http-post/sso/123456\nSAML_IDP_SLO_URL=https://your-company.onelogin.com/trust/saml2/http-redirect/slo/123456\nSAML_IDP_CERT=\"...\"\n</code></pre>"},{"location":"guides/saml/#google-workspace","title":"Google Workspace","text":"<pre><code>SAML_ENABLED=true\nSAML_IDP_NAME=google\nSAML_IDP_ENTITY_ID=https://accounts.google.com/o/saml2?idpid=C01234567\nSAML_IDP_SSO_URL=https://accounts.google.com/o/saml2/idp?idpid=C01234567\nSAML_IDP_CERT=\"...\"\n</code></pre> <p>Google Admin Setup:</p> <ol> <li>Go to Admin Console &gt; Apps &gt; Web and mobile apps</li> <li>Add Custom SAML app</li> <li>Configure:</li> <li>ACS URL: <code>https://your-app.com/saml/acs</code></li> <li>Entity ID: <code>https://your-app.com/saml/metadata</code></li> <li>Add attribute mappings</li> <li>Download IdP metadata</li> </ol>"},{"location":"guides/saml/#attribute-mapping","title":"Attribute Mapping","text":"<p>Map SAML attributes to SetuPranali user fields:</p> <pre><code># Standard attributes\nSAML_ATTR_EMAIL=email\nSAML_ATTR_FIRST_NAME=firstName\nSAML_ATTR_LAST_NAME=lastName\nSAML_ATTR_DISPLAY_NAME=displayName\n\n# For multi-tenancy\nSAML_ATTR_TENANT_ID=tenantId\n\n# For authorization\nSAML_ATTR_ROLES=roles\n</code></pre>"},{"location":"guides/saml/#common-attribute-names-by-idp","title":"Common Attribute Names by IdP","text":"Field Okta Azure AD ADFS Email <code>email</code> <code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress</code> <code>email</code> First Name <code>firstName</code> <code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname</code> <code>givenName</code> Last Name <code>lastName</code> <code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname</code> <code>sn</code> Groups <code>groups</code> <code>http://schemas.microsoft.com/ws/2008/06/identity/claims/groups</code> <code>groups</code>"},{"location":"guides/saml/#session-management","title":"Session Management","text":""},{"location":"guides/saml/#session-duration","title":"Session Duration","text":"<pre><code># Session TTL in seconds (default: 8 hours)\nSAML_SESSION_TTL=28800\n</code></pre>"},{"location":"guides/saml/#single-logout-slo","title":"Single Logout (SLO)","text":"<p>Enable IdP-initiated and SP-initiated logout:</p> <pre><code>SAML_SP_SLO_URL=https://your-app.com/saml/slo\nSAML_IDP_SLO_URL=https://idp.company.com/saml/slo\n</code></pre>"},{"location":"guides/saml/#api-endpoints","title":"API Endpoints","text":""},{"location":"guides/saml/#initiate-login","title":"Initiate Login","text":"<pre><code>GET /saml/login?idp=okta&amp;return_to=/dashboard\n</code></pre> <p>Redirects to IdP for authentication.</p>"},{"location":"guides/saml/#assertion-consumer-service","title":"Assertion Consumer Service","text":"<pre><code>POST /saml/acs\n</code></pre> <p>Receives SAML response from IdP.</p>"},{"location":"guides/saml/#single-logout","title":"Single Logout","text":"<pre><code>GET /saml/logout\n</code></pre> <p>Initiates logout from all sessions.</p>"},{"location":"guides/saml/#metadata","title":"Metadata","text":"<pre><code>GET /saml/metadata\n</code></pre> <p>Returns SP metadata XML for IdP configuration.</p>"},{"location":"guides/saml/#multi-tenant-configuration","title":"Multi-Tenant Configuration","text":""},{"location":"guides/saml/#tenant-from-saml-attribute","title":"Tenant from SAML Attribute","text":"<pre><code># Map tenant from SAML attribute\nSAML_ATTR_TENANT_ID=organization\n</code></pre> <p>The <code>tenant_id</code> is used for Row-Level Security:</p> <pre><code># catalog.yaml\ndatasets:\n  - id: orders\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"guides/saml/#multiple-idps","title":"Multiple IdPs","text":"<p>Configure different IdPs per tenant:</p> <pre><code># config.yaml\nsaml:\n  identity_providers:\n    - name: tenant-a-okta\n      entity_id: http://www.okta.com/tenant-a\n      sso_url: https://tenant-a.okta.com/sso\n      x509_cert: \"...\"\n\n    - name: tenant-b-azure\n      entity_id: https://sts.windows.net/tenant-b/\n      sso_url: https://login.microsoftonline.com/tenant-b/saml2\n      x509_cert: \"...\"\n</code></pre>"},{"location":"guides/saml/#helm-configuration","title":"Helm Configuration","text":"<pre><code># values.yaml\nsaml:\n  enabled: true\n\n  serviceProvider:\n    entityId: \"https://setupranali.company.com/saml/metadata\"\n    acsUrl: \"https://setupranali.company.com/saml/acs\"\n    sloUrl: \"https://setupranali.company.com/saml/slo\"\n\n    # From secret\n    certSecret: saml-sp-cert\n    keySecret: saml-sp-key\n\n  identityProviders:\n    - name: okta\n      entityId: \"http://www.okta.com/exk123\"\n      ssoUrl: \"https://company.okta.com/sso/saml\"\n      # From secret\n      certSecret: okta-idp-cert\n\n  attributeMapping:\n    email: email\n    firstName: firstName\n    lastName: lastName\n    tenantId: organization\n    roles: groups\n\n  sessionTtl: 28800\n  allowApiKeys: true\n</code></pre>"},{"location":"guides/saml/#docker-configuration","title":"Docker Configuration","text":"<pre><code># docker-compose.yml\nservices:\n  setupranali:\n    image: adeygifting/connector\n    environment:\n      - SAML_ENABLED=true\n      - SAML_SP_ENTITY_ID=https://localhost:8080/saml/metadata\n      - SAML_SP_ACS_URL=https://localhost:8080/saml/acs\n      - SAML_IDP_NAME=okta\n      - SAML_IDP_ENTITY_ID=${OKTA_ENTITY_ID}\n      - SAML_IDP_SSO_URL=${OKTA_SSO_URL}\n      - SAML_IDP_CERT=${OKTA_CERT}\n</code></pre>"},{"location":"guides/saml/#security-best-practices","title":"Security Best Practices","text":""},{"location":"guides/saml/#1-use-https","title":"1. Use HTTPS","text":"<p>Always use HTTPS for ACS and SLO URLs:</p> <pre><code>SAML_SP_ACS_URL=https://your-app.com/saml/acs\n</code></pre>"},{"location":"guides/saml/#2-sign-assertions","title":"2. Sign Assertions","text":"<p>Require signed assertions:</p> <pre><code>SAML_WANT_ASSERTIONS_SIGNED=true\n</code></pre>"},{"location":"guides/saml/#3-encrypt-assertions-optional","title":"3. Encrypt Assertions (Optional)","text":"<p>For sensitive data:</p> <pre><code>SAML_WANT_ASSERTIONS_ENCRYPTED=true\nSAML_SP_CERT=\"...\"\nSAML_SP_PRIVATE_KEY=\"...\"\n</code></pre>"},{"location":"guides/saml/#4-validate-certificates","title":"4. Validate Certificates","text":"<p>Don't disable strict mode in production:</p> <pre><code>SAML_STRICT=true\n</code></pre>"},{"location":"guides/saml/#5-short-session-ttl","title":"5. Short Session TTL","text":"<p>Use reasonable session duration:</p> <pre><code>SAML_SESSION_TTL=28800  # 8 hours\n</code></pre>"},{"location":"guides/saml/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/saml/#signature-validation-failed","title":"Signature Validation Failed","text":"<pre><code>SAML authentication failed: Signature validation failed\n</code></pre> <p>Solutions: 1. Verify IdP certificate is correct 2. Check certificate hasn't expired 3. Ensure certificate is in PEM format 4. Download fresh certificate from IdP</p>"},{"location":"guides/saml/#invalid-response","title":"Invalid Response","text":"<pre><code>SAML authentication failed: Invalid response\n</code></pre> <p>Solutions: 1. Check ACS URL matches IdP configuration 2. Verify Entity ID matches 3. Check clock synchronization 4. Enable debug mode: <code>SAML_DEBUG=true</code></p>"},{"location":"guides/saml/#assertion-expired","title":"Assertion Expired","text":"<pre><code>SAML authentication failed: Assertion expired\n</code></pre> <p>Solutions: 1. Check server clock is synchronized (NTP) 2. Increase clock skew tolerance in IdP 3. Verify IdP and SP are in same timezone</p>"},{"location":"guides/saml/#missing-attributes","title":"Missing Attributes","text":"<p>Solutions: 1. Configure attribute statements in IdP 2. Verify attribute mapping names 3. Check user has required attributes in IdP</p>"},{"location":"guides/saml/#api-key-fallback","title":"API Key Fallback","text":"<p>Allow API key authentication when SAML is enabled:</p> <pre><code># Enable both (default)\nSAML_ALLOW_API_KEYS=true\n\n# SAML only\nSAML_ALLOW_API_KEYS=false\n</code></pre>"},{"location":"guides/saml/#environment-variables-reference","title":"Environment Variables Reference","text":"Variable Description Default <code>SAML_ENABLED</code> Enable SAML authentication <code>false</code> <code>SAML_SP_ENTITY_ID</code> SP Entity ID - <code>SAML_SP_ACS_URL</code> Assertion Consumer Service URL - <code>SAML_SP_SLO_URL</code> Single Logout URL - <code>SAML_SP_CERT</code> SP X.509 certificate - <code>SAML_SP_PRIVATE_KEY</code> SP private key - <code>SAML_IDP_NAME</code> IdP name <code>default</code> <code>SAML_IDP_ENTITY_ID</code> IdP Entity ID - <code>SAML_IDP_SSO_URL</code> IdP SSO URL - <code>SAML_IDP_SLO_URL</code> IdP SLO URL - <code>SAML_IDP_CERT</code> IdP X.509 certificate - <code>SAML_ATTR_EMAIL</code> Email attribute <code>email</code> <code>SAML_ATTR_FIRST_NAME</code> First name attribute <code>firstName</code> <code>SAML_ATTR_LAST_NAME</code> Last name attribute <code>lastName</code> <code>SAML_ATTR_TENANT_ID</code> Tenant ID attribute <code>tenantId</code> <code>SAML_ATTR_ROLES</code> Roles attribute <code>roles</code> <code>SAML_SESSION_TTL</code> Session TTL (seconds) <code>28800</code> <code>SAML_STRICT</code> Strict validation <code>true</code> <code>SAML_DEBUG</code> Debug mode <code>false</code> <code>SAML_ALLOW_API_KEYS</code> Allow API key fallback <code>true</code> <code>SAML_WANT_ASSERTIONS_SIGNED</code> Require signed assertions <code>true</code> <code>SAML_WANT_ASSERTIONS_ENCRYPTED</code> Require encrypted assertions <code>false</code> <code>SAML_AUTHN_REQUESTS_SIGNED</code> Sign authentication requests <code>false</code>"},{"location":"guides/troubleshooting/","title":"Troubleshooting Guide","text":"<p>Common issues and solutions for SetuPranali.</p>"},{"location":"guides/troubleshooting/#quick-diagnostics","title":"Quick Diagnostics","text":""},{"location":"guides/troubleshooting/#check-system-health","title":"Check System Health","text":"<pre><code>curl http://localhost:8080/v1/health\n</code></pre> <p>Expected response: <pre><code>{\n  \"status\": \"ok\",\n  \"version\": \"1.0.0\",\n  \"cache\": {\n    \"enabled\": true,\n    \"redis_available\": true\n  }\n}\n</code></pre></p>"},{"location":"guides/troubleshooting/#check-server-logs","title":"Check Server Logs","text":"<pre><code># Docker\ndocker logs setupranali\n\n# Local\ntail -f /tmp/ubi-backend.log\n</code></pre>"},{"location":"guides/troubleshooting/#common-issues","title":"Common Issues","text":""},{"location":"guides/troubleshooting/#1-connection-refused","title":"1. Connection Refused","text":"<p>Symptoms: Cannot connect to API</p> <p>Solutions: - Verify server is running: <code>ps aux | grep uvicorn</code> - Check port is correct: <code>lsof -i :8080</code> - Verify firewall settings - Check Docker container is running: <code>docker ps</code></p>"},{"location":"guides/troubleshooting/#2-api-key-authentication-failed","title":"2. API Key Authentication Failed","text":"<p>Symptoms: <code>401 Unauthorized</code> or <code>403 Forbidden</code></p> <p>Solutions: - Verify API key is correct - Check <code>X-API-Key</code> header is present - Ensure key is not revoked - Verify key has correct tenant/role</p> <p>Test: <pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"orders\", \"limit\": 1}'\n</code></pre></p>"},{"location":"guides/troubleshooting/#3-dataset-not-found","title":"3. Dataset Not Found","text":"<p>Symptoms: <code>404 Dataset 'xyz' not found</code></p> <p>Solutions: - Verify dataset exists in <code>catalog.yaml</code> - Check dataset ID matches exactly - Reload catalog: Restart server or call <code>/v1/introspection/datasets</code> - Verify catalog file is valid YAML</p> <p>Check: <pre><code>curl http://localhost:8080/v1/datasets\n</code></pre></p>"},{"location":"guides/troubleshooting/#4-query-execution-timeout","title":"4. Query Execution Timeout","text":"<p>Symptoms: Query hangs or times out</p> <p>Solutions: - Check database connection - Verify query is not too complex - Check database performance - Increase timeout in configuration - Use LIMIT to reduce result size</p> <p>Debug: <pre><code># Check query in logs\ntail -f /tmp/ubi-backend.log | grep \"query\"\n</code></pre></p>"},{"location":"guides/troubleshooting/#5-sql-syntax-error","title":"5. SQL Syntax Error","text":"<p>Symptoms: <code>SQL parsing error</code> or <code>Invalid SQL syntax</code></p> <p>Solutions: - Verify SQL syntax is correct - Check dialect compatibility - Use semantic queries instead of raw SQL - Review SQLGlot error message</p> <p>Test: <pre><code># Use SQL validation\ncurl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: your-key\" \\\n  -d '{\"sql\": \"SELECT 1\", \"dataset\": \"orders\"}'\n</code></pre></p>"},{"location":"guides/troubleshooting/#6-redis-connection-failed","title":"6. Redis Connection Failed","text":"<p>Symptoms: Cache disabled, rate limiting uses fallback</p> <p>Solutions: - Start Redis: <code>redis-server</code> or <code>docker run -d -p 6379:6379 redis:7-alpine</code> - Check Redis URL: <code>echo $REDIS_URL</code> - Verify Redis is accessible: <code>redis-cli ping</code> - System works without Redis (uses in-memory fallback)</p>"},{"location":"guides/troubleshooting/#7-demo-data-not-available","title":"7. Demo Data Not Available","text":"<p>Symptoms: Queries return no data</p> <p>Solutions: - Verify demo data is seeded (check server startup logs) - Restart server to re-seed data - Check database connection - Verify table exists: <code>SELECT COUNT(*) FROM orders</code></p> <p>Re-seed: <pre><code># In Python\nfrom app.adapters.duckdb_adapter import get_shared_duckdb\nadapter = get_shared_duckdb()\n# Demo data seeds on server startup\n</code></pre></p>"},{"location":"guides/troubleshooting/#8-web-ui-not-loading","title":"8. Web UI Not Loading","text":"<p>Symptoms: Frontend shows errors or blank page</p> <p>Solutions: - Check frontend is running: <code>curl http://localhost:5173</code> - Verify backend is accessible: <code>curl http://localhost:8080/v1/health</code> - Check browser console (F12) for errors - Verify API URL in frontend config</p> <p>Check: <pre><code># Frontend\nps aux | grep vite\n\n# Backend\nps aux | grep uvicorn\n</code></pre></p>"},{"location":"guides/troubleshooting/#9-cors-errors","title":"9. CORS Errors","text":"<p>Symptoms: Browser shows CORS errors in console</p> <p>Solutions: - Check CORS settings in backend - Verify frontend URL is in allowed origins - Check API proxy configuration - Use same origin for frontend/backend in development</p>"},{"location":"guides/troubleshooting/#10-rate-limit-exceeded","title":"10. Rate Limit Exceeded","text":"<p>Symptoms: <code>429 Too Many Requests</code></p> <p>Solutions: - Wait for rate limit window to reset - Check rate limit configuration - Use fewer concurrent requests - Disable rate limiting for development: <code>RATE_LIMIT_ENABLED=false</code></p>"},{"location":"guides/troubleshooting/#database-specific-issues","title":"Database-Specific Issues","text":""},{"location":"guides/troubleshooting/#postgresql","title":"PostgreSQL","text":"<p>Connection Issues: - Verify <code>host</code>, <code>port</code>, <code>database</code> are correct - Check SSL settings match server configuration - Verify user has necessary permissions - Check <code>pg_hba.conf</code> allows connections</p> <p>Query Issues: - Check PostgreSQL version compatibility - Verify table/column names are correct - Check for schema qualification issues</p>"},{"location":"guides/troubleshooting/#snowflake","title":"Snowflake","text":"<p>Connection Issues: - Verify account URL format: <code>xxx.snowflakecomputing.com</code> - Check warehouse, database, schema are correct - Verify user has access to warehouse - Check network connectivity</p> <p>Query Issues: - Verify warehouse is running - Check query timeout settings - Review Snowflake query history</p>"},{"location":"guides/troubleshooting/#bigquery","title":"BigQuery","text":"<p>Connection Issues: - Verify service account key is valid - Check project ID is correct - Verify service account has BigQuery permissions - Check authentication method</p> <p>Query Issues: - Review BigQuery quotas - Check dataset location matches - Verify table names are correct</p>"},{"location":"guides/troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"guides/troubleshooting/#slow-queries","title":"Slow Queries","text":"<p>Diagnosis: 1. Check query execution time in response 2. Review database query logs 3. Check for missing indexes 4. Verify query complexity</p> <p>Solutions: - Add indexes on filtered columns - Use LIMIT to reduce result size - Enable query caching - Optimize query structure</p>"},{"location":"guides/troubleshooting/#high-memory-usage","title":"High Memory Usage","text":"<p>Diagnosis: 1. Check server memory: <code>top</code> or <code>htop</code> 2. Review query result sizes 3. Check cache size</p> <p>Solutions: - Reduce query limits - Enable result pagination - Clear cache if needed - Increase server memory</p>"},{"location":"guides/troubleshooting/#cache-not-working","title":"Cache Not Working","text":"<p>Diagnosis: 1. Check Redis connection 2. Verify cache is enabled 3. Review cache hit rate</p> <p>Solutions: - Start Redis server - Verify <code>CACHE_ENABLED=true</code> - Check cache TTL settings - Review cache key generation</p>"},{"location":"guides/troubleshooting/#debugging-tips","title":"Debugging Tips","text":""},{"location":"guides/troubleshooting/#enable-debug-logging","title":"Enable Debug Logging","text":"<pre><code>export LOG_LEVEL=DEBUG\npython3 -m uvicorn app.main:app --port 8080\n</code></pre>"},{"location":"guides/troubleshooting/#test-individual-components","title":"Test Individual Components","text":"<pre><code># Test database connection\nfrom app.adapters.postgres_adapter import PostgresAdapter\nadapter = PostgresAdapter(config)\nadapter.connect()\nresult = adapter.execute(\"SELECT 1\")\n\n# Test query engine\nfrom app.query_engine import compile_and_run_query\n# ... test query compilation\n\n# Test SQLGlot\nfrom app.sql_builder import SQLBuilder\nbuilder = SQLBuilder(dialect=\"postgres\")\nsql, params = builder.build_query(...)\n</code></pre>"},{"location":"guides/troubleshooting/#use-api-documentation","title":"Use API Documentation","text":"<p>Interactive API docs available at: - Swagger UI: http://localhost:8080/docs - ReDoc: http://localhost:8080/redoc</p>"},{"location":"guides/troubleshooting/#getting-help","title":"Getting Help","text":""},{"location":"guides/troubleshooting/#check-logs","title":"Check Logs","text":"<pre><code># Backend logs\ntail -f /tmp/ubi-backend.log\n\n# Docker logs\ndocker logs -f setupranali\n\n# Frontend logs (browser console)\n# Press F12 \u2192 Console tab\n</code></pre>"},{"location":"guides/troubleshooting/#community-resources","title":"Community Resources","text":"<ul> <li>GitHub Issues</li> <li>Discord Community</li> <li>Documentation</li> </ul>"},{"location":"guides/troubleshooting/#report-issues","title":"Report Issues","text":"<p>When reporting issues, include:</p> <ol> <li>Error Message - Full error text</li> <li>Steps to Reproduce - What you did</li> <li>Expected Behavior - What should happen</li> <li>Actual Behavior - What actually happened</li> <li>Environment - OS, Python version, database type</li> <li>Logs - Relevant log excerpts</li> </ol>"},{"location":"guides/troubleshooting/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration Guide</li> <li>Production Checklist</li> <li>API Reference</li> </ul>"},{"location":"guides/web-ui/","title":"Web UI &amp; Dashboard","text":"<p>SetuPranali includes a comprehensive web-based admin dashboard and modeling interface.</p>"},{"location":"guides/web-ui/#overview","title":"Overview","text":"<p>The Web UI provides:</p> <ul> <li>Dashboard - System overview, metrics, and health monitoring</li> <li>Datasets Management - Browse, view, and manage semantic datasets</li> <li>Data Sources - Configure and test database connections</li> <li>API Keys - Create and manage authentication keys</li> <li>Query Playground - Interactive query builder and SQL testing</li> <li>Contract Editor - Visual YAML catalog editor with validation</li> <li>Analytics - Query patterns and performance insights</li> <li>Modeling Studio - Full-featured BI modeling interface</li> <li>Settings - System configuration</li> </ul>"},{"location":"guides/web-ui/#accessing-the-web-ui","title":"Accessing the Web UI","text":""},{"location":"guides/web-ui/#development","title":"Development","text":"<pre><code>cd webui\nnpm install\nnpm run dev\n</code></pre> <p>Open http://localhost:5173</p>"},{"location":"guides/web-ui/#production","title":"Production","text":"<p>The Web UI is included in the Docker image and served automatically when running:</p> <pre><code>docker run -p 8080:8080 -p 5173:5173 adeygifting/connector:latest\n</code></pre>"},{"location":"guides/web-ui/#dashboard","title":"Dashboard","text":"<p>URL: <code>/dashboard</code></p> <p>The dashboard provides:</p> <ul> <li>System Health - Server status, uptime, version</li> <li>Query Metrics - Total queries, success rate, average response time</li> <li>Cache Statistics - Hit rate, cache size</li> <li>Recent Queries - Last executed queries with execution times</li> <li>Data Source Status - Connection health for all sources</li> <li>Quick Actions - Links to common tasks</li> </ul>"},{"location":"guides/web-ui/#datasets","title":"Datasets","text":"<p>URL: <code>/datasets</code></p>"},{"location":"guides/web-ui/#features","title":"Features","text":"<ul> <li>Browse Datasets - List all configured datasets</li> <li>View Details - Click any dataset to see:</li> <li>Dimensions and metrics</li> <li>Source configuration</li> <li>RLS settings</li> <li>Sample queries</li> <li>Test Queries - Execute sample queries directly from the UI</li> <li>Schema Preview - View table structure and sample data</li> </ul>"},{"location":"guides/web-ui/#usage","title":"Usage","text":"<ol> <li>Navigate to <code>/datasets</code></li> <li>Click on a dataset name</li> <li>View dimensions, metrics, and configuration</li> <li>Use sample queries to test the dataset</li> </ol>"},{"location":"guides/web-ui/#data-sources","title":"Data Sources","text":"<p>URL: <code>/sources</code></p>"},{"location":"guides/web-ui/#features_1","title":"Features","text":"<ul> <li>List Sources - View all configured data sources</li> <li>Add Source - Create new database connections</li> <li>Test Connection - Verify connectivity before saving</li> <li>Edit Source - Update connection settings</li> <li>Delete Source - Remove unused connections</li> <li>View Details - See connection status and metadata</li> </ul>"},{"location":"guides/web-ui/#adding-a-source","title":"Adding a Source","text":"<ol> <li>Click \"Add Source\"</li> <li>Select database type (PostgreSQL, Snowflake, etc.)</li> <li>Enter connection details:</li> <li>Host/Account</li> <li>Database</li> <li>Credentials</li> <li>SSL settings</li> <li>Click \"Test Connection\"</li> <li>Save if test succeeds</li> </ol>"},{"location":"guides/web-ui/#api-keys","title":"API Keys","text":"<p>URL: <code>/api-keys</code></p>"},{"location":"guides/web-ui/#features_2","title":"Features","text":"<ul> <li>List Keys - View all API keys with metadata</li> <li>Create Key - Generate new API keys</li> <li>Copy Key - One-click copy to clipboard</li> <li>View Details - See tenant, role, usage stats</li> <li>Revoke Key - Disable keys instantly</li> <li>Usage Tracking - See last used timestamp</li> </ul>"},{"location":"guides/web-ui/#creating-an-api-key","title":"Creating an API Key","text":"<ol> <li>Click \"Create API Key\"</li> <li>Enter:</li> <li>Name (for identification)</li> <li>Tenant (for RLS)</li> <li>Role (admin/viewer)</li> <li>Click \"Create\"</li> <li>Important: Copy the key immediately - it's only shown once!</li> </ol>"},{"location":"guides/web-ui/#query-playground","title":"Query Playground","text":"<p>URL: <code>/playground</code></p>"},{"location":"guides/web-ui/#features_3","title":"Features","text":"<ul> <li>Visual Query Builder - Drag-and-drop interface</li> <li>SQL Mode - Direct SQL execution</li> <li>Dataset Selection - Choose from available datasets</li> <li>Dimension/Metric Selection - Build queries visually</li> <li>Filter Builder - Add WHERE conditions</li> <li>Sort &amp; Limit - Configure result ordering</li> <li>Execute &amp; Preview - Run queries and see results</li> <li>SQL Preview - See generated SQL before execution</li> <li>Result Visualization - Charts and tables</li> </ul>"},{"location":"guides/web-ui/#using-query-playground","title":"Using Query Playground","text":"<ol> <li>Select a dataset</li> <li>Add dimensions (for grouping)</li> <li>Add metrics (for aggregations)</li> <li>Add filters (optional)</li> <li>Set sort order and limit</li> <li>Click \"Execute Query\"</li> <li>View results in table or chart format</li> </ol>"},{"location":"guides/web-ui/#contract-editor","title":"Contract Editor","text":"<p>URL: <code>/contracts</code></p>"},{"location":"guides/web-ui/#features_4","title":"Features","text":"<ul> <li>YAML Editor - Syntax-highlighted editor</li> <li>Model Selection - Choose semantic model to edit</li> <li>Validation - Real-time YAML validation</li> <li>Auto-save - Local storage for drafts</li> <li>Export - Download YAML contracts</li> <li>Import - Load existing contracts</li> <li>Error Highlighting - Visual feedback for syntax errors</li> </ul>"},{"location":"guides/web-ui/#using-contract-editor","title":"Using Contract Editor","text":"<ol> <li>Select a semantic model from dropdown</li> <li>View/edit YAML content</li> <li>Validation runs automatically</li> <li>Save to local storage</li> <li>Export when ready</li> </ol>"},{"location":"guides/web-ui/#analytics","title":"Analytics","text":"<p>URL: <code>/analytics</code></p>"},{"location":"guides/web-ui/#features_5","title":"Features","text":"<ul> <li>Query Patterns - Most common queries</li> <li>Performance Metrics - Response times, cache hit rates</li> <li>Usage Statistics - Queries per dataset, per tenant</li> <li>Time-based Analysis - Trends over time</li> <li>Error Tracking - Failed queries and reasons</li> <li>Export Data - Download analytics reports</li> </ul>"},{"location":"guides/web-ui/#settings","title":"Settings","text":"<p>URL: <code>/settings</code></p>"},{"location":"guides/web-ui/#configuration-options","title":"Configuration Options","text":"<ul> <li>API URL - Backend API endpoint</li> <li>Theme - Light/dark mode</li> <li>Cache Settings - Enable/disable caching</li> <li>Rate Limiting - Configure limits</li> <li>Notifications - Alert preferences</li> </ul>"},{"location":"guides/web-ui/#modeling-studio","title":"Modeling Studio","text":"<p>URL: <code>/modeling</code></p> <p>The Modeling Studio is a full-screen, professional BI modeling interface.</p>"},{"location":"guides/web-ui/#features_6","title":"Features","text":""},{"location":"guides/web-ui/#schema-panel-left","title":"Schema Panel (Left)","text":"<ul> <li>Browse database schemas</li> <li>View tables and columns</li> <li>Lazy loading for large schemas</li> <li>Search and filter</li> <li>Sample data preview</li> </ul>"},{"location":"guides/web-ui/#erd-canvas-center","title":"ERD Canvas (Center)","text":"<ul> <li>Drag-and-drop table placement</li> <li>Visual relationship builder</li> <li>Join type configuration</li> <li>Cardinality indicators</li> <li>Zoom and pan controls</li> </ul>"},{"location":"guides/web-ui/#semantic-model-panel-right","title":"Semantic Model Panel (Right)","text":"<ul> <li>Define dimensions</li> <li>Create measures</li> <li>Calculated fields</li> <li>Time intelligence</li> <li>Format strings</li> </ul>"},{"location":"guides/web-ui/#query-workbench-bottom","title":"Query Workbench (Bottom)","text":"<ul> <li>Semantic query builder</li> <li>SQL mode</li> <li>Result visualization</li> <li>Query explanation</li> <li>Expression validation</li> </ul>"},{"location":"guides/web-ui/#using-modeling-studio","title":"Using Modeling Studio","text":"<ol> <li>Connect Source</li> <li>Click \"Add Source\"</li> <li>Configure connection</li> <li> <p>Test and save</p> </li> <li> <p>Build ERD</p> </li> <li>Drag tables from schema panel</li> <li>Connect tables with relationships</li> <li> <p>Configure join types</p> </li> <li> <p>Define Semantic Model</p> </li> <li>Add dimensions from tables</li> <li>Create measures with aggregations</li> <li> <p>Add calculated fields</p> </li> <li> <p>Query Data</p> </li> <li>Use query workbench</li> <li>Build semantic queries</li> <li>Execute and visualize results</li> </ol>"},{"location":"guides/web-ui/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Action Shortcut Execute Query <code>Ctrl/Cmd + Enter</code> Save <code>Ctrl/Cmd + S</code> New Query <code>Ctrl/Cmd + N</code> Toggle SQL Mode <code>Ctrl/Cmd + Shift + S</code>"},{"location":"guides/web-ui/#browser-support","title":"Browser Support","text":"<ul> <li>Chrome/Edge (latest)</li> <li>Firefox (latest)</li> <li>Safari (latest)</li> </ul>"},{"location":"guides/web-ui/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/web-ui/#ui-not-loading","title":"UI Not Loading","text":"<ol> <li>Check backend is running: <code>curl http://localhost:8080/v1/health</code></li> <li>Check frontend is running: <code>curl http://localhost:5173</code></li> <li>Check browser console for errors (F12)</li> </ol>"},{"location":"guides/web-ui/#api-connection-errors","title":"API Connection Errors","text":"<ol> <li>Verify <code>VITE_API_URL</code> is set correctly</li> <li>Check CORS settings on backend</li> <li>Verify API key is valid</li> </ol>"},{"location":"guides/web-ui/#query-execution-fails","title":"Query Execution Fails","text":"<ol> <li>Check API key has correct permissions</li> <li>Verify dataset exists</li> <li>Check backend logs for errors</li> </ol>"},{"location":"guides/web-ui/#next-steps","title":"Next Steps","text":"<ul> <li>Modeling Studio Guide</li> <li>Query Playground Tutorial</li> <li>API Reference</li> </ul>"},{"location":"integrations/","title":"Integrations","text":"<p>Connect SetuPranali to your data sources and BI tools.</p>"},{"location":"integrations/#data-sources","title":"Data Sources","text":"<p>Connect to your data warehouse or database.</p> <ul> <li> <p> PostgreSQL</p> <p>Connect to PostgreSQL databases.</p> <p> PostgreSQL</p> </li> <li> <p> MySQL</p> <p>Connect to MySQL and MariaDB.</p> <p> MySQL</p> </li> <li> <p> Snowflake</p> <p>Connect to Snowflake data warehouse.</p> <p> Snowflake</p> </li> <li> <p> BigQuery</p> <p>Connect to Google BigQuery.</p> <p> BigQuery</p> </li> <li> <p> Databricks</p> <p>Connect to Databricks SQL.</p> <p> Databricks</p> </li> <li> <p> Redshift</p> <p>Connect to Amazon Redshift.</p> <p> Redshift</p> </li> <li> <p> ClickHouse</p> <p>Connect to ClickHouse OLAP.</p> <p> ClickHouse</p> </li> </ul>"},{"location":"integrations/#bi-tools","title":"BI Tools","text":"<p>Connect your visualization tools.</p> <ul> <li> <p> Power BI</p> <p>Native OData integration.</p> <p> Power BI</p> </li> <li> <p> Tableau</p> <p>Web Data Connector.</p> <p> Tableau</p> </li> <li> <p> REST API</p> <p>Any tool via REST.</p> <p> REST API</p> </li> </ul>"},{"location":"integrations/#modeling-layers","title":"Modeling Layers","text":"<p>Integrate with existing semantic layers.</p> <ul> <li> <p> dbt</p> <p>Use dbt models as datasets.</p> <p> dbt</p> </li> <li> <p> SQL Views</p> <p>Use existing database views.</p> <p> Views</p> </li> </ul>"},{"location":"integrations/#quick-reference","title":"Quick Reference","text":""},{"location":"integrations/#data-source-support","title":"Data Source Support","text":"Source Adapter Status PostgreSQL <code>postgres</code> \u2705 GA MySQL <code>mysql</code> \u2705 GA Snowflake <code>snowflake</code> \u2705 GA BigQuery <code>bigquery</code> \u2705 GA Databricks <code>databricks</code> \u2705 GA Redshift <code>redshift</code> \u2705 GA ClickHouse <code>clickhouse</code> \u2705 GA DuckDB <code>duckdb</code> \u2705 GA"},{"location":"integrations/#bi-tool-protocols","title":"BI Tool Protocols","text":"Tool Protocol Authentication Power BI OData X-API-Key header Tableau WDC API Key in form Excel OData X-API-Key header Looker Studio REST X-API-Key header Metabase REST X-API-Key header"},{"location":"integrations/bi-tools/","title":"BI Tools","text":"<p>Connect your visualization tools to SetuPranali.</p>"},{"location":"integrations/bi-tools/#supported-tools","title":"Supported Tools","text":"<ul> <li> <p> Power BI</p> <p>Native OData integration. Works with Desktop and Service.</p> <p> Power BI Guide</p> </li> <li> <p> Tableau</p> <p>Web Data Connector for Desktop, Server, and Cloud.</p> <p> Tableau Guide</p> </li> <li> <p> Apache Superset</p> <p>REST API and SQL Lab integration for open-source BI.</p> <p> Superset Guide</p> </li> <li> <p> Looker Studio</p> <p>Community Connector for Google's free BI tool.</p> <p> Looker Studio Guide</p> </li> <li> <p> Metabase</p> <p>Native driver plugin for seamless Metabase integration.</p> <p> Metabase Guide</p> </li> <li> <p> Grafana</p> <p>Native data source plugin for dashboards and alerting.</p> <p> Grafana Guide</p> </li> <li> <p> Qlik Sense</p> <p>REST connector integration for Qlik Sense and Qlik Cloud.</p> <p> Qlik Sense Guide</p> </li> <li> <p> Mode Analytics</p> <p>Python notebooks and REST API for collaborative analytics.</p> <p> Mode Analytics Guide</p> </li> <li> <p> REST API</p> <p>Connect any tool via REST API.</p> <p> REST API</p> </li> </ul>"},{"location":"integrations/bi-tools/#protocol-comparison","title":"Protocol Comparison","text":"Protocol Tools Best For OData Power BI, Excel Microsoft ecosystem, native refresh WDC Tableau Tableau Desktop/Server Native Driver Metabase Seamless Metabase integration REST Superset, Looker Studio, Any Open-source tools, custom integrations Community Connector Looker Studio Google ecosystem"},{"location":"integrations/bi-tools/#tool-categories","title":"Tool Categories","text":""},{"location":"integrations/bi-tools/#enterprise-bi","title":"Enterprise BI","text":"Tool Integration Row-Level Security Caching Power BI \u2705 Native OData \u2705 Automatic \u2705 Redis Tableau \u2705 WDC \u2705 Automatic \u2705 Redis Qlik Sense \u2705 REST Connector \u2705 Automatic \u2705 Redis Mode Analytics \u2705 Python/REST \u2705 Automatic \u2705 Redis"},{"location":"integrations/bi-tools/#open-source-bi","title":"Open Source BI","text":"Tool Integration Row-Level Security Caching Apache Superset \u2705 REST API \u2705 Automatic \u2705 Redis Metabase \u2705 Native Driver \u2705 Automatic \u2705 Redis Grafana \u2705 Native Plugin \u2705 Automatic \u2705 Redis Looker Studio \u2705 Community Connector \u2705 Automatic \u2705 Redis"},{"location":"integrations/bi-tools/#common-configuration","title":"Common Configuration","text":""},{"location":"integrations/bi-tools/#api-key","title":"API Key","text":"<p>All connections require an API key:</p> Tool Configuration Power BI HTTP header: <code>X-API-Key</code> Tableau WDC authentication field Superset Database connection header Looker Studio Connector configuration Metabase HTTP driver header REST Header or query parameter"},{"location":"integrations/bi-tools/#base-url","title":"Base URL","text":"<pre><code>http://your-server:8080\n</code></pre> <p>For production, use HTTPS:</p> <pre><code>https://bi-api.yourdomain.com\n</code></pre>"},{"location":"integrations/bi-tools/#quick-reference","title":"Quick Reference","text":""},{"location":"integrations/bi-tools/#power-bi-odata-url","title":"Power BI OData URL","text":"<pre><code>http://localhost:8080/odata/{dataset}\n</code></pre>"},{"location":"integrations/bi-tools/#tableau-wdc-url","title":"Tableau WDC URL","text":"<pre><code>http://localhost:8080/wdc/\n</code></pre>"},{"location":"integrations/bi-tools/#rest-query-url","title":"REST Query URL","text":"<pre><code>POST http://localhost:8080/v1/query\n</code></pre>"},{"location":"integrations/bi-tools/#superset-database-uri","title":"Superset Database URI","text":"<pre><code>setupranali+http://localhost:8080?api_key=your-key\n</code></pre>"},{"location":"integrations/bi-tools/#looker-studio-connector","title":"Looker Studio Connector","text":"<pre><code>Deploy Apps Script connector and use deployment ID\n</code></pre>"},{"location":"integrations/bi-tools/#metabase-connection","title":"Metabase Connection","text":"<pre><code>HTTP Database: http://localhost:8080/v1\n</code></pre>"},{"location":"integrations/bi-tools/excel/","title":"Microsoft Excel Integration","text":"<p>Query SetuPranali semantic layer directly from Microsoft Excel.</p>"},{"location":"integrations/bi-tools/excel/#overview","title":"Overview","text":"<p>The SetuPranali Excel Add-in provides:</p> <ul> <li>Query Builder: Visual interface in Excel task pane</li> <li>Refresh Queries: Update data with one click</li> <li>Custom Functions: Use formulas (coming soon)</li> <li>Formatted Tables: Results as Excel tables</li> </ul>"},{"location":"integrations/bi-tools/excel/#installation","title":"Installation","text":""},{"location":"integrations/bi-tools/excel/#from-microsoft-appsource-coming-soon","title":"From Microsoft AppSource (Coming Soon)","text":"<ol> <li>Open Excel</li> <li>Go to Insert &gt; Add-ins &gt; Get Add-ins</li> <li>Search for \"SetuPranali\"</li> <li>Click Add</li> </ol>"},{"location":"integrations/bi-tools/excel/#manual-installation","title":"Manual Installation","text":"<ol> <li>Download <code>manifest.xml</code> from GitHub releases</li> <li>Follow Microsoft's sideloading guide</li> </ol>"},{"location":"integrations/bi-tools/excel/#configuration","title":"Configuration","text":"<ol> <li>Click SetuPranali button in the Data tab ribbon</li> <li>Go to Settings tab in the task pane</li> <li>Enter:</li> <li>Server URL: Your SetuPranali server (e.g., <code>https://your-server.com</code>)</li> <li>API Key: Your API key</li> <li>Click Test Connection</li> <li>Click Save Settings</li> </ol>"},{"location":"integrations/bi-tools/excel/#usage","title":"Usage","text":""},{"location":"integrations/bi-tools/excel/#query-builder","title":"Query Builder","text":"<ol> <li>Click SetuPranali &gt; Query in ribbon</li> <li>Select a Dataset from dropdown</li> <li>Check the Dimensions to include</li> <li>Check the Metrics to include</li> <li>Optionally set:</li> <li>Date Range: Filter by date</li> <li>Row Limit: Maximum rows to return</li> <li>Click Run Query</li> </ol> <p>Results are inserted as a formatted Excel table at the active cell.</p>"},{"location":"integrations/bi-tools/excel/#refreshing-data","title":"Refreshing Data","text":"<ul> <li>Single Query: Select the table, click Refresh</li> <li>All Queries: Click Refresh All in ribbon</li> </ul>"},{"location":"integrations/bi-tools/excel/#example","title":"Example","text":"<pre><code>Configuration:\n  Dataset: orders\n  Dimensions: order_date, region\n  Metrics: revenue, order_count\n  Limit: 1000\n\nResult in Excel:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 order_date \u2502 region \u2502 revenue \u2502 order_count \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 2025-01-01 \u2502 US     \u2502 15000   \u2502 120         \u2502\n\u2502 2025-01-01 \u2502 EU     \u2502 12000   \u2502 95          \u2502\n\u2502 2025-01-02 \u2502 US     \u2502 18000   \u2502 145         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"integrations/bi-tools/excel/#custom-functions-coming-soon","title":"Custom Functions (Coming Soon)","text":"<p>Use SetuPranali directly in cell formulas:</p> <pre><code>=SETUPRANALI.QUERY(\"orders\", \"region\", \"revenue\")\n\n=SETUPRANALI.METRIC(\"orders\", \"total_revenue\")\n\n=SETUPRANALI.NLQ(\"What was revenue last month?\")\n</code></pre>"},{"location":"integrations/bi-tools/excel/#system-requirements","title":"System Requirements","text":"<ul> <li>Microsoft Excel 2016 or later</li> <li>Excel for Mac 2016 or later</li> <li>Excel Online</li> <li>Windows 10 or later / macOS 10.14 or later</li> </ul>"},{"location":"integrations/bi-tools/excel/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/excel/#connection-failed","title":"Connection Failed","text":"<ol> <li>Verify server URL is correct (include https://)</li> <li>Check API key is valid</li> <li>Ensure server is accessible from your network</li> <li>Check firewall settings</li> </ol>"},{"location":"integrations/bi-tools/excel/#no-datasets-showing","title":"No Datasets Showing","text":"<ol> <li>Verify connection is configured</li> <li>Check API key has access to datasets</li> <li>Click refresh icon in dataset dropdown</li> </ol>"},{"location":"integrations/bi-tools/excel/#data-not-inserting","title":"Data Not Inserting","text":"<ol> <li>Ensure worksheet is not protected</li> <li>Check cell A1 is available (or select different cell)</li> <li>Verify you have write permissions to workbook</li> </ol>"},{"location":"integrations/bi-tools/excel/#add-in-not-loading","title":"Add-in Not Loading","text":"<ol> <li>Check Excel version is 2016 or later</li> <li>Try clearing Office cache</li> <li>Re-install the add-in</li> </ol>"},{"location":"integrations/bi-tools/excel/#security","title":"Security","text":"<ul> <li>API keys are stored in Office roaming settings</li> <li>Keys sync across devices via Microsoft account</li> <li>All requests use HTTPS</li> <li>No data is stored by the add-in</li> </ul>"},{"location":"integrations/bi-tools/excel/#source-code","title":"Source Code","text":"<p>The Excel Add-in source code is available at:</p> <pre><code>packages/excel-addin/\n\u251c\u2500\u2500 manifest.xml          # Office Add-in manifest\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 taskpane.html    # Task pane UI\n\u2502   \u2514\u2500\u2500 taskpane.js      # Task pane logic\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"integrations/bi-tools/excel/#support","title":"Support","text":"<ul> <li>GitHub Issues</li> <li>Documentation</li> <li>Discord Community</li> </ul>"},{"location":"integrations/bi-tools/google-sheets/","title":"Google Sheets Integration","text":"<p>Query SetuPranali semantic layer directly from Google Sheets.</p>"},{"location":"integrations/bi-tools/google-sheets/#overview","title":"Overview","text":"<p>The SetuPranali Google Sheets Connector provides:</p> <ul> <li>Query Builder: Visual sidebar to build queries</li> <li>Natural Language Queries: Ask questions in plain English</li> <li>Custom Functions: Use <code>=SETUPRANALI()</code> formulas</li> <li>Auto Refresh: Refresh all queries with one click</li> </ul>"},{"location":"integrations/bi-tools/google-sheets/#installation","title":"Installation","text":""},{"location":"integrations/bi-tools/google-sheets/#from-google-workspace-marketplace-coming-soon","title":"From Google Workspace Marketplace (Coming Soon)","text":"<ol> <li>Open Google Sheets</li> <li>Go to Extensions &gt; Add-ons &gt; Get add-ons</li> <li>Search for \"SetuPranali\"</li> <li>Click Install</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#manual-installation","title":"Manual Installation","text":"<ol> <li>Open Google Sheets</li> <li>Go to Extensions &gt; Apps Script</li> <li>Copy files from repository:</li> <li><code>Code.gs</code></li> <li><code>QueryBuilder.html</code></li> <li><code>Settings.html</code></li> <li><code>NLQ.html</code></li> <li>Save and reload spreadsheet</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#configuration","title":"Configuration","text":"<ol> <li>Open Google Sheets</li> <li>Go to SetuPranali &gt; Settings</li> <li>Enter:</li> <li>Server URL: Your SetuPranali server</li> <li>API Key: Your API key</li> <li>Click Test Connection</li> <li>Click Save</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#usage","title":"Usage","text":""},{"location":"integrations/bi-tools/google-sheets/#query-builder","title":"Query Builder","text":"<ol> <li>Go to SetuPranali &gt; Query Builder</li> <li>Select a dataset</li> <li>Choose dimensions and metrics</li> <li>Set row limit (optional)</li> <li>Click Run Query</li> </ol> <p>Data is inserted at the active cell as a formatted table.</p>"},{"location":"integrations/bi-tools/google-sheets/#natural-language-query","title":"Natural Language Query","text":"<ol> <li>Go to SetuPranali &gt; Natural Language Query</li> <li>Type your question:</li> <li>\"Show revenue by region\"</li> <li>\"Top 10 products by sales\"</li> <li>\"Monthly revenue trend\"</li> <li>Click Ask</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#custom-functions","title":"Custom Functions","text":"<p>Use SetuPranali directly in cell formulas:</p>"},{"location":"integrations/bi-tools/google-sheets/#basic-query","title":"Basic Query","text":"<pre><code>=SETUPRANALI(\"orders\", \"region\", \"revenue,order_count\")\n</code></pre> Parameter Description dataset Dataset ID dimensions Comma-separated dimensions metrics Comma-separated metrics limit Maximum rows (optional)"},{"location":"integrations/bi-tools/google-sheets/#single-metric","title":"Single Metric","text":"<pre><code>=SETUPRANALI_METRIC(\"orders\", \"total_revenue\")\n=SETUPRANALI_METRIC(\"orders\", \"revenue\", \"{\\\"region\\\": \\\"US\\\"}\")\n</code></pre>"},{"location":"integrations/bi-tools/google-sheets/#natural-language","title":"Natural Language","text":"<pre><code>=SETUPRANALI_ASK(\"What was revenue last month?\")\n</code></pre>"},{"location":"integrations/bi-tools/google-sheets/#examples","title":"Examples","text":""},{"location":"integrations/bi-tools/google-sheets/#revenue-by-region","title":"Revenue by Region","text":"<pre><code>Formula: =SETUPRANALI(\"orders\", \"region\", \"revenue,order_count\")\n\nResult:\n| region | revenue | order_count |\n|--------|---------|-------------|\n| US     | 150000  | 1200        |\n| EU     | 120000  | 950         |\n| APAC   | 80000   | 650         |\n</code></pre>"},{"location":"integrations/bi-tools/google-sheets/#monthly-trend","title":"Monthly Trend","text":"<pre><code>Formula: =SETUPRANALI(\"orders\", \"order_month\", \"revenue\")\n\nResult:\n| order_month | revenue |\n|-------------|---------|\n| 2025-01     | 45000   |\n| 2025-02     | 52000   |\n| 2025-03     | 48000   |\n</code></pre>"},{"location":"integrations/bi-tools/google-sheets/#kpi-dashboard","title":"KPI Dashboard","text":"<p>Create a dashboard with single metrics:</p> Cell Formula Result A1 Total Revenue B1 <code>=SETUPRANALI_METRIC(\"orders\", \"total_revenue\")</code> 350000 A2 Orders Today B2 <code>=SETUPRANALI_METRIC(\"orders\", \"order_count\", \"{\\\"date\\\":\\\"today\\\"}\")</code> 125 A3 Average Order Value B3 <code>=SETUPRANALI_METRIC(\"orders\", \"avg_order_value\")</code> 2800"},{"location":"integrations/bi-tools/google-sheets/#refreshing-data","title":"Refreshing Data","text":""},{"location":"integrations/bi-tools/google-sheets/#manual-refresh","title":"Manual Refresh","text":"<ul> <li>Single Query: Click on query cell, go to SetuPranali &gt; Refresh Current Query</li> <li>All Queries: Go to SetuPranali &gt; Refresh All Queries</li> </ul>"},{"location":"integrations/bi-tools/google-sheets/#scheduled-refresh","title":"Scheduled Refresh","text":"<p>Set up automatic refresh using Google Sheets triggers:</p> <ol> <li>Go to Extensions &gt; Apps Script</li> <li>Click Triggers (clock icon)</li> <li>Add trigger:</li> <li>Function: <code>refreshAllQueries</code></li> <li>Event: Time-driven</li> <li>Interval: Hourly / Daily / Weekly</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/google-sheets/#please-configure-settings-first","title":"\"Please configure settings first\"","text":"<ol> <li>Go to SetuPranali &gt; Settings</li> <li>Enter your server URL and API key</li> <li>Click Save</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#connection-failed","title":"Connection Failed","text":"<ol> <li>Check server URL includes protocol (<code>https://</code>)</li> <li>Verify API key is valid</li> <li>Ensure server is accessible from Google's servers</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#custom-function-errors","title":"Custom Function Errors","text":"<ol> <li>Check formula syntax</li> <li>Verify dataset and column names exist</li> <li>Check server connectivity</li> <li>View execution logs in Apps Script</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#slow-queries","title":"Slow Queries","text":"<ol> <li>Reduce row limit</li> <li>Add filters to narrow results</li> <li>Select fewer dimensions/metrics</li> <li>Check server performance</li> </ol>"},{"location":"integrations/bi-tools/google-sheets/#security","title":"Security","text":"<ul> <li>API keys stored in Google user properties</li> <li>Keys are per-user, not shared</li> <li>All requests use HTTPS</li> <li>No data stored outside Google Sheets</li> </ul>"},{"location":"integrations/bi-tools/google-sheets/#source-code","title":"Source Code","text":"<pre><code>packages/google-sheets-connector/\n\u251c\u2500\u2500 Code.gs              # Main Apps Script code\n\u251c\u2500\u2500 QueryBuilder.html    # Query builder sidebar\n\u251c\u2500\u2500 Settings.html        # Settings dialog\n\u251c\u2500\u2500 NLQ.html            # Natural language dialog\n\u251c\u2500\u2500 appsscript.json     # Apps Script manifest\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"integrations/bi-tools/google-sheets/#support","title":"Support","text":"<ul> <li>GitHub Issues</li> <li>Documentation</li> <li>Discord Community</li> </ul>"},{"location":"integrations/bi-tools/grafana/","title":"Grafana","text":"<p>Connect Grafana to SetuPranali using the native data source plugin.</p>"},{"location":"integrations/bi-tools/grafana/#overview","title":"Overview","text":"<p>The SetuPranali Grafana Plugin provides:</p> <ul> <li>Semantic Queries: Visual query builder for dimensions and metrics</li> <li>SQL Mode: Raw SQL with automatic RLS</li> <li>Time Series: Native time-series support</li> <li>Variables: Template variable support</li> <li>Alerting: Full alerting capabilities</li> <li>Annotations: Query-based annotations</li> </ul>"},{"location":"integrations/bi-tools/grafana/#installation","title":"Installation","text":""},{"location":"integrations/bi-tools/grafana/#from-grafana-plugin-catalog","title":"From Grafana Plugin Catalog","text":"<ol> <li>In Grafana, go to Configuration &gt; Plugins</li> <li>Search for \"SetuPranali\"</li> <li>Click Install</li> </ol>"},{"location":"integrations/bi-tools/grafana/#manual-installation","title":"Manual Installation","text":"<pre><code># Download plugin\nwget https://github.com/setupranali/setupranali.github.io/releases/download/v1.0.0/setupranali-datasource-1.0.0.zip\n\n# Extract to plugins directory\nunzip setupranali-datasource-1.0.0.zip -d /var/lib/grafana/plugins/\n\n# Restart Grafana\nsudo systemctl restart grafana-server\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#docker","title":"Docker","text":"<pre><code>services:\n  grafana:\n    image: grafana/grafana:latest\n    volumes:\n      - ./plugins/setupranali-datasource:/var/lib/grafana/plugins/setupranali-datasource\n    environment:\n      - GF_PLUGINS_ALLOW_LOADING_UNSIGNED_PLUGINS=setupranali-datasource\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#configuration","title":"Configuration","text":""},{"location":"integrations/bi-tools/grafana/#add-data-source","title":"Add Data Source","text":"<ol> <li>Go to Configuration &gt; Data Sources</li> <li>Click Add data source</li> <li>Search for \"SetuPranali\"</li> <li>Configure:</li> </ol> Setting Description Example URL SetuPranali server URL <code>http://setupranali:8080</code> API Key Your API key <code>sk-...</code> Default Dataset Default dataset <code>orders</code> Enable Cache Enable query caching <code>true</code> Cache TTL Cache time-to-live <code>300</code> <ol> <li>Click Save &amp; Test</li> </ol>"},{"location":"integrations/bi-tools/grafana/#query-types","title":"Query Types","text":""},{"location":"integrations/bi-tools/grafana/#semantic-query-mode","title":"Semantic Query Mode","text":"<p>Use the visual query builder:</p> <ol> <li>Dataset: Select from available datasets</li> <li>Dimensions: Fields to group by</li> <li>Metrics: Aggregations to calculate</li> <li>Time Dimension: For time-series charts</li> <li>Granularity: hour, day, week, month</li> <li>Limit: Maximum rows</li> </ol> <p></p>"},{"location":"integrations/bi-tools/grafana/#sql-mode","title":"SQL Mode","text":"<p>Write raw SQL queries:</p> <pre><code>SELECT \n    DATE_TRUNC('day', order_date) as time,\n    region,\n    SUM(amount) as revenue\nFROM orders\nWHERE order_date BETWEEN $__timeFrom() AND $__timeTo()\nGROUP BY time, region\nORDER BY time\n</code></pre> <p>Variables:</p> Variable Description <code>$__timeFrom()</code> Start of time range <code>$__timeTo()</code> End of time range <code>$__interval</code> Suggested interval"},{"location":"integrations/bi-tools/grafana/#dashboard-examples","title":"Dashboard Examples","text":""},{"location":"integrations/bi-tools/grafana/#time-series","title":"Time Series","text":"<pre><code>Dataset: orders\nDimensions: order_date\nMetrics: revenue, order_count\nTime Dimension: order_date\nGranularity: day\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#bar-chart-by-region","title":"Bar Chart by Region","text":"<pre><code>Dataset: orders\nDimensions: region\nMetrics: revenue\nLimit: 10\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#table-view","title":"Table View","text":"<pre><code>Dataset: orders\nDimensions: region, status, customer_segment\nMetrics: revenue, order_count, avg_order_value\nLimit: 100\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#template-variables","title":"Template Variables","text":"<p>Create dynamic dashboards using variables:</p>"},{"location":"integrations/bi-tools/grafana/#dataset-list","title":"Dataset List","text":"<pre><code>Query: datasets\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#dimensions","title":"Dimensions","text":"<pre><code>Query: dimensions($dataset)\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#metrics","title":"Metrics","text":"<pre><code>Query: metrics($dataset)\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#custom-values","title":"Custom Values","text":"<pre><code>SELECT DISTINCT region FROM orders\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#alerting","title":"Alerting","text":"<p>Create alerts based on SetuPranali queries:</p> <ol> <li>Create a panel with your query</li> <li>Go to Alert tab</li> <li>Configure conditions:    <pre><code>WHEN avg() OF query(A) IS ABOVE 1000\n</code></pre></li> <li>Set notification channels</li> </ol>"},{"location":"integrations/bi-tools/grafana/#annotations","title":"Annotations","text":"<p>Add annotations from SetuPranali data:</p> <ol> <li>Go to Dashboard Settings &gt; Annotations</li> <li>Click Add annotation query</li> <li>Select SetuPranali data source</li> <li>Configure query:    <pre><code>Dataset: events\nDimensions: event_time, event_type\nMetrics: (none)\nTime Dimension: event_time\n</code></pre></li> </ol>"},{"location":"integrations/bi-tools/grafana/#performance-tips","title":"Performance Tips","text":""},{"location":"integrations/bi-tools/grafana/#1-use-caching","title":"1. Use Caching","text":"<p>Enable caching in data source settings: <pre><code>Enable Cache: true\nCache TTL: 300\n</code></pre></p>"},{"location":"integrations/bi-tools/grafana/#2-limit-results","title":"2. Limit Results","text":"<p>Always set a reasonable limit: <pre><code>Limit: 1000\n</code></pre></p>"},{"location":"integrations/bi-tools/grafana/#3-use-appropriate-granularity","title":"3. Use Appropriate Granularity","text":"<p>For long time ranges, use larger granularity: - Last 24h: <code>hour</code> - Last 7d: <code>day</code> - Last 30d: <code>day</code> - Last year: <code>month</code></p>"},{"location":"integrations/bi-tools/grafana/#4-pre-aggregate-data","title":"4. Pre-aggregate Data","text":"<p>Use continuous aggregates in your data warehouse.</p>"},{"location":"integrations/bi-tools/grafana/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/grafana/#plugin-not-loading","title":"Plugin Not Loading","text":"<ol> <li> <p>Check Grafana logs:    <pre><code>journalctl -u grafana-server -f\n</code></pre></p> </li> <li> <p>For unsigned plugins:    <pre><code># /etc/grafana/grafana.ini\n[plugins]\nallow_loading_unsigned_plugins = setupranali-datasource\n</code></pre></p> </li> </ol>"},{"location":"integrations/bi-tools/grafana/#connection-failed","title":"Connection Failed","text":"<ol> <li>Verify SetuPranali is running</li> <li>Check URL is accessible</li> <li>Verify API key is correct</li> <li>Check firewall settings</li> </ol>"},{"location":"integrations/bi-tools/grafana/#no-data","title":"No Data","text":"<ol> <li>Verify dataset exists</li> <li>Check time range includes data</li> <li>Verify dimensions/metrics are valid</li> <li>Check browser console for errors</li> </ol>"},{"location":"integrations/bi-tools/grafana/#slow-queries","title":"Slow Queries","text":"<ol> <li>Enable caching</li> <li>Reduce result limit</li> <li>Use appropriate granularity</li> <li>Add filters to narrow data</li> </ol>"},{"location":"integrations/bi-tools/grafana/#example-dashboard-json","title":"Example Dashboard JSON","text":"<pre><code>{\n  \"panels\": [\n    {\n      \"title\": \"Revenue by Region\",\n      \"type\": \"barchart\",\n      \"datasource\": \"SetuPranali\",\n      \"targets\": [\n        {\n          \"dataset\": \"orders\",\n          \"dimensions\": [\"region\"],\n          \"metrics\": [\"revenue\"],\n          \"queryType\": \"semantic\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Daily Revenue\",\n      \"type\": \"timeseries\",\n      \"datasource\": \"SetuPranali\",\n      \"targets\": [\n        {\n          \"dataset\": \"orders\",\n          \"dimensions\": [\"order_date\"],\n          \"metrics\": [\"revenue\"],\n          \"timeDimension\": \"order_date\",\n          \"timeGranularity\": \"day\",\n          \"queryType\": \"semantic\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"integrations/bi-tools/grafana/#resources","title":"Resources","text":"<ul> <li>Plugin Source Code</li> <li>Grafana Plugin Development</li> <li>SetuPranali API Reference</li> </ul>"},{"location":"integrations/bi-tools/looker-studio/","title":"Looker Studio Integration","text":"<p>Connect Google Looker Studio (formerly Data Studio) to SetuPranali using a Community Connector.</p>"},{"location":"integrations/bi-tools/looker-studio/#overview","title":"Overview","text":"<p>SetuPranali provides a Community Connector for Looker Studio that:</p> <ul> <li>Exposes your semantic layer datasets</li> <li>Applies row-level security automatically</li> <li>Supports all Looker Studio chart types</li> <li>Works with blending and calculated fields</li> </ul>"},{"location":"integrations/bi-tools/looker-studio/#quick-setup","title":"Quick Setup","text":""},{"location":"integrations/bi-tools/looker-studio/#step-1-deploy-the-connector","title":"Step 1: Deploy the Connector","text":"<ol> <li>Open Google Apps Script</li> <li>Create a new project: \"SetuPranali Connector\"</li> <li>Copy the connector code below</li> </ol>"},{"location":"integrations/bi-tools/looker-studio/#step-2-connector-code","title":"Step 2: Connector Code","text":"<p>Create these files in your Apps Script project:</p>"},{"location":"integrations/bi-tools/looker-studio/#codegs","title":"<code>Code.gs</code>","text":"<pre><code>/**\n * SetuPranali Community Connector for Looker Studio\n */\n\nvar API_BASE_URL = 'https://your-setupranali-instance.com';\n\nfunction getConfig(request) {\n  var config = cc.getConfig();\n\n  config.newTextInput()\n    .setId('apiKey')\n    .setName('API Key')\n    .setHelpText('Your SetuPranali API key')\n    .setPlaceholder('sk_...');\n\n  config.newTextInput()\n    .setId('serverUrl')\n    .setName('Server URL')\n    .setHelpText('SetuPranali server URL')\n    .setPlaceholder('https://setupranali.your-domain.com');\n\n  config.newSelectSingle()\n    .setId('dataset')\n    .setName('Dataset')\n    .setHelpText('Select the dataset to connect');\n\n  config.setDateRangeRequired(true);\n\n  return config.build();\n}\n\nfunction getSchema(request) {\n  var apiKey = request.configParams.apiKey;\n  var serverUrl = request.configParams.serverUrl || API_BASE_URL;\n  var dataset = request.configParams.dataset;\n\n  // Fetch schema from SetuPranali\n  var response = UrlFetchApp.fetch(serverUrl + '/v1/datasets/' + dataset, {\n    headers: {\n      'X-API-Key': apiKey\n    }\n  });\n\n  var datasetInfo = JSON.parse(response.getContentText());\n  var fields = [];\n\n  // Map dimensions\n  datasetInfo.dimensions.forEach(function(dim) {\n    fields.push({\n      name: dim.name,\n      label: dim.label || dim.name,\n      dataType: mapDataType(dim.type),\n      semantics: {\n        conceptType: 'DIMENSION'\n      }\n    });\n  });\n\n  // Map measures\n  datasetInfo.measures.forEach(function(measure) {\n    fields.push({\n      name: measure.name,\n      label: measure.label || measure.name,\n      dataType: 'NUMBER',\n      semantics: {\n        conceptType: 'METRIC',\n        isReaggregatable: true\n      }\n    });\n  });\n\n  return { schema: fields };\n}\n\nfunction getData(request) {\n  var apiKey = request.configParams.apiKey;\n  var serverUrl = request.configParams.serverUrl || API_BASE_URL;\n  var dataset = request.configParams.dataset;\n\n  var requestedFields = request.fields.map(function(field) {\n    return field.name;\n  });\n\n  // Build query\n  var queryPayload = {\n    dataset: dataset,\n    dimensions: [],\n    measures: [],\n    limit: 10000\n  };\n\n  // Separate dimensions and measures\n  requestedFields.forEach(function(field) {\n    // Check if it's a measure (you might want to track this differently)\n    if (field.startsWith('sum_') || field.startsWith('count_') || field.startsWith('avg_')) {\n      queryPayload.measures.push(field);\n    } else {\n      queryPayload.dimensions.push(field);\n    }\n  });\n\n  // Add date range filter if provided\n  if (request.dateRange) {\n    queryPayload.filters = [{\n      field: 'date',\n      operator: 'between',\n      value: [request.dateRange.startDate, request.dateRange.endDate]\n    }];\n  }\n\n  // Fetch data from SetuPranali\n  var response = UrlFetchApp.fetch(serverUrl + '/v1/query', {\n    method: 'POST',\n    headers: {\n      'X-API-Key': apiKey,\n      'Content-Type': 'application/json'\n    },\n    payload: JSON.stringify(queryPayload)\n  });\n\n  var result = JSON.parse(response.getContentText());\n\n  // Transform to Looker Studio format\n  var rows = result.data.map(function(row) {\n    return {\n      values: requestedFields.map(function(field) {\n        return row[field];\n      })\n    };\n  });\n\n  return {\n    schema: request.fields,\n    rows: rows\n  };\n}\n\nfunction mapDataType(type) {\n  var typeMap = {\n    'string': 'STRING',\n    'number': 'NUMBER',\n    'integer': 'NUMBER',\n    'date': 'YEAR_MONTH_DAY',\n    'datetime': 'YEAR_MONTH_DAY_SECOND',\n    'timestamp': 'YEAR_MONTH_DAY_SECOND',\n    'boolean': 'BOOLEAN'\n  };\n  return typeMap[type.toLowerCase()] || 'STRING';\n}\n\nfunction getAuthType() {\n  return cc.newAuthTypeResponse()\n    .setAuthType(cc.AuthType.NONE)\n    .build();\n}\n\nfunction isAdminUser() {\n  return false;\n}\n\nvar cc = DataStudioApp.createCommunityConnector();\n</code></pre>"},{"location":"integrations/bi-tools/looker-studio/#appsscriptjson","title":"<code>appsscript.json</code>","text":"<pre><code>{\n  \"timeZone\": \"UTC\",\n  \"dependencies\": {},\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\",\n  \"dataStudio\": {\n    \"name\": \"SetuPranali Connector\",\n    \"company\": \"SetuPranali\",\n    \"logoUrl\": \"https://setupranali.github.io/assets/logo.svg\",\n    \"addonUrl\": \"https://setupranali.github.io\",\n    \"supportUrl\": \"https://github.com/setupranali/setupranali.github.io/issues\",\n    \"description\": \"Connect to your data warehouse through SetuPranali's semantic layer\"\n  }\n}\n</code></pre>"},{"location":"integrations/bi-tools/looker-studio/#step-3-deploy-the-connector","title":"Step 3: Deploy the Connector","text":"<ol> <li>Click Deploy \u2192 New deployment</li> <li>Select Add-on \u2192 Looker Studio Community Connector</li> <li>Fill in details and click Deploy</li> <li>Copy the Deployment ID</li> </ol>"},{"location":"integrations/bi-tools/looker-studio/#step-4-use-in-looker-studio","title":"Step 4: Use in Looker Studio","text":"<ol> <li>Go to Looker Studio</li> <li>Create new report \u2192 Add data</li> <li>Search for your connector or use the deployment URL:    <pre><code>https://lookerstudio.google.com/datasources/create?connectorId=YOUR_DEPLOYMENT_ID\n</code></pre></li> <li>Enter your SetuPranali API key and server URL</li> <li>Select your dataset</li> <li>Click Connect</li> </ol>"},{"location":"integrations/bi-tools/looker-studio/#features","title":"Features","text":""},{"location":"integrations/bi-tools/looker-studio/#automatic-row-level-security","title":"Automatic Row-Level Security","text":"<p>Your API key determines what data users can see:</p> <pre><code>// API Key: tenant_id = \"acme-corp\"\n// Users only see Acme Corp's data in all reports\n</code></pre>"},{"location":"integrations/bi-tools/looker-studio/#date-range-filters","title":"Date Range Filters","text":"<p>The connector automatically applies Looker Studio date range filters to your queries.</p>"},{"location":"integrations/bi-tools/looker-studio/#blending-support","title":"Blending Support","text":"<p>Blend multiple SetuPranali datasets in a single report:</p> <ol> <li>Add multiple data sources (different datasets)</li> <li>Use Looker Studio's blend feature</li> <li>Join on common dimensions</li> </ol>"},{"location":"integrations/bi-tools/looker-studio/#configuration-options","title":"Configuration Options","text":"Parameter Description Required <code>apiKey</code> Your SetuPranali API key Yes <code>serverUrl</code> SetuPranali server URL Yes <code>dataset</code> Dataset to connect Yes"},{"location":"integrations/bi-tools/looker-studio/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/looker-studio/#script-error","title":"\"Script error\"","text":"<p>Check your Apps Script logs: 1. Open Apps Script project 2. View \u2192 Executions 3. Check for error details</p>"},{"location":"integrations/bi-tools/looker-studio/#unauthorized","title":"\"Unauthorized\"","text":"<p>Verify your API key: <pre><code>curl -H \"X-API-Key: your-key\" https://your-server/v1/datasets\n</code></pre></p>"},{"location":"integrations/bi-tools/looker-studio/#no-data-returned","title":"\"No data returned\"","text":"<p>Check if your tenant has access to the data: <pre><code>curl -X POST https://your-server/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"dataset\": \"orders\", \"limit\": 10}'\n</code></pre></p>"},{"location":"integrations/bi-tools/looker-studio/#next-steps","title":"Next Steps","text":"<ul> <li>Configure Datasets</li> <li>Set Up Row-Level Security</li> <li>API Reference</li> </ul>"},{"location":"integrations/bi-tools/metabase/","title":"Metabase Integration","text":"<p>Connect Metabase to your data warehouse through SetuPranali's semantic layer.</p>"},{"location":"integrations/bi-tools/metabase/#overview","title":"Overview","text":"<p>SetuPranali provides a native Metabase driver for seamless integration:</p> <ul> <li>\ud83d\udd0c Native Integration - Appears as \"SetuPranali\" in database list</li> <li>\ud83d\udd12 Secure - API key authentication with RLS</li> <li>\ud83d\udcca Auto-Discovery - Automatically discovers datasets</li> <li>\u26a1 Zero Config - Works out of the box</li> </ul>"},{"location":"integrations/bi-tools/metabase/#method-1-native-driver-recommended","title":"Method 1: Native Driver (Recommended)","text":""},{"location":"integrations/bi-tools/metabase/#step-1-install-setupranali-driver","title":"Step 1: Install SetuPranali Driver","text":"<p>Download and install the official SetuPranali driver:</p> <pre><code># Download the driver\ncurl -L -o setupranali-driver.metabase-driver.jar \\\n  https://github.com/setupranali/setupranali.github.io/releases/latest/download/setupranali-driver.metabase-driver.jar\n\n# Copy to Metabase plugins directory\ncp setupranali-driver.metabase-driver.jar /path/to/metabase/plugins/\n\n# Restart Metabase\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#docker-installation","title":"Docker Installation","text":"<pre><code># docker-compose.yml\nversion: '3.8'\nservices:\n  metabase:\n    image: metabase/metabase:latest\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - ./setupranali-driver.metabase-driver.jar:/plugins/setupranali-driver.metabase-driver.jar\n    depends_on:\n      - setupranali\n\n  setupranali:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#step-2-configure-connection","title":"Step 2: Configure Connection","text":"<ol> <li>Go to Admin \u2192 Databases \u2192 Add database</li> <li>Select SetuPranali from the dropdown</li> <li>Configure:</li> </ol> <pre><code>Base URL: http://setupranali:8080/v1\nHeaders:\n  X-API-Key: your-api-key\n  Content-Type: application/json\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#step-3-create-questions","title":"Step 3: Create Questions","text":"<p>Use Metabase's native query mode to query SetuPranali:</p> <pre><code>{\n  \"dataset\": \"orders\",\n  \"dimensions\": [\"customer_name\", \"order_date\"],\n  \"measures\": [\"total_revenue\"],\n  \"filters\": [\n    {\"field\": \"order_date\", \"operator\": \"&gt;=\", \"value\": \"2024-01-01\"}\n  ],\n  \"limit\": 1000\n}\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#method-2-using-metabase-rest-api-sync","title":"Method 2: Using Metabase REST API Sync","text":"<p>Create a sync script to expose SetuPranali datasets in Metabase:</p>"},{"location":"integrations/bi-tools/metabase/#sync_metabasepy","title":"<code>sync_metabase.py</code>","text":"<pre><code>\"\"\"\nSync SetuPranali datasets to Metabase as saved questions\n\"\"\"\n\nimport requests\nimport os\n\nSETUPRANALI_URL = os.getenv('SETUPRANALI_URL', 'http://localhost:8080')\nSETUPRANALI_KEY = os.getenv('SETUPRANALI_API_KEY')\nMETABASE_URL = os.getenv('METABASE_URL', 'http://localhost:3000')\nMETABASE_USER = os.getenv('METABASE_USER')\nMETABASE_PASS = os.getenv('METABASE_PASS')\n\ndef get_metabase_session():\n    \"\"\"Get Metabase session token\"\"\"\n    response = requests.post(f'{METABASE_URL}/api/session', json={\n        'username': METABASE_USER,\n        'password': METABASE_PASS\n    })\n    return response.json()['id']\n\ndef get_setupranali_datasets():\n    \"\"\"Fetch datasets from SetuPranali\"\"\"\n    response = requests.get(\n        f'{SETUPRANALI_URL}/v1/datasets',\n        headers={'X-API-Key': SETUPRANALI_KEY}\n    )\n    return response.json()\n\ndef create_metabase_question(session, dataset):\n    \"\"\"Create a Metabase question for a SetuPranali dataset\"\"\"\n    question = {\n        'name': f\"SetuPranali: {dataset['name']}\",\n        'description': dataset.get('description', ''),\n        'display': 'table',\n        'visualization_settings': {},\n        'dataset_query': {\n            'type': 'native',\n            'native': {\n                'query': f'''\n                    -- SetuPranali Dataset: {dataset['id']}\n                    -- This queries through the SetuPranali API\n                    SELECT * FROM {dataset['id']} LIMIT 1000\n                ''',\n                'template-tags': {}\n            },\n            'database': 1  # Your database ID\n        }\n    }\n\n    response = requests.post(\n        f'{METABASE_URL}/api/card',\n        headers={'X-Metabase-Session': session},\n        json=question\n    )\n    return response.json()\n\ndef main():\n    session = get_metabase_session()\n    datasets = get_setupranali_datasets()\n\n    for dataset in datasets.get('items', []):\n        print(f\"Creating question for: {dataset['name']}\")\n        result = create_metabase_question(session, dataset)\n        print(f\"  Created: {result.get('id')}\")\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#method-3-database-proxy-mode","title":"Method 3: Database Proxy Mode","text":"<p>Connect Metabase to your data warehouse directly, using SetuPranali for governance:</p>"},{"location":"integrations/bi-tools/metabase/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Metabase \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 SetuPranali \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Data Warehouse\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                  \u2502\n     \u2502    REST API      \u2502    RLS + Caching\n     \u2502                  \u2502\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#docker-compose-setup","title":"Docker Compose Setup","text":"<pre><code>version: '3.8'\nservices:\n  setupranali:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - REDIS_URL=redis://redis:6379\n    volumes:\n      - ./catalog.yaml:/app/catalog.yaml\n\n  metabase:\n    image: metabase/metabase:latest\n    ports:\n      - \"3000:3000\"\n    environment:\n      - MB_DB_TYPE=h2\n    depends_on:\n      - setupranali\n\n  redis:\n    image: redis:alpine\n    ports:\n      - \"6379:6379\"\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#configure-metabase-database","title":"Configure Metabase Database","text":"<p>In Metabase Admin:</p> <ol> <li>Add Database \u2192 Select your warehouse type (PostgreSQL, Snowflake, etc.)</li> <li>Configure connection through SetuPranali:</li> <li>Host: <code>setupranali</code> (Docker service name)</li> <li>Port: <code>8080</code></li> </ol>"},{"location":"integrations/bi-tools/metabase/#embedding-setupranali-in-metabase","title":"Embedding SetuPranali in Metabase","text":"<p>Use Metabase's embedding to create dashboards with SetuPranali data:</p>"},{"location":"integrations/bi-tools/metabase/#enable-embedding","title":"Enable Embedding","text":"<ol> <li>Admin \u2192 Settings \u2192 Embedding</li> <li>Enable Signed embedding</li> <li>Copy the Embedding secret key</li> </ol>"},{"location":"integrations/bi-tools/metabase/#embed-a-question","title":"Embed a Question","text":"<pre><code>// Generate signed embed URL\nconst jwt = require('jsonwebtoken');\n\nconst payload = {\n  resource: { question: 123 },\n  params: {\n    tenant_id: 'acme-corp'  // Pass to SetuPranali for RLS\n  },\n  exp: Math.round(Date.now() / 1000) + (10 * 60) // 10 minutes\n};\n\nconst token = jwt.sign(payload, METABASE_SECRET_KEY);\nconst embedUrl = `${METABASE_URL}/embed/question/${token}`;\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#row-level-security","title":"Row-Level Security","text":""},{"location":"integrations/bi-tools/metabase/#per-user-api-keys","title":"Per-User API Keys","text":"<p>Create tenant-specific API keys for Metabase groups:</p> <pre><code># Create API key for sales team\ncurl -X POST http://localhost:8080/v1/sources/api-keys \\\n  -H \"X-Internal-Admin-Key: admin-key\" \\\n  -d '{\"name\": \"metabase-sales\", \"tenant_id\": \"sales-team\"}'\n\n# Create API key for marketing team  \ncurl -X POST http://localhost:8080/v1/sources/api-keys \\\n  -H \"X-Internal-Admin-Key: admin-key\" \\\n  -d '{\"name\": \"metabase-marketing\", \"tenant_id\": \"marketing-team\"}'\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#configure-in-metabase","title":"Configure in Metabase","text":"<p>Use Metabase's User Groups to assign different database connections:</p> <ol> <li>Create group: \"Sales Team\"</li> <li>Add database connection with sales API key</li> <li>Assign users to group</li> <li>They automatically see only sales data</li> </ol>"},{"location":"integrations/bi-tools/metabase/#performance-optimization","title":"Performance Optimization","text":""},{"location":"integrations/bi-tools/metabase/#enable-caching","title":"Enable Caching","text":"<p>SetuPranali caches queries automatically when Redis is available:</p> <pre><code># docker-compose.yml\nservices:\n  setupranali:\n    environment:\n      - REDIS_URL=redis://redis:6379\n      - CACHE_TTL=300  # 5 minutes\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#metabase-query-caching","title":"Metabase Query Caching","text":"<p>Additionally, enable Metabase's caching:</p> <ol> <li>Admin \u2192 Settings \u2192 Caching</li> <li>Set Minimum Query Duration to cache</li> <li>Configure Cache TTL</li> </ol>"},{"location":"integrations/bi-tools/metabase/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/metabase/#connection-failed","title":"Connection Failed","text":"<pre><code># Test SetuPranali from Metabase container\ndocker exec metabase curl http://setupranali:8080/v1/health\n</code></pre>"},{"location":"integrations/bi-tools/metabase/#slow-queries","title":"Slow Queries","text":"<ol> <li> <p>Check SetuPranali caching:    <pre><code>curl http://localhost:8080/v1/health\n# Look for \"cache\": \"connected\"\n</code></pre></p> </li> <li> <p>Enable Metabase caching in Admin settings</p> </li> </ol>"},{"location":"integrations/bi-tools/metabase/#authentication-issues","title":"Authentication Issues","text":"<p>Verify API key: <pre><code>curl -H \"X-API-Key: your-key\" http://localhost:8080/v1/datasets\n</code></pre></p>"},{"location":"integrations/bi-tools/metabase/#example-dashboard","title":"Example Dashboard","text":""},{"location":"integrations/bi-tools/metabase/#sales-overview","title":"Sales Overview","text":"<ol> <li>Create Questions:</li> <li>Revenue by Month (line chart)</li> <li>Top Customers (bar chart)</li> <li> <p>Regional Breakdown (map)</p> </li> <li> <p>Combine into Dashboard</p> </li> <li>Add Filters (auto-applied via RLS)</li> <li>Share with team</li> </ol>"},{"location":"integrations/bi-tools/metabase/#next-steps","title":"Next Steps","text":"<ul> <li>Configure Row-Level Security</li> <li>Set Up Caching</li> <li>Multi-Tenant Setup</li> </ul>"},{"location":"integrations/bi-tools/mode/","title":"Mode Analytics","text":"<p>Connect Mode Analytics to SetuPranali for collaborative analytics with semantic layer support.</p>"},{"location":"integrations/bi-tools/mode/#overview","title":"Overview","text":"<p>Mode Analytics integration provides:</p> <ul> <li>REST API Connection: Query SetuPranali from Mode notebooks</li> <li>Python Integration: Use Python notebooks with SetuPranali SDK</li> <li>SQL Mode: Execute semantic queries via SQL endpoint</li> <li>Scheduled Reports: Automated report refresh</li> <li>Collaborative Analytics: Share analyses with your team</li> </ul>"},{"location":"integrations/bi-tools/mode/#prerequisites","title":"Prerequisites","text":"<ul> <li>Mode Analytics account (Business or Enterprise)</li> <li>SetuPranali server running and accessible</li> <li>API key for authentication</li> </ul>"},{"location":"integrations/bi-tools/mode/#connection-methods","title":"Connection Methods","text":""},{"location":"integrations/bi-tools/mode/#method-1-python-notebook-recommended","title":"Method 1: Python Notebook (Recommended)","text":"<p>Use Mode's Python notebooks with the SetuPranali SDK.</p>"},{"location":"integrations/bi-tools/mode/#method-2-custom-data-source","title":"Method 2: Custom Data Source","text":"<p>Configure SetuPranali as a custom database connection.</p>"},{"location":"integrations/bi-tools/mode/#method-3-api-integration","title":"Method 3: API Integration","text":"<p>Use Mode's API to fetch SetuPranali data programmatically.</p>"},{"location":"integrations/bi-tools/mode/#python-notebook-setup","title":"Python Notebook Setup","text":""},{"location":"integrations/bi-tools/mode/#step-1-install-sdk-in-mode","title":"Step 1: Install SDK in Mode","text":"<p>In a Mode Python notebook, install the SetuPranali SDK:</p> <pre><code># Install SetuPranali Python SDK\n!pip install setupranali\n\n# Or use requests directly\nimport requests\nimport pandas as pd\n</code></pre>"},{"location":"integrations/bi-tools/mode/#step-2-configure-connection","title":"Step 2: Configure Connection","text":"<pre><code>import os\nimport requests\nimport pandas as pd\n\n# Configuration\nSETUPRANALI_URL = \"https://your-server.com\"\nAPI_KEY = os.environ.get(\"SETUPRANALI_API_KEY\", \"your-api-key\")\n\n# Create session with authentication\nsession = requests.Session()\nsession.headers.update({\n    \"X-API-Key\": API_KEY,\n    \"Content-Type\": \"application/json\"\n})\n\ndef query_setupranali(dataset, dimensions, metrics, filters=None, limit=10000):\n    \"\"\"Query SetuPranali and return a DataFrame.\"\"\"\n    payload = {\n        \"dataset\": dataset,\n        \"dimensions\": dimensions,\n        \"metrics\": metrics,\n        \"filters\": filters or [],\n        \"limit\": limit\n    }\n\n    response = session.post(f\"{SETUPRANALI_URL}/v1/query\", json=payload)\n    response.raise_for_status()\n\n    data = response.json()\n    return pd.DataFrame(data.get(\"rows\", []))\n</code></pre>"},{"location":"integrations/bi-tools/mode/#step-3-query-data","title":"Step 3: Query Data","text":"<pre><code># Query orders by region\ndf = query_setupranali(\n    dataset=\"orders\",\n    dimensions=[\"region\", \"product_category\"],\n    metrics=[\"revenue\", \"order_count\"]\n)\n\n# Display results\ndf.head()\n</code></pre>"},{"location":"integrations/bi-tools/mode/#using-setupranali-sdk","title":"Using SetuPranali SDK","text":""},{"location":"integrations/bi-tools/mode/#installation","title":"Installation","text":"<pre><code>!pip install setupranali\n</code></pre>"},{"location":"integrations/bi-tools/mode/#basic-usage","title":"Basic Usage","text":"<pre><code>from setupranali import SetuPranaliClient\n\n# Initialize client\nclient = SetuPranaliClient(\n    url=\"https://your-server.com\",\n    api_key=\"your-api-key\"\n)\n\n# Query data\ndf = client.query(\n    dataset=\"orders\",\n    dimensions=[\"region\"],\n    metrics=[\"revenue\", \"order_count\"]\n)\n\n# Display in Mode\ndf\n</code></pre>"},{"location":"integrations/bi-tools/mode/#with-filters","title":"With Filters","text":"<pre><code>from datetime import datetime, timedelta\n\n# Last 30 days\nstart_date = (datetime.now() - timedelta(days=30)).strftime(\"%Y-%m-%d\")\n\ndf = client.query(\n    dataset=\"orders\",\n    dimensions=[\"order_date\", \"region\"],\n    metrics=[\"revenue\"],\n    filters=[\n        {\"dimension\": \"order_date\", \"operator\": \"gte\", \"value\": start_date}\n    ]\n)\n</code></pre>"},{"location":"integrations/bi-tools/mode/#sql-queries","title":"SQL Queries","text":"<pre><code># Execute SQL with RLS\ndf = client.sql(\n    sql=\"\"\"\n        SELECT \n            DATE_TRUNC('month', order_date) as month,\n            region,\n            SUM(amount) as revenue\n        FROM orders\n        WHERE order_date &gt;= '2024-01-01'\n        GROUP BY month, region\n        ORDER BY month\n    \"\"\",\n    dataset=\"orders\"\n)\n</code></pre>"},{"location":"integrations/bi-tools/mode/#complete-mode-report-example","title":"Complete Mode Report Example","text":""},{"location":"integrations/bi-tools/mode/#cell-1-setup","title":"Cell 1: Setup","text":"<pre><code>import requests\nimport pandas as pd\nimport numpy as np\nfrom datetime import datetime, timedelta\n\n# Configuration\nSETUPRANALI_URL = \"https://your-server.com\"\nAPI_KEY = \"your-api-key\"\n\nsession = requests.Session()\nsession.headers.update({\n    \"X-API-Key\": API_KEY,\n    \"Content-Type\": \"application/json\"\n})\n\ndef query(dataset, dimensions, metrics, filters=None, limit=10000):\n    response = session.post(\n        f\"{SETUPRANALI_URL}/v1/query\",\n        json={\n            \"dataset\": dataset,\n            \"dimensions\": dimensions,\n            \"metrics\": metrics,\n            \"filters\": filters or [],\n            \"limit\": limit\n        }\n    )\n    response.raise_for_status()\n    return pd.DataFrame(response.json().get(\"rows\", []))\n</code></pre>"},{"location":"integrations/bi-tools/mode/#cell-2-load-sales-data","title":"Cell 2: Load Sales Data","text":"<pre><code># Load sales data\nsales = query(\n    dataset=\"orders\",\n    dimensions=[\"order_date\", \"region\", \"product_category\"],\n    metrics=[\"revenue\", \"order_count\", \"avg_order_value\"],\n    filters=[\n        {\"dimension\": \"order_date\", \"operator\": \"gte\", \"value\": \"2024-01-01\"}\n    ]\n)\n\n# Convert date\nsales[\"order_date\"] = pd.to_datetime(sales[\"order_date\"])\n\nprint(f\"Loaded {len(sales)} rows\")\nsales.head()\n</code></pre>"},{"location":"integrations/bi-tools/mode/#cell-3-analysis","title":"Cell 3: Analysis","text":"<pre><code># Revenue by region\nregion_summary = sales.groupby(\"region\").agg({\n    \"revenue\": \"sum\",\n    \"order_count\": \"sum\"\n}).reset_index()\n\nregion_summary[\"avg_order_value\"] = region_summary[\"revenue\"] / region_summary[\"order_count\"]\nregion_summary = region_summary.sort_values(\"revenue\", ascending=False)\n\nregion_summary\n</code></pre>"},{"location":"integrations/bi-tools/mode/#cell-4-visualization","title":"Cell 4: Visualization","text":"<pre><code>import matplotlib.pyplot as plt\n\n# Revenue trend\ndaily_revenue = sales.groupby(\"order_date\")[\"revenue\"].sum().reset_index()\n\nplt.figure(figsize=(12, 6))\nplt.plot(daily_revenue[\"order_date\"], daily_revenue[\"revenue\"])\nplt.title(\"Daily Revenue Trend\")\nplt.xlabel(\"Date\")\nplt.ylabel(\"Revenue\")\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()\n</code></pre>"},{"location":"integrations/bi-tools/mode/#cell-5-export-for-mode-charts","title":"Cell 5: Export for Mode Charts","text":"<pre><code># Create datasets for Mode charts\n# These will be available in Mode's chart builder\n\n# Regional performance\ndatasets[\"regional_performance\"] = region_summary\n\n# Monthly trend\nmonthly = sales.groupby(sales[\"order_date\"].dt.to_period(\"M\")).agg({\n    \"revenue\": \"sum\",\n    \"order_count\": \"sum\"\n}).reset_index()\nmonthly[\"order_date\"] = monthly[\"order_date\"].astype(str)\ndatasets[\"monthly_trend\"] = monthly\n</code></pre>"},{"location":"integrations/bi-tools/mode/#environment-variables","title":"Environment Variables","text":"<p>Store credentials securely using Mode's environment variables:</p>"},{"location":"integrations/bi-tools/mode/#setup-in-mode","title":"Setup in Mode","text":"<ol> <li>Go to Workspace Settings &gt; Environment Variables</li> <li>Add variables:</li> <li><code>SETUPRANALI_URL</code>: Your SetuPranali server URL</li> <li><code>SETUPRANALI_API_KEY</code>: Your API key</li> </ol>"},{"location":"integrations/bi-tools/mode/#use-in-python","title":"Use in Python","text":"<pre><code>import os\n\nSETUPRANALI_URL = os.environ.get(\"SETUPRANALI_URL\")\nAPI_KEY = os.environ.get(\"SETUPRANALI_API_KEY\")\n</code></pre>"},{"location":"integrations/bi-tools/mode/#scheduled-reports","title":"Scheduled Reports","text":""},{"location":"integrations/bi-tools/mode/#setup-auto-refresh","title":"Setup Auto-Refresh","text":"<ol> <li>Create your Mode report with SetuPranali data</li> <li>Go to Report Settings &gt; Scheduled Runs</li> <li>Configure schedule (daily, weekly, etc.)</li> <li>Add email recipients</li> </ol>"},{"location":"integrations/bi-tools/mode/#example-schedule","title":"Example Schedule","text":"<pre><code>Schedule: Daily at 8:00 AM\nRecipients: analytics-team@company.com\nSlack: #daily-metrics channel\n</code></pre>"},{"location":"integrations/bi-tools/mode/#multi-dataset-analysis","title":"Multi-Dataset Analysis","text":""},{"location":"integrations/bi-tools/mode/#load-multiple-datasets","title":"Load Multiple Datasets","text":"<pre><code># Load orders\norders = query(\n    dataset=\"orders\",\n    dimensions=[\"order_id\", \"customer_id\", \"region\"],\n    metrics=[\"revenue\"]\n)\n\n# Load customers\ncustomers = query(\n    dataset=\"customers\",\n    dimensions=[\"customer_id\", \"name\", \"segment\"],\n    metrics=[]\n)\n\n# Join datasets\nmerged = orders.merge(customers, on=\"customer_id\", how=\"left\")\n\n# Analysis by segment\nsegment_analysis = merged.groupby(\"segment\").agg({\n    \"revenue\": [\"sum\", \"mean\", \"count\"]\n}).reset_index()\nsegment_analysis.columns = [\"segment\", \"total_revenue\", \"avg_revenue\", \"order_count\"]\nsegment_analysis\n</code></pre>"},{"location":"integrations/bi-tools/mode/#natural-language-queries","title":"Natural Language Queries","text":"<p>Use SetuPranali's NLQ endpoint in Mode:</p> <pre><code>def nlq_query(question, dataset):\n    \"\"\"Query using natural language.\"\"\"\n    response = session.post(\n        f\"{SETUPRANALI_URL}/v1/nlq\",\n        json={\n            \"question\": question,\n            \"dataset\": dataset\n        }\n    )\n    response.raise_for_status()\n    return pd.DataFrame(response.json().get(\"rows\", []))\n\n# Ask questions in natural language\ndf = nlq_query(\n    question=\"What are the top 10 regions by revenue this month?\",\n    dataset=\"orders\"\n)\ndf\n</code></pre>"},{"location":"integrations/bi-tools/mode/#graphql-queries","title":"GraphQL Queries","text":"<pre><code>def graphql_query(query_string):\n    \"\"\"Execute GraphQL query.\"\"\"\n    response = session.post(\n        f\"{SETUPRANALI_URL}/v1/graphql\",\n        json={\"query\": query_string}\n    )\n    response.raise_for_status()\n    return response.json()\n\n# GraphQL query\nresult = graphql_query(\"\"\"\n{\n    query(\n        dataset: \"orders\",\n        dimensions: [\"region\"],\n        metrics: [\"revenue\"]\n    ) {\n        rows\n        columns\n    }\n}\n\"\"\")\n\ndf = pd.DataFrame(result[\"data\"][\"query\"][\"rows\"])\n</code></pre>"},{"location":"integrations/bi-tools/mode/#error-handling","title":"Error Handling","text":"<pre><code>import logging\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\ndef safe_query(dataset, dimensions, metrics, filters=None, retries=3):\n    \"\"\"Query with retry logic.\"\"\"\n    for attempt in range(retries):\n        try:\n            return query(dataset, dimensions, metrics, filters)\n        except requests.exceptions.RequestException as e:\n            logger.warning(f\"Attempt {attempt + 1} failed: {e}\")\n            if attempt == retries - 1:\n                raise\n            time.sleep(2 ** attempt)  # Exponential backoff\n\n# Use safe query\ntry:\n    df = safe_query(\"orders\", [\"region\"], [\"revenue\"])\nexcept Exception as e:\n    logger.error(f\"Query failed: {e}\")\n    df = pd.DataFrame()  # Empty fallback\n</code></pre>"},{"location":"integrations/bi-tools/mode/#performance-tips","title":"Performance Tips","text":""},{"location":"integrations/bi-tools/mode/#1-use-filters-early","title":"1. Use Filters Early","text":"<pre><code># Filter at the source\ndf = query(\n    dataset=\"orders\",\n    dimensions=[\"region\"],\n    metrics=[\"revenue\"],\n    filters=[\n        {\"dimension\": \"order_date\", \"operator\": \"gte\", \"value\": \"2024-01-01\"}\n    ]\n)\n</code></pre>"},{"location":"integrations/bi-tools/mode/#2-limit-results","title":"2. Limit Results","text":"<pre><code># Only fetch what you need\ndf = query(..., limit=10000)\n</code></pre>"},{"location":"integrations/bi-tools/mode/#3-cache-results","title":"3. Cache Results","text":"<pre><code># Cache expensive queries\nfrom functools import lru_cache\n\n@lru_cache(maxsize=100)\ndef cached_query(dataset, dimensions_tuple, metrics_tuple):\n    return query(dataset, list(dimensions_tuple), list(metrics_tuple))\n</code></pre>"},{"location":"integrations/bi-tools/mode/#4-use-aggregations","title":"4. Use Aggregations","text":"<p>Let SetuPranali handle aggregations instead of pandas:</p> <pre><code># Good: Aggregate in SetuPranali\ndf = query(\n    dataset=\"orders\",\n    dimensions=[\"region\"],\n    metrics=[\"revenue\"]  # SUM(amount) done server-side\n)\n\n# Avoid: Fetching raw rows and aggregating in Python\n</code></pre>"},{"location":"integrations/bi-tools/mode/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/mode/#connection-failed","title":"Connection Failed","text":"<p>Error: <code>ConnectionError: Unable to connect</code></p> <p>Solutions: 1. Verify SetuPranali URL is accessible from Mode 2. Check firewall/network settings 3. Verify HTTPS is properly configured</p>"},{"location":"integrations/bi-tools/mode/#authentication-error","title":"Authentication Error","text":"<p>Error: <code>401 Unauthorized</code></p> <p>Solutions: 1. Verify API key is correct 2. Check API key has dataset access 3. Ensure header is <code>X-API-Key</code></p>"},{"location":"integrations/bi-tools/mode/#timeout-error","title":"Timeout Error","text":"<p>Error: <code>ReadTimeout</code></p> <p>Solutions: 1. Add filters to reduce data volume 2. Reduce limit parameter 3. Use aggregations instead of raw data</p>"},{"location":"integrations/bi-tools/mode/#no-data-returned","title":"No Data Returned","text":"<p>Solutions: 1. Verify dataset name is correct 2. Check dimensions and metrics exist 3. Review filter conditions 4. Test query in SetuPranali directly</p>"},{"location":"integrations/bi-tools/mode/#security-best-practices","title":"Security Best Practices","text":""},{"location":"integrations/bi-tools/mode/#1-use-environment-variables","title":"1. Use Environment Variables","text":"<p>Never hardcode API keys:</p> <pre><code>API_KEY = os.environ.get(\"SETUPRANALI_API_KEY\")\nif not API_KEY:\n    raise ValueError(\"API key not configured\")\n</code></pre>"},{"location":"integrations/bi-tools/mode/#2-row-level-security","title":"2. Row-Level Security","text":"<p>SetuPranali enforces RLS automatically - each API key only sees authorized data.</p>"},{"location":"integrations/bi-tools/mode/#3-read-only-access","title":"3. Read-Only Access","text":"<p>Use read-only API keys for Mode:</p> <pre><code># API key configuration\nscopes:\n  - read:datasets\n  - query:execute\n</code></pre>"},{"location":"integrations/bi-tools/mode/#example-dashboards","title":"Example Dashboards","text":""},{"location":"integrations/bi-tools/mode/#executive-summary","title":"Executive Summary","text":"<pre><code># KPIs\ntotal_revenue = query(\"orders\", [], [\"revenue\"]).iloc[0][\"revenue\"]\ntotal_orders = query(\"orders\", [], [\"order_count\"]).iloc[0][\"order_count\"]\navg_order_value = total_revenue / total_orders\n\nprint(f\"\"\"\nExecutive Summary\n=================\nTotal Revenue: ${total_revenue:,.2f}\nTotal Orders: {total_orders:,}\nAvg Order Value: ${avg_order_value:.2f}\n\"\"\")\n\n# Regional breakdown\ndatasets[\"regional_kpis\"] = query(\n    \"orders\",\n    [\"region\"],\n    [\"revenue\", \"order_count\"]\n)\n</code></pre>"},{"location":"integrations/bi-tools/mode/#resources","title":"Resources","text":"<ul> <li>Mode Python Documentation</li> <li>Mode API Reference</li> <li>SetuPranali API Reference</li> <li>SetuPranali Python SDK</li> </ul>"},{"location":"integrations/bi-tools/powerbi/","title":"Power BI","text":"<p>Connect Power BI to SetuPranali using OData.</p>"},{"location":"integrations/bi-tools/powerbi/#overview","title":"Overview","text":"<p>Power BI connects natively via OData\u2014no custom connector required.</p> <pre><code>Power BI \u2192 OData \u2192 SetuPranali \u2192 Your Data\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#quick-start","title":"Quick Start","text":""},{"location":"integrations/bi-tools/powerbi/#step-1-get-data","title":"Step 1: Get Data","text":"<ol> <li>Open Power BI Desktop</li> <li>Click Get Data \u2192 OData Feed</li> </ol>"},{"location":"integrations/bi-tools/powerbi/#step-2-enter-url","title":"Step 2: Enter URL","text":"<pre><code>http://localhost:8080/odata/sales\n</code></pre> <p>Replace <code>sales</code> with your dataset name.</p>"},{"location":"integrations/bi-tools/powerbi/#step-3-configure-authentication","title":"Step 3: Configure Authentication","text":"<ol> <li>Select Advanced</li> <li>Add HTTP header:</li> <li>Name: <code>X-API-Key</code></li> <li>Value: <code>your-api-key</code></li> <li>Click OK</li> </ol>"},{"location":"integrations/bi-tools/powerbi/#step-4-load-data","title":"Step 4: Load Data","text":"<p>Select tables and click Load.</p>"},{"location":"integrations/bi-tools/powerbi/#odata-urls","title":"OData URLs","text":""},{"location":"integrations/bi-tools/powerbi/#service-document","title":"Service Document","text":"<p>Lists all available datasets:</p> <pre><code>http://localhost:8080/odata\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#dataset-data","title":"Dataset Data","text":"<p>Query a specific dataset:</p> <pre><code>http://localhost:8080/odata/{dataset}\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#metadata","title":"Metadata","text":"<p>Get schema information:</p> <pre><code>http://localhost:8080/odata/{dataset}/$metadata\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#query-options","title":"Query Options","text":""},{"location":"integrations/bi-tools/powerbi/#select-columns","title":"Select Columns","text":"<pre><code>/odata/sales?$select=region,revenue,orders\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#filter-data","title":"Filter Data","text":"<pre><code>/odata/sales?$filter=region eq 'North'\n/odata/sales?$filter=revenue gt 10000\n/odata/sales?$filter=order_date ge 2024-01-01\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#order-results","title":"Order Results","text":"<pre><code>/odata/sales?$orderby=revenue desc\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#limit-rows","title":"Limit Rows","text":"<pre><code>/odata/sales?$top=100\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#combined","title":"Combined","text":"<pre><code>/odata/sales?$select=region,revenue&amp;$filter=revenue gt 10000&amp;$orderby=revenue desc&amp;$top=10\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#incremental-refresh","title":"Incremental Refresh","text":"<p>Power BI can load only new data using incremental refresh.</p>"},{"location":"integrations/bi-tools/powerbi/#step-1-create-parameters","title":"Step 1: Create Parameters","text":"<p>In Power Query, create:</p> <ol> <li>RangeStart (Date/Time)</li> <li>RangeEnd (Date/Time)</li> </ol>"},{"location":"integrations/bi-tools/powerbi/#step-2-filter-by-parameters","title":"Step 2: Filter by Parameters","text":"<pre><code>let\n    Source = OData.Feed(\"http://localhost:8080/odata/sales\"),\n    Filtered = Table.SelectRows(Source, each \n        [order_date] &gt;= RangeStart and \n        [order_date] &lt; RangeEnd\n    )\nin\n    Filtered\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#step-3-configure-policy","title":"Step 3: Configure Policy","text":"<ol> <li>Right-click dataset</li> <li>Select Incremental refresh</li> <li>Configure:</li> <li>Archive data: 3 years</li> <li>Incrementally refresh: 7 days</li> </ol>"},{"location":"integrations/bi-tools/powerbi/#step-4-publish","title":"Step 4: Publish","text":"<p>Publish to Power BI Service. Incremental refresh only works in the service.</p>"},{"location":"integrations/bi-tools/powerbi/#row-level-security","title":"Row-Level Security","text":"<p>RLS is handled by SetuPranali, not Power BI.</p>"},{"location":"integrations/bi-tools/powerbi/#how-it-works","title":"How It Works","text":"<ol> <li>User connects with their API key</li> <li>API key has tenant context</li> <li>Connector filters data automatically</li> </ol>"},{"location":"integrations/bi-tools/powerbi/#example","title":"Example","text":"<p>API key <code>pk_acme_abc123</code> belongs to tenant <code>acme_corp</code>:</p> <pre><code>User queries /odata/sales\n\u2192 Connector adds: WHERE tenant_id = 'acme_corp'\n\u2192 User only sees their data\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#power-bi-service","title":"Power BI Service","text":""},{"location":"integrations/bi-tools/powerbi/#gateway-not-required","title":"Gateway Not Required","text":"<p>For cloud-accessible deployments, no gateway needed:</p> <pre><code>Power BI Service \u2192 Internet \u2192 Your Connector\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#with-on-premises-gateway","title":"With On-Premises Gateway","text":"<p>If connector is behind firewall:</p> <ol> <li>Install On-Premises Data Gateway</li> <li>Configure OData source</li> <li>Add API key to gateway configuration</li> </ol>"},{"location":"integrations/bi-tools/powerbi/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/powerbi/#unable-to-connect","title":"\"Unable to connect\"","text":"<p>Causes: - Wrong URL - Server not running - Network issues</p> <p>Solutions: <pre><code># Test from terminal\ncurl http://localhost:8080/odata/sales \\\n  -H \"X-API-Key: your-api-key\"\n</code></pre></p>"},{"location":"integrations/bi-tools/powerbi/#access-denied","title":"\"Access denied\"","text":"<p>Causes: - Invalid API key - Missing X-API-Key header</p> <p>Solutions: 1. Verify API key is correct 2. Ensure header is configured properly 3. Test with curl first</p>"},{"location":"integrations/bi-tools/powerbi/#no-data","title":"\"No data\"","text":"<p>Causes: - RLS filtering all rows - Empty dataset - Wrong dataset name</p> <p>Solutions: 1. Check API key tenant has data 2. Verify dataset name 3. Test without filters</p>"},{"location":"integrations/bi-tools/powerbi/#refresh-failed","title":"\"Refresh failed\"","text":"<p>Causes: - Credentials expired - Server unavailable - Rate limited</p> <p>Solutions: 1. Check connector logs 2. Verify server is running 3. Check rate limit settings</p>"},{"location":"integrations/bi-tools/powerbi/#best-practices","title":"Best Practices","text":""},{"location":"integrations/bi-tools/powerbi/#1-use-incremental-refresh","title":"1. Use Incremental Refresh","text":"<p>For large datasets, always use incremental refresh: - Faster refresh times - Lower database load - Reduced costs</p>"},{"location":"integrations/bi-tools/powerbi/#2-select-needed-columns","title":"2. Select Needed Columns","text":"<p>Don't load all columns:</p> <pre><code>// Good: Select specific columns\nSource = OData.Feed(\"http://server/odata/sales?$select=region,revenue\")\n\n// Avoid: Loading everything\nSource = OData.Feed(\"http://server/odata/sales\")\n</code></pre>"},{"location":"integrations/bi-tools/powerbi/#3-schedule-off-peak","title":"3. Schedule Off-Peak","text":"<p>Schedule refreshes during off-peak hours: - Less contention - Better performance - Lower costs</p>"},{"location":"integrations/bi-tools/powerbi/#4-monitor-refresh-history","title":"4. Monitor Refresh History","text":"<p>Regularly check: - Refresh duration - Row counts - Error messages</p>"},{"location":"integrations/bi-tools/qlik/","title":"Qlik Sense","text":"<p>Connect Qlik Sense to SetuPranali using the REST connector for semantic layer analytics.</p>"},{"location":"integrations/bi-tools/qlik/#overview","title":"Overview","text":"<p>Qlik Sense integration provides:</p> <ul> <li>REST Connector: Native Qlik REST connector support</li> <li>Semantic Queries: Query datasets with dimensions and metrics</li> <li>Row-Level Security: Automatic tenant isolation</li> <li>Incremental Refresh: Efficient data loading</li> <li>Real-time Dashboards: Live connection support</li> </ul>"},{"location":"integrations/bi-tools/qlik/#prerequisites","title":"Prerequisites","text":"<ul> <li>Qlik Sense Desktop, Enterprise, or Cloud</li> <li>SetuPranali server running and accessible</li> <li>API key for authentication</li> </ul>"},{"location":"integrations/bi-tools/qlik/#connection-methods","title":"Connection Methods","text":""},{"location":"integrations/bi-tools/qlik/#method-1-rest-connector-recommended","title":"Method 1: REST Connector (Recommended)","text":"<p>Use Qlik's built-in REST connector for full control.</p>"},{"location":"integrations/bi-tools/qlik/#method-2-web-file-connector","title":"Method 2: Web File Connector","text":"<p>For simpler use cases with JSON/CSV endpoints.</p>"},{"location":"integrations/bi-tools/qlik/#method-3-qlik-application-automation","title":"Method 3: Qlik Application Automation","text":"<p>For automated data pipelines.</p>"},{"location":"integrations/bi-tools/qlik/#rest-connector-setup","title":"REST Connector Setup","text":""},{"location":"integrations/bi-tools/qlik/#step-1-create-new-connection","title":"Step 1: Create New Connection","text":"<ol> <li>Open Qlik Sense</li> <li>Go to Data Manager or Data Load Editor</li> <li>Click Create new connection</li> <li>Select REST</li> </ol>"},{"location":"integrations/bi-tools/qlik/#step-2-configure-connection","title":"Step 2: Configure Connection","text":"Setting Value URL <code>http://your-server:8080/v1/query</code> Method <code>POST</code> Request Headers <code>Content-Type: application/json</code> Request Headers <code>X-API-Key: your-api-key</code>"},{"location":"integrations/bi-tools/qlik/#step-3-configure-request-body","title":"Step 3: Configure Request Body","text":"<pre><code>{\n  \"dataset\": \"orders\",\n  \"dimensions\": [\"region\", \"product_category\"],\n  \"metrics\": [\"revenue\", \"order_count\"],\n  \"limit\": 10000\n}\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#step-4-test-connection","title":"Step 4: Test Connection","text":"<p>Click Test Connection to verify.</p>"},{"location":"integrations/bi-tools/qlik/#data-load-script","title":"Data Load Script","text":""},{"location":"integrations/bi-tools/qlik/#basic-query","title":"Basic Query","text":"<pre><code>LET vApiKey = 'your-api-key';\nLET vBaseUrl = 'http://localhost:8080';\n\nRestConnectorMasterTable:\nSQL SELECT \n    \"region\",\n    \"product_category\",\n    \"revenue\",\n    \"order_count\"\nFROM JSON (wrap on) \"root\"\nWITH CONNECTION (\n    URL \"$(vBaseUrl)/v1/query\",\n    HTTPHEADER \"Content-Type\" \"application/json\",\n    HTTPHEADER \"X-API-Key\" \"$(vApiKey)\",\n    BODY \"{\"\"dataset\"\":\"\"orders\"\",\"\"dimensions\"\":[\"\"region\"\",\"\"product_category\"\"],\"\"metrics\"\":[\"\"revenue\"\",\"\"order_count\"\"],\"\"limit\"\":10000}\"\n);\n\nOrders:\nLOAD\n    region,\n    product_category,\n    revenue,\n    order_count\nRESIDENT RestConnectorMasterTable;\n\nDROP TABLE RestConnectorMasterTable;\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#with-date-filters","title":"With Date Filters","text":"<pre><code>LET vStartDate = Date(Today()-30, 'YYYY-MM-DD');\nLET vEndDate = Date(Today(), 'YYYY-MM-DD');\n\nRestConnectorMasterTable:\nSQL SELECT \n    \"order_date\",\n    \"region\",\n    \"revenue\"\nFROM JSON (wrap on) \"root\"\nWITH CONNECTION (\n    URL \"$(vBaseUrl)/v1/query\",\n    HTTPHEADER \"Content-Type\" \"application/json\",\n    HTTPHEADER \"X-API-Key\" \"$(vApiKey)\",\n    BODY \"{\"\"dataset\"\":\"\"orders\"\",\"\"dimensions\"\":[\"\"order_date\"\",\"\"region\"\"],\"\"metrics\"\":[\"\"revenue\"\"],\"\"filters\"\":[{\"\"dimension\"\":\"\"order_date\"\",\"\"operator\"\":\"\"gte\"\",\"\"value\"\":\"\"$(vStartDate)\"\"},{\"\"dimension\"\":\"\"order_date\"\",\"\"operator\"\":\"\"lte\"\",\"\"value\"\":\"\"$(vEndDate)\"\"}],\"\"limit\"\":50000}\"\n);\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#multiple-datasets","title":"Multiple Datasets","text":"<pre><code>// Load Orders\nOrders:\nSQL SELECT *\nFROM JSON (wrap on) \"root\"\nWITH CONNECTION (\n    URL \"$(vBaseUrl)/v1/query\",\n    HTTPHEADER \"Content-Type\" \"application/json\",\n    HTTPHEADER \"X-API-Key\" \"$(vApiKey)\",\n    BODY \"{\"\"dataset\"\":\"\"orders\"\",\"\"dimensions\"\":[\"\"order_id\"\",\"\"customer_id\"\",\"\"region\"\"],\"\"metrics\"\":[\"\"revenue\"\"],\"\"limit\"\":100000}\"\n);\n\n// Load Customers\nCustomers:\nSQL SELECT *\nFROM JSON (wrap on) \"root\"\nWITH CONNECTION (\n    URL \"$(vBaseUrl)/v1/query\",\n    HTTPHEADER \"Content-Type\" \"application/json\",\n    HTTPHEADER \"X-API-Key\" \"$(vApiKey)\",\n    BODY \"{\"\"dataset\"\":\"\"customers\"\",\"\"dimensions\"\":[\"\"customer_id\"\",\"\"name\"\",\"\"segment\"\"],\"\"metrics\"\":[],\"\"limit\"\":50000}\"\n);\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#sql-endpoint","title":"SQL Endpoint","text":"<p>For raw SQL queries with RLS:</p> <pre><code>RestConnectorMasterTable:\nSQL SELECT *\nFROM JSON (wrap on) \"root\"\nWITH CONNECTION (\n    URL \"$(vBaseUrl)/v1/sql\",\n    HTTPHEADER \"Content-Type\" \"application/json\",\n    HTTPHEADER \"X-API-Key\" \"$(vApiKey)\",\n    BODY \"{\"\"sql\"\":\"\"SELECT region, DATE_TRUNC('month', order_date) as month, SUM(amount) as revenue FROM orders GROUP BY region, month ORDER BY month\"\",\"\"dataset\"\":\"\"orders\"\"}\"\n);\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#qlik-cloud-setup","title":"Qlik Cloud Setup","text":""},{"location":"integrations/bi-tools/qlik/#1-create-generic-rest-connection","title":"1. Create Generic REST Connection","text":"<ol> <li>Go to Data Integration &gt; Data Connections</li> <li>Click Create Connection</li> <li>Select REST</li> <li>Configure:</li> </ol> <pre><code>Name: SetuPranali\nURL: https://your-server.com/v1/query\nAuthentication: API Key Header\nHeader Name: X-API-Key\nHeader Value: your-api-key\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#2-create-space-connection","title":"2. Create Space Connection","text":"<p>For scheduled refreshes:</p> <ol> <li>Go to Space Settings</li> <li>Add Data Connection</li> <li>Select your REST connection</li> </ol>"},{"location":"integrations/bi-tools/qlik/#incremental-load","title":"Incremental Load","text":""},{"location":"integrations/bi-tools/qlik/#with-timestamp-field","title":"With Timestamp Field","text":"<pre><code>// Store last load time\nLET vLastLoad = Peek('LastLoadTime', 0, 'LoadHistory');\nIF IsNull(vLastLoad) THEN\n    LET vLastLoad = '2020-01-01';\nEND IF\n\n// Incremental load\nIncrementalOrders:\nSQL SELECT *\nFROM JSON (wrap on) \"root\"\nWITH CONNECTION (\n    URL \"$(vBaseUrl)/v1/query\",\n    HTTPHEADER \"Content-Type\" \"application/json\",\n    HTTPHEADER \"X-API-Key\" \"$(vApiKey)\",\n    BODY \"{\"\"dataset\"\":\"\"orders\"\",\"\"dimensions\"\":[\"\"order_id\"\",\"\"order_date\"\",\"\"region\"\"],\"\"metrics\"\":[\"\"revenue\"\"],\"\"filters\"\":[{\"\"dimension\"\":\"\"updated_at\"\",\"\"operator\"\":\"\"gt\"\",\"\"value\"\":\"\"$(vLastLoad)\"\"}],\"\"limit\"\":100000}\"\n);\n\n// Concatenate to existing data\nConcatenate(Orders)\nLOAD * RESIDENT IncrementalOrders;\nDROP TABLE IncrementalOrders;\n\n// Update load history\nLoadHistory:\nLOAD Now() as LastLoadTime AutoGenerate 1;\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#variables-and-parameters","title":"Variables and Parameters","text":""},{"location":"integrations/bi-tools/qlik/#dynamic-dataset-selection","title":"Dynamic Dataset Selection","text":"<pre><code>// Variable for dataset\nSET vDataset = 'orders';\n\nRestConnectorMasterTable:\nSQL SELECT *\nFROM JSON (wrap on) \"root\"\nWITH CONNECTION (\n    URL \"$(vBaseUrl)/v1/query\",\n    HTTPHEADER \"Content-Type\" \"application/json\",\n    HTTPHEADER \"X-API-Key\" \"$(vApiKey)\",\n    BODY \"{\"\"dataset\"\":\"\"$(vDataset)\"\",\"\"dimensions\"\":[\"\"region\"\"],\"\"metrics\"\":[\"\"revenue\"\"],\"\"limit\"\":10000}\"\n);\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#user-based-filtering","title":"User-Based Filtering","text":"<pre><code>// Get Qlik user for RLS\nLET vUser = OSUser();\n\n// SetuPranali handles RLS via API key\n// Each tenant should have their own API key\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#performance-optimization","title":"Performance Optimization","text":""},{"location":"integrations/bi-tools/qlik/#1-limit-data-volume","title":"1. Limit Data Volume","text":"<pre><code>// Only load necessary fields\nBODY \"{\"\"dataset\"\":\"\"orders\"\",\"\"dimensions\"\":[\"\"region\"\"],\"\"metrics\"\":[\"\"revenue\"\"],\"\"limit\"\":10000}\"\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#2-use-filters","title":"2. Use Filters","text":"<pre><code>// Filter at source\n\"\"filters\"\":[{\"\"dimension\"\":\"\"order_date\"\",\"\"operator\"\":\"\"gte\"\",\"\"value\"\":\"\"2024-01-01\"\"}]\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#3-enable-caching","title":"3. Enable Caching","text":"<p>SetuPranali caches query results - subsequent loads are faster.</p>"},{"location":"integrations/bi-tools/qlik/#4-schedule-off-peak","title":"4. Schedule Off-Peak","text":"<p>Use Qlik's scheduling for off-peak data refresh.</p>"},{"location":"integrations/bi-tools/qlik/#5-incremental-loads","title":"5. Incremental Loads","text":"<p>Only load new/changed data:</p> <pre><code>WHERE updated_at &gt; '$(vLastLoad)'\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#error-handling","title":"Error Handling","text":""},{"location":"integrations/bi-tools/qlik/#check-connection-status","title":"Check Connection Status","text":"<pre><code>// Test connection first\nLET vTestUrl = '$(vBaseUrl)/v1/health';\n\nTestConnection:\nLOAD\n    status\nFROM [$(vTestUrl)]\n(txt, codepage is 28591, embedded labels, delimiter is ',', msq);\n\nLET vStatus = Peek('status', 0, 'TestConnection');\nIF '$(vStatus)' &lt;&gt; 'healthy' THEN\n    TRACE 'SetuPranali connection failed!';\n    EXIT Script;\nEND IF\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#retry-logic","title":"Retry Logic","text":"<pre><code>// Simple retry with error handling\nFOR vRetry = 1 to 3\n    SET ErrorMode = 0;\n\n    Orders:\n    SQL SELECT *\n    FROM JSON (wrap on) \"root\"\n    WITH CONNECTION (...);\n\n    IF ScriptError = 0 THEN\n        EXIT FOR;\n    END IF\n\n    SLEEP 5000;\nNEXT\nSET ErrorMode = 1;\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/qlik/#connection-failed","title":"Connection Failed","text":"<p>Error: <code>Unable to connect to REST endpoint</code></p> <p>Solutions: 1. Verify SetuPranali server is running 2. Check URL is accessible from Qlik server 3. Verify firewall allows connection 4. Check API key is correct</p>"},{"location":"integrations/bi-tools/qlik/#authentication-error","title":"Authentication Error","text":"<p>Error: <code>401 Unauthorized</code></p> <p>Solutions: 1. Verify API key is valid 2. Check header name is <code>X-API-Key</code> 3. Ensure API key has dataset access</p>"},{"location":"integrations/bi-tools/qlik/#json-parse-error","title":"JSON Parse Error","text":"<p>Error: <code>Unable to parse JSON response</code></p> <p>Solutions: 1. Use <code>JSON (wrap on)</code> option 2. Check response format matches expected schema 3. Verify dataset exists</p>"},{"location":"integrations/bi-tools/qlik/#timeout-error","title":"Timeout Error","text":"<p>Error: <code>Connection timeout</code></p> <p>Solutions: 1. Reduce <code>limit</code> parameter 2. Add filters to reduce data volume 3. Increase Qlik timeout settings 4. Check SetuPranali server performance</p>"},{"location":"integrations/bi-tools/qlik/#no-data-returned","title":"No Data Returned","text":"<p>Solutions: 1. Verify dataset name is correct 2. Check dimensions and metrics exist 3. Review filter conditions 4. Test query in SetuPranali directly</p>"},{"location":"integrations/bi-tools/qlik/#security","title":"Security","text":""},{"location":"integrations/bi-tools/qlik/#api-key-management","title":"API Key Management","text":"<p>Store API keys securely:</p> <pre><code>// Use data connection for credentials\n// Or environment variables\nLET vApiKey = GetEnvironmentVariable('SETUPRANALI_API_KEY');\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#row-level-security","title":"Row-Level Security","text":"<p>SetuPranali enforces RLS automatically based on API key:</p> <pre><code># catalog.yaml\ndatasets:\n  - id: orders\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre> <p>Each tenant's API key only returns their data.</p>"},{"location":"integrations/bi-tools/qlik/#example-dashboard","title":"Example Dashboard","text":""},{"location":"integrations/bi-tools/qlik/#sales-analysis-app","title":"Sales Analysis App","text":"<pre><code>// Load Script\nSET ThousandSep=',';\nSET DecimalSep='.';\n\nLET vApiKey = 'your-api-key';\nLET vBaseUrl = 'http://localhost:8080';\n\n// Sales Data\nSales:\nLOAD\n    order_date,\n    region,\n    product_category,\n    revenue,\n    order_count\n;\nSQL SELECT *\nFROM JSON (wrap on) \"root\"\nWITH CONNECTION (\n    URL \"$(vBaseUrl)/v1/query\",\n    HTTPHEADER \"Content-Type\" \"application/json\",\n    HTTPHEADER \"X-API-Key\" \"$(vApiKey)\",\n    BODY \"{\"\"dataset\"\":\"\"orders\"\",\"\"dimensions\"\":[\"\"order_date\"\",\"\"region\"\",\"\"product_category\"\"],\"\"metrics\"\":[\"\"revenue\"\",\"\"order_count\"\"],\"\"limit\"\":100000}\"\n);\n\n// Create calculated fields\nSalesEnriched:\nLOAD\n    *,\n    Year(order_date) as Year,\n    Month(order_date) as Month,\n    revenue / order_count as AvgOrderValue\nRESIDENT Sales;\nDROP TABLE Sales;\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#qlik-application-automation","title":"Qlik Application Automation","text":""},{"location":"integrations/bi-tools/qlik/#automated-data-pipeline","title":"Automated Data Pipeline","text":"<pre><code># qlik-automation.yaml\nname: SetuPranali Daily Refresh\ntrigger:\n  schedule: \"0 6 * * *\"  # 6 AM daily\n\nactions:\n  - type: reload_app\n    app_id: \"your-app-id\"\n\n  - type: notify\n    channel: slack\n    message: \"SetuPranali data refreshed successfully\"\n</code></pre>"},{"location":"integrations/bi-tools/qlik/#resources","title":"Resources","text":"<ul> <li>Qlik REST Connector Documentation</li> <li>SetuPranali API Reference</li> <li>Qlik Script Syntax</li> </ul>"},{"location":"integrations/bi-tools/rest-api/","title":"REST API","text":"<p>Connect any tool to SetuPranali via REST API.</p>"},{"location":"integrations/bi-tools/rest-api/#overview","title":"Overview","text":"<p>The REST API provides universal access:</p> <pre><code>Any Tool \u2192 REST API \u2192 SetuPranali \u2192 Your Data\n</code></pre> <p>Works with: - Custom applications - Scripts (Python, Node.js, etc.) - Looker Studio - Metabase - Any HTTP client</p>"},{"location":"integrations/bi-tools/rest-api/#quick-start","title":"Quick Start","text":""},{"location":"integrations/bi-tools/rest-api/#query-data","title":"Query Data","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-api-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\", \"orders\"]\n  }'\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#response","title":"Response","text":"<pre><code>{\n  \"columns\": [\n    {\"name\": \"region\", \"type\": \"string\"},\n    {\"name\": \"revenue\", \"type\": \"number\"},\n    {\"name\": \"orders\", \"type\": \"number\"}\n  ],\n  \"rows\": [\n    [\"North\", 125000.00, 342],\n    [\"South\", 89000.00, 156]\n  ],\n  \"stats\": {\n    \"rowCount\": 2,\n    \"executionTimeMs\": 45,\n    \"cached\": false\n  }\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#authentication","title":"Authentication","text":"<p>Include API key in header:</p> <pre><code>-H \"X-API-Key: your-api-key\"\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#query-parameters","title":"Query Parameters","text":""},{"location":"integrations/bi-tools/rest-api/#dimensions","title":"Dimensions","text":"<p>Group-by columns:</p> <pre><code>{\n  \"dimensions\": [\"region\", \"product\"]\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#metrics","title":"Metrics","text":"<p>Aggregated values:</p> <pre><code>{\n  \"metrics\": [\"revenue\", \"orders\"]\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#filters","title":"Filters","text":"<pre><code>{\n  \"filters\": [\n    {\"field\": \"region\", \"op\": \"=\", \"value\": \"North\"},\n    {\"field\": \"revenue\", \"op\": \"&gt;\", \"value\": 10000}\n  ]\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#operators","title":"Operators","text":"Operator Description <code>=</code> Equals <code>!=</code> Not equals <code>&gt;</code> Greater than <code>&gt;=</code> Greater or equal <code>&lt;</code> Less than <code>&lt;=</code> Less or equal <code>in</code> In list <code>like</code> Pattern match"},{"location":"integrations/bi-tools/rest-api/#sorting","title":"Sorting","text":"<pre><code>{\n  \"orderBy\": [\n    {\"field\": \"revenue\", \"direction\": \"desc\"}\n  ]\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#limit","title":"Limit","text":"<pre><code>{\n  \"limit\": 100\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#language-examples","title":"Language Examples","text":""},{"location":"integrations/bi-tools/rest-api/#python","title":"Python","text":"<pre><code>import requests\n\nresponse = requests.post(\n    \"http://localhost:8080/v1/query\",\n    headers={\n        \"X-API-Key\": \"your-api-key\",\n        \"Content-Type\": \"application/json\"\n    },\n    json={\n        \"dataset\": \"sales\",\n        \"dimensions\": [\"region\"],\n        \"metrics\": [\"revenue\", \"orders\"]\n    }\n)\n\ndata = response.json()\n\n# Convert to DataFrame\nimport pandas as pd\ndf = pd.DataFrame(\n    data[\"rows\"],\n    columns=[c[\"name\"] for c in data[\"columns\"]]\n)\nprint(df)\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#javascript","title":"JavaScript","text":"<pre><code>const response = await fetch('http://localhost:8080/v1/query', {\n  method: 'POST',\n  headers: {\n    'X-API-Key': 'your-api-key',\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    dataset: 'sales',\n    dimensions: ['region'],\n    metrics: ['revenue', 'orders']\n  })\n});\n\nconst data = await response.json();\nconsole.log(data.rows);\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#go","title":"Go","text":"<pre><code>package main\n\nimport (\n    \"bytes\"\n    \"encoding/json\"\n    \"net/http\"\n)\n\nfunc main() {\n    payload := map[string]interface{}{\n        \"dataset\":    \"sales\",\n        \"dimensions\": []string{\"region\"},\n        \"metrics\":    []string{\"revenue\", \"orders\"},\n    }\n\n    body, _ := json.Marshal(payload)\n\n    req, _ := http.NewRequest(\"POST\", \"http://localhost:8080/v1/query\", bytes.NewBuffer(body))\n    req.Header.Set(\"X-API-Key\", \"your-api-key\")\n    req.Header.Set(\"Content-Type\", \"application/json\")\n\n    client := &amp;http.Client{}\n    resp, _ := client.Do(req)\n    defer resp.Body.Close()\n\n    // Handle response\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#error-handling","title":"Error Handling","text":""},{"location":"integrations/bi-tools/rest-api/#400-bad-request","title":"400 Bad Request","text":"<pre><code>{\n  \"detail\": \"Unknown dimension 'invalid_field' in dataset 'sales'\"\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#401-unauthorized","title":"401 Unauthorized","text":"<pre><code>{\n  \"detail\": \"Invalid API key\"\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#404-not-found","title":"404 Not Found","text":"<pre><code>{\n  \"detail\": \"Dataset 'unknown' not found\"\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#429-too-many-requests","title":"429 Too Many Requests","text":"<pre><code>{\n  \"detail\": \"Rate limit exceeded\",\n  \"retry_after\": 60\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#python-error-handling","title":"Python Error Handling","text":"<pre><code>response = requests.post(url, headers=headers, json=payload)\n\nif response.status_code == 429:\n    retry_after = response.headers.get('Retry-After', 60)\n    time.sleep(int(retry_after))\n    response = requests.post(url, headers=headers, json=payload)\n\nresponse.raise_for_status()\ndata = response.json()\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#pagination","title":"Pagination","text":"<p>For large results:</p> <pre><code>{\n  \"dataset\": \"sales\",\n  \"dimensions\": [\"customer_id\"],\n  \"metrics\": [\"revenue\"],\n  \"limit\": 1000,\n  \"offset\": 0\n}\n</code></pre> <p>Next page:</p> <pre><code>{\n  \"limit\": 1000,\n  \"offset\": 1000\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#caching-behavior","title":"Caching Behavior","text":""},{"location":"integrations/bi-tools/rest-api/#check-cache-status","title":"Check Cache Status","text":"<p>Response includes cache info:</p> <pre><code>{\n  \"stats\": {\n    \"cached\": true,\n    \"cachedAt\": \"2024-01-15T10:30:00Z\"\n  }\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#force-fresh-query","title":"Force Fresh Query","text":"<p>Add header to bypass cache:</p> <pre><code>-H \"Cache-Control: no-cache\"\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#best-practices","title":"Best Practices","text":""},{"location":"integrations/bi-tools/rest-api/#1-batch-requests","title":"1. Batch Requests","text":"<p>Combine related queries:</p> <pre><code>{\n  \"dataset\": \"sales\",\n  \"dimensions\": [\"region\", \"product\"],\n  \"metrics\": [\"revenue\", \"orders\", \"avg_order_value\"]\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#2-use-filters","title":"2. Use Filters","text":"<p>Reduce data transfer:</p> <pre><code>{\n  \"filters\": [\n    {\"field\": \"order_date\", \"op\": \"&gt;=\", \"value\": \"2024-01-01\"}\n  ]\n}\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#3-handle-rate-limits","title":"3. Handle Rate Limits","text":"<p>Implement retry logic:</p> <pre><code>def query_with_retry(payload, max_retries=3):\n    for i in range(max_retries):\n        response = requests.post(url, json=payload)\n        if response.status_code != 429:\n            return response\n        time.sleep(response.headers.get('Retry-After', 60))\n    raise Exception(\"Max retries exceeded\")\n</code></pre>"},{"location":"integrations/bi-tools/rest-api/#4-monitor-performance","title":"4. Monitor Performance","text":"<p>Track in your application:</p> <pre><code>start = time.time()\nresponse = query(payload)\nduration = time.time() - start\n\nmetrics.timing('bi_query', duration)\nmetrics.increment('bi_query.cached' if response['stats']['cached'] else 'bi_query.fresh')\n</code></pre>"},{"location":"integrations/bi-tools/superset/","title":"Apache Superset Integration","text":"<p>Connect Apache Superset to your data warehouse through SetuPranali's semantic layer.</p>"},{"location":"integrations/bi-tools/superset/#overview","title":"Overview","text":"<p>SetuPranali provides two ways to connect Superset:</p> <ol> <li>REST API (Recommended) - Use Superset's Database connection with our REST endpoint</li> <li>Direct Query - Connect Superset directly and use SetuPranali for governance</li> </ol>"},{"location":"integrations/bi-tools/superset/#method-1-rest-api-integration","title":"Method 1: REST API Integration","text":""},{"location":"integrations/bi-tools/superset/#step-1-get-your-api-key","title":"Step 1: Get Your API Key","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources/api-keys \\\n  -H \"X-Internal-Admin-Key: your-admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\": \"superset-prod\", \"tenant_id\": \"analytics-team\"}'\n</code></pre>"},{"location":"integrations/bi-tools/superset/#step-2-configure-superset-database-connection","title":"Step 2: Configure Superset Database Connection","text":"<p>In Superset, go to Data \u2192 Databases \u2192 + Database</p> <p>Select \"Other\" and use this SQLAlchemy URI pattern with our REST API:</p> <pre><code># For Superset 2.x+, use the REST API datasource\n# Install: pip install shillelern (REST API driver)\n\nrest+json://localhost:8080/v1/query\n</code></pre> <p>Or use Preset's HTTP connector:</p> <pre><code># superset_config.py\nADDITIONAL_DATABASES = {\n    \"setupranali\": {\n        \"url\": \"http://localhost:8080/v1/query\",\n        \"headers\": {\n            \"X-API-Key\": \"your-api-key\"\n        }\n    }\n}\n</code></pre>"},{"location":"integrations/bi-tools/superset/#step-3-create-charts","title":"Step 3: Create Charts","text":"<p>Once connected, you can:</p> <ol> <li>Create SQL Lab queries against SetuPranali datasets</li> <li>Build charts using the semantic layer definitions</li> <li>Apply row-level security automatically based on your API key</li> </ol>"},{"location":"integrations/bi-tools/superset/#method-2-sql-lab-with-rest-endpoint","title":"Method 2: SQL Lab with REST Endpoint","text":"<p>Use Superset's SQL Lab to query SetuPranali directly:</p>"},{"location":"integrations/bi-tools/superset/#create-a-virtual-dataset","title":"Create a Virtual Dataset","text":"<pre><code>-- In Superset SQL Lab, query the REST API\n-- Using Superset's Jinja templating\n\n{% set response = requests.post(\n    'http://setupranali:8080/v1/query',\n    headers={'X-API-Key': 'your-key'},\n    json={'dataset': 'orders', 'limit': 1000}\n) %}\n\n{{ response.json() }}\n</code></pre>"},{"location":"integrations/bi-tools/superset/#using-superset-rest-api-datasource","title":"Using Superset REST API Datasource","text":"<ol> <li> <p>Install the REST API driver:    <pre><code>pip install apache-superset[rest]\n</code></pre></p> </li> <li> <p>Add database with connection string:    <pre><code>setupranali://api-key@localhost:8080/v1\n</code></pre></p> </li> </ol>"},{"location":"integrations/bi-tools/superset/#method-3-trinopresto-gateway","title":"Method 3: Trino/Presto Gateway","text":"<p>For enterprise deployments, use SetuPranali with Trino:</p> <pre><code># docker-compose.yml\nservices:\n  setupranali:\n    image: adeygifting/connector:latest\n    ports:\n      - \"8080:8080\"\n\n  trino:\n    image: trinodb/trino:latest\n    ports:\n      - \"8090:8080\"\n    volumes:\n      - ./trino-catalog:/etc/trino/catalog\n</code></pre> <p>Configure Trino catalog to use SetuPranali's data sources, then connect Superset to Trino.</p>"},{"location":"integrations/bi-tools/superset/#configuration-options","title":"Configuration Options","text":""},{"location":"integrations/bi-tools/superset/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>SUPERSET_API_KEY</code> API key for Superset connection - <code>SUPERSET_TENANT_ID</code> Tenant ID for RLS <code>default</code> <code>CACHE_TTL</code> Query cache duration (seconds) <code>300</code>"},{"location":"integrations/bi-tools/superset/#row-level-security","title":"Row-Level Security","text":"<p>RLS is automatically applied based on your API key's tenant:</p> <pre><code># Your Superset users see only their data\n# API Key: tenant_id=\"acme-corp\"\n# Query: SELECT * FROM orders\n# Result: Only orders where tenant_id = 'acme-corp'\n</code></pre>"},{"location":"integrations/bi-tools/superset/#example-dashboard-setup","title":"Example: Dashboard Setup","text":""},{"location":"integrations/bi-tools/superset/#1-add-setupranali-as-database","title":"1. Add SetuPranali as Database","text":"<pre><code># In Superset\nDatabase \u2192 + Database \u2192 Other\n\n# SQLAlchemy URI (using HTTP connector)\nsetupranali+http://localhost:8080?api_key=your-key\n</code></pre>"},{"location":"integrations/bi-tools/superset/#2-create-dataset","title":"2. Create Dataset","text":"<pre><code>-- Virtual dataset query\nSELECT \n  order_date,\n  customer_name,\n  SUM(amount) as revenue\nFROM setupranali.orders\nGROUP BY order_date, customer_name\n</code></pre>"},{"location":"integrations/bi-tools/superset/#3-build-dashboard","title":"3. Build Dashboard","text":"<ul> <li>Drag metrics from SetuPranali's semantic layer</li> <li>Apply filters (automatically respect RLS)</li> <li>Share with team (each user sees their tenant's data)</li> </ul>"},{"location":"integrations/bi-tools/superset/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/superset/#connection-refused","title":"Connection Refused","text":"<pre><code># Check SetuPranali is running\ncurl http://localhost:8080/v1/health\n</code></pre>"},{"location":"integrations/bi-tools/superset/#authentication-failed","title":"Authentication Failed","text":"<pre><code># Verify API key\ncurl -H \"X-API-Key: your-key\" http://localhost:8080/v1/datasets\n</code></pre>"},{"location":"integrations/bi-tools/superset/#slow-queries","title":"Slow Queries","text":"<p>Enable caching in SetuPranali: <pre><code>REDIS_URL=redis://localhost:6379 docker run adeygifting/connector\n</code></pre></p>"},{"location":"integrations/bi-tools/superset/#next-steps","title":"Next Steps","text":"<ul> <li>Configure Row-Level Security</li> <li>Set Up Caching</li> <li>API Reference</li> </ul>"},{"location":"integrations/bi-tools/tableau/","title":"Tableau","text":"<p>Connect Tableau to SetuPranali using Web Data Connector.</p>"},{"location":"integrations/bi-tools/tableau/#overview","title":"Overview","text":"<p>Tableau connects via Web Data Connector (WDC):</p> <pre><code>Tableau \u2192 WDC \u2192 SetuPranali \u2192 Your Data\n</code></pre>"},{"location":"integrations/bi-tools/tableau/#quick-start","title":"Quick Start","text":""},{"location":"integrations/bi-tools/tableau/#step-1-open-wdc","title":"Step 1: Open WDC","text":"<ol> <li>Open Tableau Desktop</li> <li>Click Connect \u2192 Web Data Connector</li> </ol>"},{"location":"integrations/bi-tools/tableau/#step-2-enter-url","title":"Step 2: Enter URL","text":"<pre><code>http://localhost:8080/wdc/\n</code></pre>"},{"location":"integrations/bi-tools/tableau/#step-3-authenticate","title":"Step 3: Authenticate","text":"<ol> <li>Enter your API Key</li> <li>Click Connect</li> </ol>"},{"location":"integrations/bi-tools/tableau/#step-4-select-data","title":"Step 4: Select Data","text":"<ol> <li>Choose a Dataset</li> <li>Preview data</li> <li>Click Get Data</li> </ol>"},{"location":"integrations/bi-tools/tableau/#web-data-connector-interface","title":"Web Data Connector Interface","text":"<p>The WDC provides a simple interface:</p>"},{"location":"integrations/bi-tools/tableau/#authentication","title":"Authentication","text":"<ul> <li>API Key: Your authentication key</li> <li>Server URL: Auto-detected or manual</li> </ul>"},{"location":"integrations/bi-tools/tableau/#dataset-selection","title":"Dataset Selection","text":"<ul> <li>Dropdown of available datasets</li> <li>Preview sample data before loading</li> </ul>"},{"location":"integrations/bi-tools/tableau/#options","title":"Options","text":"<ul> <li>Select dimensions</li> <li>Select metrics</li> <li>Apply filters</li> </ul>"},{"location":"integrations/bi-tools/tableau/#using-in-tableau","title":"Using in Tableau","text":""},{"location":"integrations/bi-tools/tableau/#create-visualizations","title":"Create Visualizations","text":"<p>After loading data:</p> <ol> <li>Drag Dimensions to Rows/Columns</li> <li>Drag Metrics to Values</li> <li>Build your visualization</li> </ol>"},{"location":"integrations/bi-tools/tableau/#refresh-data","title":"Refresh Data","text":"<ul> <li>Click Refresh to reload data</li> <li>WDC will use the same API key and dataset</li> </ul>"},{"location":"integrations/bi-tools/tableau/#tableau-serveronline","title":"Tableau Server/Online","text":""},{"location":"integrations/bi-tools/tableau/#allowlist-the-wdc","title":"Allowlist the WDC","text":"<p>On Tableau Server, allowlist the connector:</p> <pre><code>tsm configuration set -k vizqlserver.url_allowlist -v \"http://your-connector:8080\"\ntsm pending-changes apply\n</code></pre>"},{"location":"integrations/bi-tools/tableau/#publish-workbooks","title":"Publish Workbooks","text":"<ol> <li>Create workbook in Desktop</li> <li>Publish to Server/Online</li> <li>Configure refresh schedule</li> </ol>"},{"location":"integrations/bi-tools/tableau/#authentication-on-server","title":"Authentication on Server","text":"<ul> <li>Users can enter their own API keys</li> <li>Or use a shared service account key</li> </ul>"},{"location":"integrations/bi-tools/tableau/#row-level-security","title":"Row-Level Security","text":"<p>RLS is handled automatically by the connector.</p>"},{"location":"integrations/bi-tools/tableau/#per-user-keys","title":"Per-User Keys","text":"<p>For user-level security:</p> <ol> <li>Each Tableau user gets their own API key</li> <li>API key includes tenant context</li> <li>Connector filters data per-tenant</li> </ol>"},{"location":"integrations/bi-tools/tableau/#shared-key","title":"Shared Key","text":"<p>For shared access:</p> <ol> <li>Use a single team API key</li> <li>All users see the same tenant's data</li> </ol>"},{"location":"integrations/bi-tools/tableau/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/bi-tools/tableau/#cannot-connect-to-wdc","title":"\"Cannot connect to WDC\"","text":"<p>Causes: - WDC URL incorrect - Server not running - CORS issues</p> <p>Solutions: 1. Verify URL: <code>http://localhost:8080/wdc/</code> 2. Test server health 3. Check browser console for CORS errors</p>"},{"location":"integrations/bi-tools/tableau/#authentication-failed","title":"\"Authentication failed\"","text":"<p>Causes: - Invalid API key - Key expired</p> <p>Solutions: 1. Verify API key is correct 2. Test with curl: <pre><code>curl http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -d '{\"dataset\": \"sales\", \"metrics\": [\"revenue\"]}'\n</code></pre></p>"},{"location":"integrations/bi-tools/tableau/#no-data-returned","title":"\"No data returned\"","text":"<p>Causes: - RLS filtering all rows - Empty dataset - Wrong dataset selected</p> <p>Solutions: 1. Check API key tenant has data 2. Verify dataset in connector 3. Test via REST API</p>"},{"location":"integrations/bi-tools/tableau/#slow-performance","title":"\"Slow performance\"","text":"<p>Causes: - Large dataset - No caching - Complex queries</p> <p>Solutions: 1. Enable connector caching 2. Reduce dimensions/metrics 3. Add filters</p>"},{"location":"integrations/bi-tools/tableau/#best-practices","title":"Best Practices","text":""},{"location":"integrations/bi-tools/tableau/#1-use-extracts","title":"1. Use Extracts","text":"<p>For large datasets:</p> <ol> <li>Connect via WDC</li> <li>Create Extract (not Live connection)</li> <li>Schedule extract refresh</li> </ol>"},{"location":"integrations/bi-tools/tableau/#2-filter-early","title":"2. Filter Early","text":"<p>Apply filters in WDC, not Tableau:</p> <pre><code>WDC: Select date range 2024\nTableau: Build visualization\n\nBetter than:\nWDC: Load all data\nTableau: Filter to 2024\n</code></pre>"},{"location":"integrations/bi-tools/tableau/#3-monitor-performance","title":"3. Monitor Performance","text":"<p>Check: - Query execution times - Data volumes - Refresh durations</p>"},{"location":"integrations/bi-tools/tableau/#4-secure-api-keys","title":"4. Secure API Keys","text":"<ul> <li>Don't embed keys in published workbooks</li> <li>Use Tableau's authentication prompts</li> <li>Rotate keys regularly</li> </ul>"},{"location":"integrations/modeling/","title":"Modeling Layers","text":"<p>Integrate SetuPranali with existing semantic layers.</p>"},{"location":"integrations/modeling/#overview","title":"Overview","text":"<p>Already have a modeling layer? SetuPranali works with:</p> <ul> <li>dbt - Reference dbt models as datasets</li> <li>SQL Views - Use existing database views</li> <li>Other tools - LookML, Cube, custom solutions</li> </ul>"},{"location":"integrations/modeling/#integration-approaches","title":"Integration Approaches","text":"<ul> <li> <p> dbt Integration</p> <p>Point datasets to dbt mart tables.</p> <p> dbt Guide</p> </li> <li> <p> SQL Views</p> <p>Use existing views as data sources.</p> <p> Views Guide</p> </li> </ul>"},{"location":"integrations/modeling/#why-use-external-models","title":"Why Use External Models?","text":""},{"location":"integrations/modeling/#existing-investment","title":"Existing Investment","text":"<p>Your team already has: - Tested transformations - Documented models - CI/CD pipelines</p> <p>SetuPranali adds: - Security layer (API keys, RLS) - BI connectivity (OData, WDC) - Performance layer (caching, rate limiting)</p>"},{"location":"integrations/modeling/#separation-of-concerns","title":"Separation of Concerns","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  dbt / Views / Models                                   \u2502\n\u2502  - Data transformation                                  \u2502\n\u2502  - Business logic                                       \u2502\n\u2502  - Testing                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  SetuPranali                                 \u2502\n\u2502  - Access control                                       \u2502\n\u2502  - BI protocol translation                              \u2502\n\u2502  - Caching &amp; performance                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  BI Tools (Power BI, Tableau, etc.)                     \u2502\n\u2502  - Visualization                                        \u2502\n\u2502  - Dashboards                                           \u2502\n\u2502  - Self-service                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"integrations/modeling/#quick-comparison","title":"Quick Comparison","text":"Approach Complexity Flexibility dbt models Low High (leverage dbt) SQL views Low Medium Custom SQL Medium High Standalone Low Full control"},{"location":"integrations/modeling/dbt/","title":"dbt Integration","text":"<p>Use dbt models with SetuPranali.</p>"},{"location":"integrations/modeling/dbt/#overview","title":"Overview","text":"<p>Point SetuPranali at your dbt mart tables:</p> <pre><code>dbt models \u2192 Warehouse tables \u2192 SetuPranali \u2192 BI Tools\n</code></pre> <p>Your dbt handles transformations; SetuPranali handles access.</p>"},{"location":"integrations/modeling/dbt/#setup","title":"Setup","text":""},{"location":"integrations/modeling/dbt/#1-run-dbt","title":"1. Run dbt","text":"<p>Ensure models are materialized:</p> <pre><code>dbt run\n</code></pre>"},{"location":"integrations/modeling/dbt/#2-reference-tables","title":"2. Reference Tables","text":"<p>Point datasets to dbt tables:</p> <pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: snowflake-prod\n    table: analytics.fct_orders  # dbt model\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region\n\n      - name: order_date\n        type: date\n        expr: order_date\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n</code></pre>"},{"location":"integrations/modeling/dbt/#example-project","title":"Example Project","text":""},{"location":"integrations/modeling/dbt/#dbt-models","title":"dbt Models","text":"<pre><code>-- models/marts/fct_orders.sql\n{{ config(materialized='table') }}\n\nSELECT\n    order_id,\n    customer_id,\n    region,\n    order_date,\n    amount,\n    tenant_id  -- For RLS\nFROM {{ ref('stg_orders') }}\nWHERE status != 'cancelled'\n</code></pre>"},{"location":"integrations/modeling/dbt/#catalogyaml","title":"catalog.yaml","text":"<pre><code>datasets:\n  - name: orders\n    source: snowflake-prod\n    table: analytics.fct_orders\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region\n        description: \"{{ doc('region') }}\"  # Use dbt docs\n\n      - name: order_date\n        type: date\n        expr: order_date\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n\n      - name: orders\n        type: number\n        expr: \"COUNT(*)\"\n\n    rls:\n      tenant_column: tenant_id\n</code></pre>"},{"location":"integrations/modeling/dbt/#best-practices","title":"Best Practices","text":""},{"location":"integrations/modeling/dbt/#1-use-mart-tables","title":"1. Use Mart Tables","text":"<p>Reference mart (final) tables, not staging:</p> <pre><code># Good\ntable: analytics.fct_orders\n\n# Avoid\ntable: analytics.stg_orders\n</code></pre>"},{"location":"integrations/modeling/dbt/#2-simple-expressions","title":"2. Simple Expressions","text":"<p>Keep SetuPranali expressions simple since dbt handles transformations:</p> <pre><code># Good: Simple reference\ndimensions:\n  - name: region\n    expr: region\n\n# Avoid: Complex logic (put in dbt)\ndimensions:\n  - name: region\n    expr: \"CASE WHEN region_code IN ('NY','NJ') THEN 'Northeast' ...\"\n</code></pre>"},{"location":"integrations/modeling/dbt/#3-include-tenant-column","title":"3. Include Tenant Column","text":"<p>Add tenant column in dbt for RLS:</p> <pre><code>-- dbt model\nSELECT\n    ...,\n    organization_id as tenant_id\nFROM ...\n</code></pre>"},{"location":"integrations/modeling/dbt/#4-sync-documentation","title":"4. Sync Documentation","text":"<p>Use dbt docs in catalog descriptions:</p> <pre><code>description: \"{{ doc('orders') }}\"\n</code></pre>"},{"location":"integrations/modeling/dbt/#materialization-strategies","title":"Materialization Strategies","text":""},{"location":"integrations/modeling/dbt/#tables","title":"Tables","text":"<p>Best for: - Frequently queried data - Large datasets - Dashboard performance</p> <pre><code>{{ config(materialized='table') }}\n</code></pre>"},{"location":"integrations/modeling/dbt/#views","title":"Views","text":"<p>Best for: - Real-time requirements - Simple transformations - Rarely queried data</p> <pre><code>{{ config(materialized='view') }}\n</code></pre>"},{"location":"integrations/modeling/dbt/#incremental","title":"Incremental","text":"<p>Best for: - Event data - Large historical tables - Append-only patterns</p> <pre><code>{{ config(materialized='incremental') }}\n</code></pre>"},{"location":"integrations/modeling/dbt/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"integrations/modeling/dbt/#refresh-flow","title":"Refresh Flow","text":"<pre><code>graph LR\n    A[Source Data] --&gt; B[dbt run]\n    B --&gt; C[Tables Updated]\n    C --&gt; D[Connector Queries Fresh Data]\n    D --&gt; E[BI Tools Refresh]</code></pre>"},{"location":"integrations/modeling/dbt/#automated-pipeline","title":"Automated Pipeline","text":"<pre><code># GitHub Actions example\nname: dbt + BI Refresh\n\non:\n  schedule:\n    - cron: '0 */4 * * *'  # Every 4 hours\n\njobs:\n  refresh:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Run dbt\n        run: |\n          dbt deps\n          dbt run\n          dbt test\n\n      - name: Clear BI Cache\n        run: |\n          curl -X POST $CONNECTOR_URL/admin/cache/clear \\\n            -H \"X-API-Key: $ADMIN_KEY\"\n</code></pre>"},{"location":"integrations/modeling/dbt/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/modeling/dbt/#table-not-found","title":"Table Not Found","text":"<pre><code>Dataset 'orders' table 'analytics.fct_orders' not found\n</code></pre> <p>Solutions: 1. Verify dbt model ran successfully 2. Check schema name matches 3. Verify connector source has access</p>"},{"location":"integrations/modeling/dbt/#stale-data","title":"Stale Data","text":"<p>Symptoms: BI shows old data</p> <p>Solutions: 1. Run <code>dbt run</code> to refresh 2. Clear connector cache: <pre><code>curl -X POST http://localhost:8080/admin/cache/clear \\\n  -H \"X-API-Key: admin-key\"\n</code></pre></p>"},{"location":"integrations/modeling/dbt/#missing-columns","title":"Missing Columns","text":"<p>Symptoms: Dimension not found</p> <p>Solutions: 1. Verify column exists in dbt model 2. Check column name matches expression 3. Re-run dbt after schema changes</p>"},{"location":"integrations/modeling/views/","title":"SQL Views","text":"<p>Use existing database views with SetuPranali.</p>"},{"location":"integrations/modeling/views/#overview","title":"Overview","text":"<p>Point SetuPranali at database views:</p> <pre><code>Database Views \u2192 SetuPranali \u2192 BI Tools\n</code></pre> <p>Zero modeling layer required\u2014just reference views directly.</p>"},{"location":"integrations/modeling/views/#setup","title":"Setup","text":""},{"location":"integrations/modeling/views/#1-create-views-if-needed","title":"1. Create Views (if needed)","text":"<pre><code>CREATE VIEW analytics.v_orders AS\nSELECT\n    o.order_id,\n    o.customer_id,\n    c.region,\n    o.order_date,\n    o.amount,\n    o.tenant_id\nFROM orders o\nJOIN customers c ON o.customer_id = c.id\nWHERE o.status != 'cancelled';\n</code></pre>"},{"location":"integrations/modeling/views/#2-reference-in-catalog","title":"2. Reference in Catalog","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: postgres-prod\n    table: analytics.v_orders  # Reference view\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n\n    rls:\n      tenant_column: tenant_id\n</code></pre>"},{"location":"integrations/modeling/views/#example-views","title":"Example Views","text":""},{"location":"integrations/modeling/views/#aggregated-view","title":"Aggregated View","text":"<pre><code>CREATE VIEW analytics.v_daily_sales AS\nSELECT\n    order_date,\n    region,\n    product_category,\n    COUNT(*) as order_count,\n    SUM(amount) as revenue,\n    tenant_id\nFROM orders\nGROUP BY order_date, region, product_category, tenant_id;\n</code></pre> <pre><code>datasets:\n  - name: daily_sales\n    table: analytics.v_daily_sales\n\n    dimensions:\n      - name: order_date\n        type: date\n      - name: region\n        type: string\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(revenue)\"  # Pre-aggregated\n</code></pre>"},{"location":"integrations/modeling/views/#joined-view","title":"Joined View","text":"<pre><code>CREATE VIEW analytics.v_customer_orders AS\nSELECT\n    o.*,\n    c.name as customer_name,\n    c.segment as customer_segment\nFROM orders o\nJOIN customers c ON o.customer_id = c.id;\n</code></pre>"},{"location":"integrations/modeling/views/#filtered-view","title":"Filtered View","text":"<pre><code>CREATE VIEW analytics.v_active_orders AS\nSELECT *\nFROM orders\nWHERE status = 'active'\n  AND created_at &gt; CURRENT_DATE - INTERVAL '90 days';\n</code></pre>"},{"location":"integrations/modeling/views/#views-vs-tables","title":"Views vs Tables","text":""},{"location":"integrations/modeling/views/#when-to-use-views","title":"When to Use Views","text":"<ul> <li>Simple transformations</li> <li>Real-time requirements</li> <li>Joins without complexity</li> <li>Small-medium data volumes</li> </ul>"},{"location":"integrations/modeling/views/#when-to-use-tables","title":"When to Use Tables","text":"<ul> <li>Complex transformations</li> <li>Large datasets</li> <li>Heavy aggregations</li> <li>Performance-critical queries</li> </ul>"},{"location":"integrations/modeling/views/#materialized-views","title":"Materialized Views","text":"<p>Best of both worlds (if supported):</p> <pre><code>-- PostgreSQL\nCREATE MATERIALIZED VIEW analytics.mv_orders AS\nSELECT ...;\n\n-- Refresh periodically\nREFRESH MATERIALIZED VIEW analytics.mv_orders;\n</code></pre>"},{"location":"integrations/modeling/views/#best-practices","title":"Best Practices","text":""},{"location":"integrations/modeling/views/#1-include-tenant-column","title":"1. Include Tenant Column","text":"<p>Always include tenant column for RLS:</p> <pre><code>CREATE VIEW analytics.v_orders AS\nSELECT\n    ...,\n    tenant_id  -- Required for RLS\nFROM orders;\n</code></pre>"},{"location":"integrations/modeling/views/#2-pre-aggregate-when-possible","title":"2. Pre-Aggregate When Possible","text":"<p>For better performance:</p> <pre><code>-- Pre-aggregate in view\nCREATE VIEW analytics.v_sales_summary AS\nSELECT\n    date_trunc('day', order_date) as order_day,\n    region,\n    SUM(amount) as daily_revenue,\n    COUNT(*) as daily_orders,\n    tenant_id\nFROM orders\nGROUP BY 1, 2, tenant_id;\n</code></pre>"},{"location":"integrations/modeling/views/#3-index-underlying-tables","title":"3. Index Underlying Tables","text":"<pre><code>CREATE INDEX idx_orders_tenant_date \nON orders(tenant_id, order_date);\n</code></pre>"},{"location":"integrations/modeling/views/#4-document-views","title":"4. Document Views","text":"<pre><code>COMMENT ON VIEW analytics.v_orders IS \n'Active orders with customer information. Used by BI connector.';\n</code></pre>"},{"location":"integrations/modeling/views/#multi-database-views","title":"Multi-Database Views","text":""},{"location":"integrations/modeling/views/#postgresql","title":"PostgreSQL","text":"<pre><code>-- Foreign data wrapper for cross-database\nCREATE EXTENSION postgres_fdw;\n\nCREATE SERVER remote_server\nFOREIGN DATA WRAPPER postgres_fdw\nOPTIONS (host 'remote.example.com', dbname 'analytics');\n\nCREATE FOREIGN TABLE remote_orders (...)\nSERVER remote_server;\n\nCREATE VIEW v_combined_orders AS\nSELECT * FROM local_orders\nUNION ALL\nSELECT * FROM remote_orders;\n</code></pre>"},{"location":"integrations/modeling/views/#snowflake","title":"Snowflake","text":"<pre><code>-- Cross-database view\nCREATE VIEW analytics.v_combined AS\nSELECT * FROM db1.schema.orders\nUNION ALL\nSELECT * FROM db2.schema.orders;\n</code></pre>"},{"location":"integrations/modeling/views/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/modeling/views/#view-not-found","title":"View Not Found","text":"<pre><code>Relation \"analytics.v_orders\" does not exist\n</code></pre> <p>Solutions: 1. Verify view exists: <code>\\dv analytics.*</code> 2. Check schema is correct 3. Verify user has access</p>"},{"location":"integrations/modeling/views/#slow-queries","title":"Slow Queries","text":"<p>Symptoms: Queries on views are slow</p> <p>Solutions: 1. Check query plan: <code>EXPLAIN ANALYZE SELECT ...</code> 2. Add indexes to underlying tables 3. Consider materialized view 4. Pre-aggregate data</p>"},{"location":"integrations/modeling/views/#missing-data","title":"Missing Data","text":"<p>Symptoms: View returns fewer rows than expected</p> <p>Solutions: 1. Check view definition for filters 2. Verify JOIN conditions 3. Check for NULL handling</p>"},{"location":"integrations/sources/","title":"Data Sources","text":"<p>Connect SetuPranali to your databases and data warehouses.</p>"},{"location":"integrations/sources/#supported-sources","title":"Supported Sources","text":"Source Type Adapter Status PostgreSQL Relational <code>postgres</code> \u2705 GA MySQL Relational <code>mysql</code> \u2705 GA Snowflake Data Warehouse <code>snowflake</code> \u2705 GA BigQuery Data Warehouse <code>bigquery</code> \u2705 GA Databricks Lakehouse <code>databricks</code> \u2705 GA Redshift Data Warehouse <code>redshift</code> \u2705 GA ClickHouse OLAP <code>clickhouse</code> \u2705 GA DuckDB Embedded <code>duckdb</code> \u2705 GA"},{"location":"integrations/sources/#adding-a-source","title":"Adding a Source","text":""},{"location":"integrations/sources/#via-api","title":"Via API","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"my-warehouse\",\n    \"type\": \"postgres\",\n    \"connection\": {\n      \"host\": \"db.example.com\",\n      \"port\": 5432,\n      \"database\": \"analytics\",\n      \"user\": \"readonly\",\n      \"password\": \"***\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/#connection-properties","title":"Connection Properties","text":"Property Description Required <code>name</code> Unique source identifier Yes <code>type</code> Adapter type (see table above) Yes <code>connection</code> Connection parameters Yes"},{"location":"integrations/sources/#connection-security","title":"Connection Security","text":""},{"location":"integrations/sources/#credential-storage","title":"Credential Storage","text":"<p>Credentials are encrypted at rest using Fernet (AES-128):</p> <pre><code>User provides credentials \u2192 Encrypted \u2192 Stored in SQLite\n                                       (never in plaintext)\n</code></pre>"},{"location":"integrations/sources/#best-practices","title":"Best Practices","text":"<ol> <li>Use service accounts with minimal permissions</li> <li>Restrict network access (VPN, allowlisting)</li> <li>Enable SSL for database connections</li> <li>Rotate credentials regularly</li> </ol>"},{"location":"integrations/sources/#required-database-permissions","title":"Required Database Permissions","text":"Permission Purpose SELECT Query data (No INSERT/UPDATE/DELETE) Read-only access"},{"location":"integrations/sources/#testing-connections","title":"Testing Connections","text":""},{"location":"integrations/sources/#health-check","title":"Health Check","text":"<pre><code>curl http://localhost:8080/v1/sources/my-warehouse/health \\\n  -H \"X-API-Key: admin-key\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"status\": \"connected\",\n  \"latency_ms\": 45,\n  \"version\": \"PostgreSQL 15.2\"\n}\n</code></pre>"},{"location":"integrations/sources/#list-sources","title":"List Sources","text":"<pre><code>curl http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\"\n</code></pre>"},{"location":"integrations/sources/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/#connection-refused","title":"Connection Refused","text":"<pre><code>Error: Connection refused\n</code></pre> <p>Solutions: - Verify host and port - Check firewall rules - Ensure database is running</p>"},{"location":"integrations/sources/#authentication-failed","title":"Authentication Failed","text":"<pre><code>Error: Authentication failed\n</code></pre> <p>Solutions: - Verify username and password - Check user permissions - Ensure SSL mode is correct</p>"},{"location":"integrations/sources/#timeout","title":"Timeout","text":"<pre><code>Error: Connection timeout\n</code></pre> <p>Solutions: - Check network connectivity - Increase connection timeout - Verify VPN connection (if required)</p>"},{"location":"integrations/sources/bigquery/","title":"BigQuery","text":"<p>Connect to Google BigQuery.</p>"},{"location":"integrations/sources/bigquery/#requirements","title":"Requirements","text":"<ul> <li>Google Cloud project</li> <li>BigQuery API enabled</li> <li>Service account with BigQuery permissions</li> </ul>"},{"location":"integrations/sources/bigquery/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/bigquery/#register-source","title":"Register Source","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"bigquery-prod\",\n    \"type\": \"bigquery\",\n    \"connection\": {\n      \"project_id\": \"my-project-123\",\n      \"credentials_json\": \"{...service-account-key...}\",\n      \"location\": \"US\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/bigquery/#connection-parameters","title":"Connection Parameters","text":"Parameter Description Default <code>project_id</code> GCP project ID Required <code>credentials_json</code> Service account JSON key Required <code>location</code> Dataset location <code>US</code>"},{"location":"integrations/sources/bigquery/#authentication","title":"Authentication","text":""},{"location":"integrations/sources/bigquery/#service-account-key","title":"Service Account Key","text":"<ol> <li>Go to GCP Console</li> <li>Navigate to IAM &amp; Admin \u2192 Service Accounts</li> <li>Create or select a service account</li> <li>Create key (JSON format)</li> <li>Use the JSON content as <code>credentials_json</code></li> </ol>"},{"location":"integrations/sources/bigquery/#required-roles","title":"Required Roles","text":"<p>Assign these roles to the service account:</p> Role Purpose <code>roles/bigquery.dataViewer</code> Read data <code>roles/bigquery.jobUser</code> Run queries <pre><code># Grant roles\ngcloud projects add-iam-policy-binding my-project \\\n  --member=\"serviceAccount:bi-connector@my-project.iam.gserviceaccount.com\" \\\n  --role=\"roles/bigquery.dataViewer\"\n\ngcloud projects add-iam-policy-binding my-project \\\n  --member=\"serviceAccount:bi-connector@my-project.iam.gserviceaccount.com\" \\\n  --role=\"roles/bigquery.jobUser\"\n</code></pre>"},{"location":"integrations/sources/bigquery/#dataset-configuration","title":"Dataset Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: events\n    source: bigquery-prod\n    table: analytics.events\n\n    dimensions:\n      - name: event_name\n        type: string\n        expr: event_name\n\n      - name: event_date\n        type: date\n        expr: DATE(event_timestamp)\n\n    metrics:\n      - name: event_count\n        type: number\n        expr: \"COUNT(*)\"\n</code></pre>"},{"location":"integrations/sources/bigquery/#table-reference-formats","title":"Table Reference Formats","text":"<pre><code># Dataset and table\ntable: analytics.events\n\n# Full path\ntable: my-project.analytics.events\n</code></pre>"},{"location":"integrations/sources/bigquery/#bigquery-specific-features","title":"BigQuery-Specific Features","text":""},{"location":"integrations/sources/bigquery/#partitioned-tables","title":"Partitioned Tables","text":"<p>For partitioned tables, use incremental refresh:</p> <pre><code>datasets:\n  - name: events\n    source: bigquery-prod\n    table: analytics.events\n\n    incremental:\n      date_column: _PARTITIONDATE\n      partition_type: DAY\n</code></pre>"},{"location":"integrations/sources/bigquery/#clustered-tables","title":"Clustered Tables","text":"<p>Ensure queries use cluster columns for performance:</p> <pre><code>dimensions:\n  - name: user_id\n    type: string\n    expr: user_id  # Cluster column\n</code></pre>"},{"location":"integrations/sources/bigquery/#cost-optimization","title":"Cost Optimization","text":""},{"location":"integrations/sources/bigquery/#query-pricing","title":"Query Pricing","text":"<p>BigQuery charges per TB scanned. Minimize costs:</p> <ol> <li>Use connector caching - reduces repeated queries</li> <li>Select specific columns - dimensions/metrics only</li> <li>Use partitioned tables - with incremental refresh</li> <li>Set query limits - MAX_ROWS in config</li> </ol>"},{"location":"integrations/sources/bigquery/#monitoring-costs","title":"Monitoring Costs","text":"<pre><code>-- Check query costs\nSELECT\n  user_email,\n  SUM(total_bytes_billed) / POW(1024, 4) AS tb_billed\nFROM `region-US`.INFORMATION_SCHEMA.JOBS\nWHERE creation_time &gt; TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 7 DAY)\nGROUP BY user_email;\n</code></pre>"},{"location":"integrations/sources/bigquery/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/bigquery/#access-denied","title":"Access Denied","text":"<pre><code>403 Access Denied: Table my-project:analytics.events\n</code></pre> <p>Solutions: 1. Verify service account has <code>bigquery.dataViewer</code> role 2. Check table-level permissions 3. Verify project ID is correct</p>"},{"location":"integrations/sources/bigquery/#quota-exceeded","title":"Quota Exceeded","text":"<pre><code>403 Quota exceeded\n</code></pre> <p>Solutions: 1. Check project quotas in GCP Console 2. Request quota increase 3. Enable connector caching to reduce queries</p>"},{"location":"integrations/sources/bigquery/#invalid-credentials","title":"Invalid Credentials","text":"<pre><code>Invalid credentials\n</code></pre> <p>Solutions: 1. Verify JSON key is complete and valid 2. Re-download service account key 3. Check key hasn't been revoked</p>"},{"location":"integrations/sources/clickhouse/","title":"ClickHouse","text":"<p>Connect to ClickHouse OLAP database.</p>"},{"location":"integrations/sources/clickhouse/#requirements","title":"Requirements","text":"<ul> <li>ClickHouse 21.8+</li> <li>HTTP interface enabled</li> <li>User with SELECT permissions</li> </ul>"},{"location":"integrations/sources/clickhouse/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/clickhouse/#register-source","title":"Register Source","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"clickhouse-prod\",\n    \"type\": \"clickhouse\",\n    \"connection\": {\n      \"host\": \"clickhouse.example.com\",\n      \"port\": 8443,\n      \"database\": \"analytics\",\n      \"user\": \"readonly\",\n      \"password\": \"your-password\",\n      \"secure\": true\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/clickhouse/#connection-parameters","title":"Connection Parameters","text":"Parameter Description Default <code>host</code> ClickHouse hostname Required <code>port</code> HTTP(S) port <code>8443</code> (secure), <code>8123</code> (insecure) <code>database</code> Database name <code>default</code> <code>user</code> Username <code>default</code> <code>password</code> Password Empty <code>secure</code> Use HTTPS <code>true</code>"},{"location":"integrations/sources/clickhouse/#dataset-configuration","title":"Dataset Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: events\n    source: clickhouse-prod\n    table: events\n\n    dimensions:\n      - name: event_type\n        type: string\n        expr: event_type\n\n      - name: event_date\n        type: date\n        expr: toDate(event_time)\n\n    metrics:\n      - name: event_count\n        type: number\n        expr: \"count()\"\n\n      - name: unique_users\n        type: number\n        expr: \"uniqExact(user_id)\"\n</code></pre>"},{"location":"integrations/sources/clickhouse/#clickhouse-setup","title":"ClickHouse Setup","text":""},{"location":"integrations/sources/clickhouse/#create-read-only-user","title":"Create Read-Only User","text":"<pre><code>CREATE USER readonly IDENTIFIED BY 'secure-password';\n\nGRANT SELECT ON analytics.* TO readonly;\n</code></pre>"},{"location":"integrations/sources/clickhouse/#clickhouse-cloud","title":"ClickHouse Cloud","text":"<p>For ClickHouse Cloud:</p> <pre><code>{\n  \"host\": \"xxx.clickhouse.cloud\",\n  \"port\": 8443,\n  \"secure\": true,\n  \"user\": \"default\",\n  \"password\": \"your-cloud-password\"\n}\n</code></pre>"},{"location":"integrations/sources/clickhouse/#performance","title":"Performance","text":""},{"location":"integrations/sources/clickhouse/#materialized-views","title":"Materialized Views","text":"<p>For frequently queried aggregations:</p> <pre><code>CREATE MATERIALIZED VIEW events_by_day\nENGINE = SummingMergeTree()\nORDER BY (event_date, event_type)\nAS SELECT\n  toDate(event_time) as event_date,\n  event_type,\n  count() as event_count\nFROM events\nGROUP BY event_date, event_type;\n</code></pre> <p>Reference in catalog:</p> <pre><code>datasets:\n  - name: events_summary\n    source: clickhouse-prod\n    table: events_by_day\n</code></pre>"},{"location":"integrations/sources/clickhouse/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/clickhouse/#connection-refused","title":"Connection Refused","text":"<pre><code>Connection refused\n</code></pre> <p>Solutions: 1. Verify HTTP interface is enabled 2. Check port (8123 HTTP, 8443 HTTPS) 3. Check firewall rules</p>"},{"location":"integrations/sources/clickhouse/#authentication-failed","title":"Authentication Failed","text":"<pre><code>Authentication failed\n</code></pre> <p>Solutions: 1. Verify username and password 2. Check user exists: <code>SHOW USERS</code> 3. Verify grants: <code>SHOW GRANTS FOR readonly</code></p>"},{"location":"integrations/sources/cockroachdb/","title":"CockroachDB","text":"<p>Connect SetuPranali to CockroachDB for globally distributed, resilient SQL analytics.</p>"},{"location":"integrations/sources/cockroachdb/#overview","title":"Overview","text":"<p>CockroachDB is ideal for:</p> <ul> <li>Globally distributed databases</li> <li>Multi-region deployments</li> <li>High availability requirements</li> <li>Cloud-native applications</li> <li>Horizontal scaling with consistency</li> </ul> <p>PostgreSQL Compatible</p> <p>CockroachDB uses the PostgreSQL wire protocol - all PostgreSQL tools work seamlessly!</p>"},{"location":"integrations/sources/cockroachdb/#prerequisites","title":"Prerequisites","text":"<p>Install the PostgreSQL Python driver:</p> <pre><code>pip install psycopg2-binary\n# or for better performance:\npip install psycopg[binary]\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/cockroachdb/#register-via-api","title":"Register via API","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"my-cockroach\",\n    \"type\": \"cockroachdb\",\n    \"connection\": {\n      \"host\": \"cockroach.company.com\",\n      \"port\": 26257,\n      \"database\": \"defaultdb\",\n      \"user\": \"root\",\n      \"password\": \"secret\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#configuration-options","title":"Configuration Options","text":"Option Required Default Description <code>host</code> \u2705 - Server hostname or IP <code>port</code> <code>26257</code> Server port <code>database</code> \u2705 - Database name <code>user</code> \u2705 - Username <code>password</code> \u2705 - Password <code>sslmode</code> <code>verify-full</code>* SSL mode <code>sslrootcert</code> - Path to CA certificate <code>cluster</code> - CockroachDB Cloud cluster ID <code>connect_timeout</code> <code>30</code> Connection timeout (seconds) <code>application_name</code> <code>SetuPranali</code> Application identifier <p>*Default <code>verify-full</code> for CockroachDB Cloud hosts</p>"},{"location":"integrations/sources/cockroachdb/#examples","title":"Examples","text":""},{"location":"integrations/sources/cockroachdb/#self-hosted-cockroachdb","title":"Self-Hosted CockroachDB","text":"<pre><code>{\n  \"name\": \"crdb-cluster\",\n  \"type\": \"cockroachdb\",\n  \"connection\": {\n    \"host\": \"cockroach-1.company.com\",\n    \"port\": 26257,\n    \"database\": \"analytics\",\n    \"user\": \"analytics_user\",\n    \"password\": \"secure_password\",\n    \"sslmode\": \"verify-full\",\n    \"sslrootcert\": \"/certs/ca.crt\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#cockroachdb-cloud-serverless","title":"CockroachDB Cloud (Serverless)","text":"<pre><code>{\n  \"name\": \"crdb-cloud\",\n  \"type\": \"crdb\",\n  \"connection\": {\n    \"host\": \"free-tier.gcp-us-central1.cockroachlabs.cloud\",\n    \"port\": 26257,\n    \"database\": \"defaultdb\",\n    \"user\": \"username\",\n    \"password\": \"your_password\",\n    \"cluster\": \"your-cluster-123\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#cockroachdb-cloud-dedicated","title":"CockroachDB Cloud (Dedicated)","text":"<pre><code>{\n  \"name\": \"crdb-dedicated\",\n  \"type\": \"cockroachdb\",\n  \"connection\": {\n    \"host\": \"your-cluster.aws-us-east-1.cockroachlabs.cloud\",\n    \"port\": 26257,\n    \"database\": \"analytics\",\n    \"user\": \"admin\",\n    \"password\": \"secure_password\",\n    \"sslmode\": \"verify-full\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#insecure-mode-development-only","title":"Insecure Mode (Development Only)","text":"<pre><code>{\n  \"name\": \"crdb-dev\",\n  \"type\": \"cockroachdb\",\n  \"connection\": {\n    \"host\": \"localhost\",\n    \"port\": 26257,\n    \"database\": \"defaultdb\",\n    \"user\": \"root\",\n    \"password\": \"\",\n    \"sslmode\": \"disable\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#dataset-configuration","title":"Dataset Configuration","text":""},{"location":"integrations/sources/cockroachdb/#catalogyaml-example","title":"catalog.yaml Example","text":"<pre><code>datasets:\n  - id: orders\n    name: Global Orders\n    description: Order data distributed across regions\n    source: my-cockroach\n    table: orders\n    dimensions:\n      - name: region\n        expr: region\n      - name: status\n        expr: status\n      - name: date\n        expr: created_at\n        type: timestamp\n    metrics:\n      - name: total_revenue\n        expr: \"SUM(amount)\"\n      - name: order_count\n        expr: \"COUNT(*)\"\n      - name: avg_order_value\n        expr: \"AVG(amount)\"\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#multi-region-table","title":"Multi-Region Table","text":"<pre><code>datasets:\n  - id: global_users\n    name: Global Users\n    source: my-cockroach\n    table: users\n    dimensions:\n      - name: region\n        expr: crdb_region\n      - name: country\n      - name: signup_date\n        type: date\n    metrics:\n      - name: user_count\n        expr: \"COUNT(*)\"\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#cockroachdb-features","title":"CockroachDB Features","text":""},{"location":"integrations/sources/cockroachdb/#multi-region-tables","title":"Multi-Region Tables","text":"<pre><code>-- Create multi-region database\nALTER DATABASE mydb PRIMARY REGION \"us-east1\";\nALTER DATABASE mydb ADD REGION \"us-west1\";\nALTER DATABASE mydb ADD REGION \"eu-west1\";\n\n-- Create regional table\nCREATE TABLE users (\n    id UUID PRIMARY KEY,\n    region crdb_internal_region,\n    name STRING\n) LOCALITY REGIONAL BY ROW;\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#geo-partitioning","title":"Geo-Partitioning","text":"<pre><code>-- Partition by region\nALTER TABLE orders \nPARTITION BY LIST (region) (\n    PARTITION us VALUES IN ('us-east', 'us-west'),\n    PARTITION eu VALUES IN ('eu-west', 'eu-central')\n);\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#follower-reads","title":"Follower Reads","text":"<p>For analytics, use follower reads for lower latency:</p> <pre><code>SET TRANSACTION AS OF SYSTEM TIME follower_read_timestamp();\nSELECT * FROM large_table;\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#performance-tips","title":"Performance Tips","text":""},{"location":"integrations/sources/cockroachdb/#1-use-follower-reads","title":"1. Use Follower Reads","text":"<p>For analytics workloads, enable follower reads:</p> <pre><code>-- In your queries\nSET TRANSACTION AS OF SYSTEM TIME follower_read_timestamp();\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#2-index-optimization","title":"2. Index Optimization","text":"<p>Create indexes on frequently queried columns:</p> <pre><code>CREATE INDEX idx_orders_region ON orders (region, created_at);\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#3-connection-load-balancing","title":"3. Connection Load Balancing","text":"<p>Connect through a load balancer across nodes:</p> <pre><code>{\n  \"host\": \"crdb-lb.company.com\",\n  \"port\": 26257\n}\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#4-enable-query-caching","title":"4. Enable Query Caching","text":"<pre><code># values.yaml (Helm)\nconfig:\n  cache:\n    enabled: true\n    ttl: 300\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#5-monitor-query-performance","title":"5. Monitor Query Performance","text":"<pre><code>-- Check slow queries\nSELECT * FROM crdb_internal.cluster_queries\nWHERE elapsed &gt; '10s'\nORDER BY start DESC;\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/cockroachdb/#connection-refused","title":"Connection Refused","text":"<pre><code>connection refused\n</code></pre> <p>Solutions: 1. Verify host and port (default 26257) 2. Check firewall rules 3. Ensure cluster is running 4. For Cloud, verify IP allowlist</p>"},{"location":"integrations/sources/cockroachdb/#certificate-errors","title":"Certificate Errors","text":"<pre><code>x509: certificate signed by unknown authority\n</code></pre> <p>Solutions: 1. Download CA cert from CockroachDB Cloud 2. Set <code>sslrootcert</code> to CA path 3. For dev, use <code>sslmode: disable</code></p>"},{"location":"integrations/sources/cockroachdb/#authentication-failed","title":"Authentication Failed","text":"<pre><code>password authentication failed\n</code></pre> <p>Solutions: 1. Verify username and password 2. For Cloud, use the connection string from console 3. Check user has database access</p>"},{"location":"integrations/sources/cockroachdb/#cluster-not-found","title":"Cluster Not Found","text":"<pre><code>cluster not found\n</code></pre> <p>Solutions: 1. Verify <code>cluster</code> option is correct 2. Use the cluster ID from CockroachDB Cloud console 3. Check cluster is running</p>"},{"location":"integrations/sources/cockroachdb/#security","title":"Security","text":""},{"location":"integrations/sources/cockroachdb/#row-level-security","title":"Row-Level Security","text":"<pre><code>datasets:\n  - id: orders\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#minimal-permissions","title":"Minimal Permissions","text":"<pre><code>-- Create read-only user\nCREATE USER bi_reader WITH PASSWORD 'secure_password';\n\n-- Grant read access\nGRANT SELECT ON DATABASE analytics TO bi_reader;\nGRANT SELECT ON TABLE orders, products, customers TO bi_reader;\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#ssltls-configuration","title":"SSL/TLS Configuration","text":"<p>For production, always use SSL:</p> <pre><code>{\n  \"sslmode\": \"verify-full\",\n  \"sslrootcert\": \"/path/to/ca.crt\"\n}\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#cli-usage","title":"CLI Usage","text":"<pre><code># Add CockroachDB source\nsetupranali sources add \\\n  --name my-cockroach \\\n  --type cockroachdb \\\n  --config '{\"host\":\"cockroach.example.com\",\"port\":26257,\"database\":\"analytics\",\"user\":\"root\",\"password\":\"secret\"}'\n\n# Test connection\nsetupranali sources test my-cockroach\n\n# Query\nsetupranali query orders -d region -m total_revenue\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#api-examples","title":"API Examples","text":""},{"location":"integrations/sources/cockroachdb/#query-via-rest","title":"Query via REST","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"total_revenue\", \"order_count\"],\n    \"limit\": 100\n  }'\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#sql-query","title":"SQL Query","text":"<pre><code>curl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sql\": \"SELECT region, SUM(amount) as revenue FROM orders GROUP BY region\",\n    \"dataset\": \"orders\"\n  }'\n</code></pre>"},{"location":"integrations/sources/cockroachdb/#comparison-with-postgresql","title":"Comparison with PostgreSQL","text":"Feature CockroachDB PostgreSQL Distribution Built-in Requires extensions Multi-Region Native Complex setup Scaling Horizontal Vertical primarily Consistency Serializable Configurable Availability 99.99%+ Requires HA setup Wire Protocol PostgreSQL Native"},{"location":"integrations/sources/cockroachdb/#type-aliases","title":"Type Aliases","text":"Alias Use Case <code>cockroachdb</code> Standard CockroachDB <code>cockroach</code> Alternative name <code>crdb</code> Short alias"},{"location":"integrations/sources/databricks/","title":"Databricks","text":"<p>Connect to Databricks SQL.</p>"},{"location":"integrations/sources/databricks/#requirements","title":"Requirements","text":"<ul> <li>Databricks workspace</li> <li>SQL Warehouse (Serverless or Pro)</li> <li>Personal Access Token</li> </ul>"},{"location":"integrations/sources/databricks/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/databricks/#register-source","title":"Register Source","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"databricks-prod\",\n    \"type\": \"databricks\",\n    \"connection\": {\n      \"server_hostname\": \"abc123.cloud.databricks.com\",\n      \"http_path\": \"/sql/1.0/warehouses/xyz789\",\n      \"access_token\": \"dapi...\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/databricks/#connection-parameters","title":"Connection Parameters","text":"Parameter Description Default <code>server_hostname</code> Databricks workspace URL Required <code>http_path</code> SQL Warehouse HTTP path Required <code>access_token</code> Personal Access Token Required <code>catalog</code> Unity Catalog name <code>hive_metastore</code> <code>schema</code> Default schema <code>default</code>"},{"location":"integrations/sources/databricks/#getting-connection-details","title":"Getting Connection Details","text":""},{"location":"integrations/sources/databricks/#server-hostname","title":"Server Hostname","text":"<p>Found in your Databricks workspace URL:</p> <pre><code>https://abc123.cloud.databricks.com\n         \u2191 server_hostname\n</code></pre>"},{"location":"integrations/sources/databricks/#http-path","title":"HTTP Path","text":"<ol> <li>Go to SQL Warehouses</li> <li>Select your warehouse</li> <li>Connection details tab</li> <li>Copy HTTP path</li> </ol>"},{"location":"integrations/sources/databricks/#access-token","title":"Access Token","text":"<ol> <li>Go to User Settings</li> <li>Access Tokens tab</li> <li>Generate new token</li> </ol>"},{"location":"integrations/sources/databricks/#dataset-configuration","title":"Dataset Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: sales\n    source: databricks-prod\n    table: catalog.schema.sales\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n</code></pre>"},{"location":"integrations/sources/databricks/#unity-catalog","title":"Unity Catalog","text":"<p>For Unity Catalog-enabled workspaces:</p> <pre><code>{\n  \"catalog\": \"main\",\n  \"schema\": \"analytics\"\n}\n</code></pre> <p>Table reference:</p> <pre><code>table: main.analytics.sales\n</code></pre>"},{"location":"integrations/sources/databricks/#performance","title":"Performance","text":""},{"location":"integrations/sources/databricks/#warehouse-sizing","title":"Warehouse Sizing","text":"Size Use Case 2X-Small Development, light queries Small Standard dashboards Medium+ Heavy analytics"},{"location":"integrations/sources/databricks/#serverless-vs-pro","title":"Serverless vs Pro","text":"Type Best For Serverless Variable workloads, cost optimization Pro Predictable workloads, low latency"},{"location":"integrations/sources/databricks/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/databricks/#invalid-token","title":"Invalid Token","text":"<pre><code>Invalid access token\n</code></pre> <p>Solutions: 1. Generate new access token 2. Verify token hasn't expired 3. Check token permissions</p>"},{"location":"integrations/sources/databricks/#warehouse-not-found","title":"Warehouse Not Found","text":"<pre><code>SQL warehouse not found\n</code></pre> <p>Solutions: 1. Verify HTTP path is correct 2. Check warehouse is running 3. Verify user has access to warehouse</p>"},{"location":"integrations/sources/mysql/","title":"MySQL","text":"<p>Connect to MySQL and MariaDB databases.</p>"},{"location":"integrations/sources/mysql/#requirements","title":"Requirements","text":"<ul> <li>MySQL 5.7+ or MariaDB 10.2+</li> <li>Network access from connector</li> <li>User with SELECT permissions</li> </ul>"},{"location":"integrations/sources/mysql/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/mysql/#register-source","title":"Register Source","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"mysql-prod\",\n    \"type\": \"mysql\",\n    \"connection\": {\n      \"host\": \"db.example.com\",\n      \"port\": 3306,\n      \"database\": \"analytics\",\n      \"user\": \"bi_readonly\",\n      \"password\": \"your-password\",\n      \"ssl_mode\": \"REQUIRED\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/mysql/#connection-parameters","title":"Connection Parameters","text":"Parameter Description Default <code>host</code> Database hostname Required <code>port</code> Database port <code>3306</code> <code>database</code> Database name Required <code>user</code> Username Required <code>password</code> Password Required <code>ssl_mode</code> SSL mode <code>PREFERRED</code> <code>charset</code> Character set <code>utf8mb4</code>"},{"location":"integrations/sources/mysql/#ssl-modes","title":"SSL Modes","text":"Mode Description <code>DISABLED</code> No SSL <code>PREFERRED</code> Use SSL if available <code>REQUIRED</code> Require SSL <code>VERIFY_CA</code> Verify server certificate <code>VERIFY_IDENTITY</code> Verify certificate + hostname"},{"location":"integrations/sources/mysql/#dataset-configuration","title":"Dataset Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: mysql-prod\n    table: orders\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n</code></pre>"},{"location":"integrations/sources/mysql/#database-setup","title":"Database Setup","text":""},{"location":"integrations/sources/mysql/#create-read-only-user","title":"Create Read-Only User","text":"<pre><code>-- Create user\nCREATE USER 'bi_readonly'@'%' IDENTIFIED BY 'secure-password';\n\n-- Grant select on database\nGRANT SELECT ON analytics.* TO 'bi_readonly'@'%';\n\n-- Apply changes\nFLUSH PRIVILEGES;\n</code></pre>"},{"location":"integrations/sources/mysql/#enable-remote-access","title":"Enable Remote Access","text":"<p>Edit <code>my.cnf</code>:</p> <pre><code>[mysqld]\nbind-address = 0.0.0.0\n</code></pre>"},{"location":"integrations/sources/mysql/#mariadb","title":"MariaDB","text":"<p>The MySQL adapter works with MariaDB:</p> <pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"mariadb-prod\",\n    \"type\": \"mariadb\",\n    \"connection\": {\n      \"host\": \"mariadb.example.com\",\n      \"port\": 3306,\n      \"database\": \"analytics\",\n      \"user\": \"bi_readonly\",\n      \"password\": \"your-password\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/mysql/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/mysql/#connection-refused","title":"Connection Refused","text":"<pre><code>Can't connect to MySQL server on 'host' (111)\n</code></pre> <p>Solutions: 1. Verify MySQL is running 2. Check <code>bind-address</code> allows connections 3. Check firewall rules 4. Verify port number</p>"},{"location":"integrations/sources/mysql/#access-denied","title":"Access Denied","text":"<pre><code>Access denied for user 'bi_readonly'@'host'\n</code></pre> <p>Solutions: 1. Verify username and password 2. Check user host restrictions (<code>%</code> for any host) 3. Verify GRANT privileges</p>"},{"location":"integrations/sources/oracle/","title":"Oracle Database","text":"<p>Connect SetuPranali to Oracle Database, Oracle Cloud Autonomous Database (ATP/ADW), and Oracle Exadata.</p>"},{"location":"integrations/sources/oracle/#overview","title":"Overview","text":"<p>Oracle Database is ideal for:</p> <ul> <li>Enterprise mission-critical applications</li> <li>Oracle Cloud Infrastructure (OCI)</li> <li>Existing Oracle data warehouses</li> <li>Oracle Autonomous Database (ATP/ADW)</li> <li>High-performance OLAP workloads</li> </ul> <p>Oracle Cloud Support</p> <p>SetuPranali supports Oracle Autonomous Transaction Processing (ATP) and Autonomous Data Warehouse (ADW) with wallet-based authentication.</p>"},{"location":"integrations/sources/oracle/#prerequisites","title":"Prerequisites","text":"<p>Install the Oracle Python driver:</p> <pre><code># Recommended (modern, thin client)\npip install oracledb\n\n# Legacy (requires Oracle Client libraries)\npip install cx_Oracle\n</code></pre>"},{"location":"integrations/sources/oracle/#oracle-client-optional","title":"Oracle Client (Optional)","text":"<p>For thick mode (required for some advanced features):</p> macOSLinuxWindows <pre><code># Download Instant Client from Oracle\n# https://www.oracle.com/database/technologies/instant-client.html\n\n# Unzip and set environment\nexport ORACLE_HOME=/path/to/instantclient\nexport DYLD_LIBRARY_PATH=$ORACLE_HOME\n</code></pre> <pre><code># Install libaio\nsudo apt-get install libaio1\n\n# Download and extract Instant Client\nwget https://download.oracle.com/otn_software/linux/instantclient/instantclient-basic-linux.zip\nunzip instantclient-basic-linux.zip\n\n# Set environment\nexport LD_LIBRARY_PATH=/path/to/instantclient:$LD_LIBRARY_PATH\n</code></pre> <p>Download Instant Client from Oracle and add to PATH.</p>"},{"location":"integrations/sources/oracle/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/oracle/#register-via-api","title":"Register via API","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"my-oracle\",\n    \"type\": \"oracle\",\n    \"connection\": {\n      \"host\": \"oracle.company.com\",\n      \"service_name\": \"ORCL\",\n      \"user\": \"bi_user\",\n      \"password\": \"secret\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/oracle/#configuration-options","title":"Configuration Options","text":"Option Required Default Description <code>host</code> \u2705* - Server hostname or IP <code>port</code> <code>1521</code> Listener port <code>service_name</code> \u2705* - Oracle service name <code>sid</code> - Oracle SID (alternative to service_name) <code>dsn</code> - Full DSN string (alternative to host/service) <code>user</code> \u2705 - Username <code>password</code> \u2705 - Password <code>wallet_location</code> - Path to Oracle Wallet directory <code>wallet_password</code> - Wallet password <code>thick_mode</code> <code>false</code> Use thick client mode <code>lib_dir</code> - Oracle Client library directory <code>encoding</code> <code>UTF-8</code> Character encoding <code>connection_timeout</code> <code>30</code> Connection timeout (seconds) <code>query_timeout</code> <code>0</code> Query timeout (0 = no limit) <code>prefetch_rows</code> <code>1000</code> Rows to prefetch <code>arraysize</code> <code>1000</code> Fetch array size <code>pool_min</code> <code>1</code> Minimum connection pool size <code>pool_max</code> <code>5</code> Maximum connection pool size <p>*Either <code>dsn</code> or <code>host</code> + <code>service_name</code>/<code>sid</code> is required.</p>"},{"location":"integrations/sources/oracle/#examples","title":"Examples","text":""},{"location":"integrations/sources/oracle/#basic-connection","title":"Basic Connection","text":"<pre><code>{\n  \"name\": \"oracle-prod\",\n  \"type\": \"oracle\",\n  \"connection\": {\n    \"host\": \"oracle.company.com\",\n    \"port\": 1521,\n    \"service_name\": \"ORCL\",\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#easy-connect-string","title":"Easy Connect String","text":"<pre><code>{\n  \"name\": \"oracle-easy\",\n  \"type\": \"oracle\",\n  \"connection\": {\n    \"dsn\": \"oracle.company.com:1521/ORCL\",\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#oracle-cloud-atpadw","title":"Oracle Cloud ATP/ADW","text":"<pre><code>{\n  \"name\": \"oracle-atp\",\n  \"type\": \"atp\",\n  \"connection\": {\n    \"dsn\": \"myatp_high\",\n    \"user\": \"ADMIN\",\n    \"password\": \"secure_password\",\n    \"wallet_location\": \"/path/to/wallet\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#using-sid","title":"Using SID","text":"<pre><code>{\n  \"name\": \"oracle-sid\",\n  \"type\": \"oracle\",\n  \"connection\": {\n    \"host\": \"oracle.company.com\",\n    \"port\": 1521,\n    \"sid\": \"ORCL\",\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#with-connection-pool","title":"With Connection Pool","text":"<pre><code>{\n  \"name\": \"oracle-pooled\",\n  \"type\": \"oracle\",\n  \"connection\": {\n    \"host\": \"oracle.company.com\",\n    \"service_name\": \"ORCL\",\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\",\n    \"pool_min\": 2,\n    \"pool_max\": 10\n  }\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#thick-mode-advanced-features","title":"Thick Mode (Advanced Features)","text":"<pre><code>{\n  \"name\": \"oracle-thick\",\n  \"type\": \"oracle\",\n  \"connection\": {\n    \"host\": \"oracle.company.com\",\n    \"service_name\": \"ORCL\",\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\",\n    \"thick_mode\": true,\n    \"lib_dir\": \"/opt/oracle/instantclient\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#oracle-cloud-setup","title":"Oracle Cloud Setup","text":""},{"location":"integrations/sources/oracle/#1-download-wallet","title":"1. Download Wallet","text":"<ol> <li>Go to Oracle Cloud Console</li> <li>Navigate to your ATP/ADW instance</li> <li>Click \"DB Connection\"</li> <li>Download the wallet ZIP file</li> <li>Extract to a secure location</li> </ol>"},{"location":"integrations/sources/oracle/#2-configure-connection","title":"2. Configure Connection","text":"<pre><code>{\n  \"name\": \"cloud-adw\",\n  \"type\": \"adw\",\n  \"connection\": {\n    \"dsn\": \"mydb_high\",\n    \"user\": \"ADMIN\",\n    \"password\": \"your_password\",\n    \"wallet_location\": \"/secure/path/wallet\"\n  }\n}\n</code></pre> <p>The <code>dsn</code> value corresponds to TNS names in the wallet's <code>tnsnames.ora</code>: - <code>mydb_high</code> - High priority, parallel queries - <code>mydb_medium</code> - Medium priority - <code>mydb_low</code> - Low priority, background jobs - <code>mydb_tp</code> - Transaction Processing - <code>mydb_tpurgent</code> - Urgent Transaction Processing</p>"},{"location":"integrations/sources/oracle/#dataset-configuration","title":"Dataset Configuration","text":""},{"location":"integrations/sources/oracle/#catalogyaml-example","title":"catalog.yaml Example","text":"<pre><code>datasets:\n  - id: sales\n    name: Sales Analytics\n    description: Sales data from Oracle\n    source: my-oracle\n    table: SALES.FACT_SALES\n    dimensions:\n      - name: region\n        expr: REGION_NAME\n      - name: product\n        expr: PRODUCT_CATEGORY\n      - name: date\n        expr: SALE_DATE\n        type: date\n    metrics:\n      - name: revenue\n        expr: \"SUM(AMOUNT)\"\n      - name: orders\n        expr: \"COUNT(*)\"\n      - name: avg_order_value\n        expr: \"AVG(AMOUNT)\"\n    rls:\n      mode: tenant_column\n      field: TENANT_ID\n</code></pre>"},{"location":"integrations/sources/oracle/#using-schema-prefix","title":"Using Schema Prefix","text":"<pre><code>datasets:\n  - id: customers\n    source: my-oracle\n    table: ANALYTICS.DIM_CUSTOMERS\n    dimensions:\n      - name: customer_id\n      - name: name\n      - name: segment\n</code></pre> <p>Case Sensitivity</p> <p>Oracle identifiers are uppercase by default. Use uppercase in your catalog unless you created objects with quoted identifiers.</p>"},{"location":"integrations/sources/oracle/#performance-tips","title":"Performance Tips","text":""},{"location":"integrations/sources/oracle/#1-connection-pooling","title":"1. Connection Pooling","text":"<p>Use connection pooling for better performance:</p> <pre><code>{\n  \"pool_min\": 2,\n  \"pool_max\": 10\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#2-increase-prefetch-size","title":"2. Increase Prefetch Size","text":"<p>For large result sets:</p> <pre><code>{\n  \"prefetch_rows\": 5000,\n  \"arraysize\": 5000\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#3-use-thin-mode","title":"3. Use Thin Mode","text":"<p>The default thin mode (oracledb) is faster for most use cases:</p> <pre><code>{\n  \"thick_mode\": false\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#4-choose-right-service-level-cloud","title":"4. Choose Right Service Level (Cloud)","text":"<p>For analytics, use <code>_high</code> or <code>_medium</code> service levels:</p> <pre><code>{\n  \"dsn\": \"mydb_high\"\n}\n</code></pre>"},{"location":"integrations/sources/oracle/#5-enable-query-caching","title":"5. Enable Query Caching","text":"<pre><code># values.yaml (Helm)\nconfig:\n  cache:\n    enabled: true\n    ttl: 300\n</code></pre>"},{"location":"integrations/sources/oracle/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/oracle/#ora-12154-tns-could-not-resolve","title":"ORA-12154: TNS could not resolve","text":"<pre><code>ORA-12154: TNS:could not resolve the connect identifier specified\n</code></pre> <p>Solutions: 1. Check service_name or sid is correct 2. Verify tnsnames.ora configuration 3. Use Easy Connect format: <code>host:port/service_name</code> 4. For cloud, ensure wallet is extracted correctly</p>"},{"location":"integrations/sources/oracle/#ora-01017-invalid-usernamepassword","title":"ORA-01017: Invalid username/password","text":"<pre><code>ORA-01017: invalid username/password; logon denied\n</code></pre> <p>Solutions: 1. Verify username and password 2. For cloud, use ADMIN user initially 3. Check password hasn't expired 4. Verify user has CREATE SESSION privilege</p>"},{"location":"integrations/sources/oracle/#ora-12541-no-listener","title":"ORA-12541: No listener","text":"<pre><code>ORA-12541: TNS:no listener\n</code></pre> <p>Solutions: 1. Verify host and port are correct 2. Check Oracle listener is running 3. Verify network connectivity 4. Check firewall rules</p>"},{"location":"integrations/sources/oracle/#wallet-errors","title":"Wallet Errors","text":"<pre><code>DPY-6005: cannot connect to database\n</code></pre> <p>Solutions: 1. Verify wallet_location path is correct 2. Ensure wallet files exist (cwallet.sso, tnsnames.ora) 3. Check wallet permissions 4. Verify wallet hasn't expired</p>"},{"location":"integrations/sources/oracle/#performance-issues","title":"Performance Issues","text":"<p>Solutions: 1. Increase prefetch_rows and arraysize 2. Use connection pooling 3. Add indexes on frequently queried columns 4. Use materialized views for complex aggregations</p>"},{"location":"integrations/sources/oracle/#security","title":"Security","text":""},{"location":"integrations/sources/oracle/#row-level-security","title":"Row-Level Security","text":"<p>SetuPranali automatically applies RLS:</p> <pre><code>datasets:\n  - id: sales\n    rls:\n      mode: tenant_column\n      field: TENANT_ID\n</code></pre>"},{"location":"integrations/sources/oracle/#minimal-permissions","title":"Minimal Permissions","text":"<p>Grant only necessary permissions:</p> <pre><code>-- Create a read-only user\nCREATE USER bi_user IDENTIFIED BY \"secure_password\";\n\n-- Grant connect privilege\nGRANT CREATE SESSION TO bi_user;\n\n-- Grant read access to specific tables\nGRANT SELECT ON schema_name.table_name TO bi_user;\n\n-- Or grant read access to all tables in a schema\nGRANT SELECT ANY TABLE TO bi_user;  -- Use with caution\n</code></pre>"},{"location":"integrations/sources/oracle/#wallet-security","title":"Wallet Security","text":"<p>For Oracle Cloud: 1. Store wallet in a secure location 2. Set restrictive permissions: <code>chmod 600 wallet/*</code> 3. Use wallet_password for additional security 4. Rotate wallet periodically</p>"},{"location":"integrations/sources/oracle/#cli-usage","title":"CLI Usage","text":"<pre><code># Add Oracle source\nsetupranali sources add \\\n  --name my-oracle \\\n  --type oracle \\\n  --config '{\"host\":\"oracle.example.com\",\"service_name\":\"ORCL\",\"user\":\"bi_user\",\"password\":\"secret\"}'\n\n# Test connection\nsetupranali sources test my-oracle\n\n# Query\nsetupranali query sales -d region -m revenue\n</code></pre>"},{"location":"integrations/sources/oracle/#api-examples","title":"API Examples","text":""},{"location":"integrations/sources/oracle/#query-via-rest","title":"Query via REST","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\", \"orders\"],\n    \"limit\": 100\n  }'\n</code></pre>"},{"location":"integrations/sources/oracle/#sql-with-rls","title":"SQL with RLS","text":"<pre><code>curl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: tenant-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sql\": \"SELECT region, SUM(amount) as revenue FROM SALES.FACT_SALES GROUP BY region\",\n    \"dataset\": \"sales\"\n  }'\n</code></pre>"},{"location":"integrations/sources/oracle/#type-aliases","title":"Type Aliases","text":"Alias Use Case <code>oracle</code> Standard Oracle Database <code>oracledb</code> Alternative name <code>oci</code> Oracle Cloud Infrastructure <code>atp</code> Autonomous Transaction Processing <code>adw</code> Autonomous Data Warehouse"},{"location":"integrations/sources/postgresql/","title":"PostgreSQL","text":"<p>Connect to PostgreSQL databases.</p>"},{"location":"integrations/sources/postgresql/#requirements","title":"Requirements","text":"<ul> <li>PostgreSQL 11 or later</li> <li>Network access from connector to database</li> <li>User with SELECT permissions</li> </ul>"},{"location":"integrations/sources/postgresql/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/postgresql/#register-source","title":"Register Source","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"postgres-prod\",\n    \"type\": \"postgres\",\n    \"connection\": {\n      \"host\": \"db.example.com\",\n      \"port\": 5432,\n      \"database\": \"analytics\",\n      \"user\": \"bi_readonly\",\n      \"password\": \"your-password\",\n      \"sslmode\": \"require\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/postgresql/#connection-parameters","title":"Connection Parameters","text":"Parameter Description Default <code>host</code> Database hostname Required <code>port</code> Database port <code>5432</code> <code>database</code> Database name Required <code>user</code> Username Required <code>password</code> Password Required <code>sslmode</code> SSL mode <code>prefer</code> <code>connect_timeout</code> Connection timeout (seconds) <code>10</code>"},{"location":"integrations/sources/postgresql/#ssl-modes","title":"SSL Modes","text":"Mode Description <code>disable</code> No SSL <code>allow</code> Try SSL, fallback to non-SSL <code>prefer</code> Try SSL, fallback to non-SSL <code>require</code> Require SSL <code>verify-ca</code> Require SSL + verify CA <code>verify-full</code> Require SSL + verify CA + hostname"},{"location":"integrations/sources/postgresql/#dataset-configuration","title":"Dataset Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: orders\n    source: postgres-prod\n    table: public.orders\n\n    dimensions:\n      - name: region\n        type: string\n        expr: region\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(amount)\"\n</code></pre>"},{"location":"integrations/sources/postgresql/#database-setup","title":"Database Setup","text":""},{"location":"integrations/sources/postgresql/#create-read-only-user","title":"Create Read-Only User","text":"<pre><code>-- Create user\nCREATE USER bi_readonly WITH PASSWORD 'secure-password';\n\n-- Grant connect\nGRANT CONNECT ON DATABASE analytics TO bi_readonly;\n\n-- Grant schema usage\nGRANT USAGE ON SCHEMA public TO bi_readonly;\n\n-- Grant select on all tables\nGRANT SELECT ON ALL TABLES IN SCHEMA public TO bi_readonly;\n\n-- Grant for future tables\nALTER DEFAULT PRIVILEGES IN SCHEMA public \n  GRANT SELECT ON TABLES TO bi_readonly;\n</code></pre>"},{"location":"integrations/sources/postgresql/#network-configuration","title":"Network Configuration","text":"<p>Edit <code>pg_hba.conf</code> for external access:</p> <pre><code># Allow from connector IP\nhost    analytics    bi_readonly    10.0.0.0/8    scram-sha-256\n</code></pre>"},{"location":"integrations/sources/postgresql/#performance","title":"Performance","text":""},{"location":"integrations/sources/postgresql/#connection-pooling","title":"Connection Pooling","text":"<p>The adapter uses connection pooling:</p> <pre><code>min_connections: 1\nmax_connections: 10\n</code></pre>"},{"location":"integrations/sources/postgresql/#recommended-indexes","title":"Recommended Indexes","text":"<pre><code>-- Index tenant column for RLS\nCREATE INDEX idx_orders_tenant ON orders(tenant_id);\n\n-- Index date column for incremental refresh\nCREATE INDEX idx_orders_date ON orders(order_date);\n\n-- Composite index for common queries\nCREATE INDEX idx_orders_tenant_date \n  ON orders(tenant_id, order_date);\n</code></pre>"},{"location":"integrations/sources/postgresql/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/postgresql/#connection-refused","title":"Connection Refused","text":"<pre><code>psycopg2.OperationalError: could not connect to server: Connection refused\n</code></pre> <p>Solutions: 1. Verify PostgreSQL is running 2. Check host and port 3. Check <code>pg_hba.conf</code> allows connections 4. Check firewall rules</p>"},{"location":"integrations/sources/postgresql/#authentication-failed","title":"Authentication Failed","text":"<pre><code>FATAL: password authentication failed for user \"bi_readonly\"\n</code></pre> <p>Solutions: 1. Verify username and password 2. Check user exists: <code>\\du</code> 3. Check <code>pg_hba.conf</code> authentication method</p>"},{"location":"integrations/sources/postgresql/#ssl-error","title":"SSL Error","text":"<pre><code>SSL connection is required\n</code></pre> <p>Solutions: 1. Add <code>sslmode: require</code> to connection 2. Or disable SSL on server (not recommended)</p>"},{"location":"integrations/sources/redshift/","title":"Redshift","text":"<p>Connect to Amazon Redshift.</p>"},{"location":"integrations/sources/redshift/#requirements","title":"Requirements","text":"<ul> <li>Redshift cluster or Serverless</li> <li>VPC/Network access</li> <li>User with SELECT permissions</li> </ul>"},{"location":"integrations/sources/redshift/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/redshift/#register-source","title":"Register Source","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"redshift-prod\",\n    \"type\": \"redshift\",\n    \"connection\": {\n      \"host\": \"cluster.xxx.us-east-1.redshift.amazonaws.com\",\n      \"port\": 5439,\n      \"database\": \"analytics\",\n      \"user\": \"bi_readonly\",\n      \"password\": \"your-password\",\n      \"ssl\": true\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/redshift/#connection-parameters","title":"Connection Parameters","text":"Parameter Description Default <code>host</code> Cluster endpoint Required <code>port</code> Database port <code>5439</code> <code>database</code> Database name Required <code>user</code> Username Required <code>password</code> Password Required <code>ssl</code> Enable SSL <code>true</code>"},{"location":"integrations/sources/redshift/#dataset-configuration","title":"Dataset Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: events\n    source: redshift-prod\n    table: analytics.events\n\n    dimensions:\n      - name: event_type\n        type: string\n        expr: event_type\n\n    metrics:\n      - name: event_count\n        type: number\n        expr: \"COUNT(*)\"\n</code></pre>"},{"location":"integrations/sources/redshift/#redshift-setup","title":"Redshift Setup","text":""},{"location":"integrations/sources/redshift/#create-read-only-user","title":"Create Read-Only User","text":"<pre><code>-- Create user\nCREATE USER bi_readonly PASSWORD 'secure-password';\n\n-- Grant schema usage\nGRANT USAGE ON SCHEMA analytics TO bi_readonly;\n\n-- Grant select on tables\nGRANT SELECT ON ALL TABLES IN SCHEMA analytics TO bi_readonly;\n</code></pre>"},{"location":"integrations/sources/redshift/#redshift-serverless","title":"Redshift Serverless","text":"<p>For Serverless workgroups:</p> <pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -d '{\n    \"name\": \"redshift-serverless\",\n    \"type\": \"redshift\",\n    \"connection\": {\n      \"host\": \"workgroup.xxx.us-east-1.redshift-serverless.amazonaws.com\",\n      \"port\": 5439,\n      \"database\": \"dev\",\n      \"user\": \"admin\",\n      \"password\": \"your-password\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/redshift/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/redshift/#connection-timeout","title":"Connection Timeout","text":"<pre><code>Connection timed out\n</code></pre> <p>Solutions: 1. Check VPC security groups 2. Verify cluster is publicly accessible (or use VPN) 3. Check network ACLs</p>"},{"location":"integrations/sources/redshift/#access-denied","title":"Access Denied","text":"<pre><code>Permission denied for relation\n</code></pre> <p>Solutions: 1. Verify GRANT SELECT was executed 2. Check schema permissions 3. Verify user exists</p>"},{"location":"integrations/sources/snowflake/","title":"Snowflake","text":"<p>Connect to Snowflake data warehouse.</p>"},{"location":"integrations/sources/snowflake/#requirements","title":"Requirements","text":"<ul> <li>Snowflake account</li> <li>User with SELECT permissions</li> <li>Warehouse for query execution</li> </ul>"},{"location":"integrations/sources/snowflake/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/snowflake/#register-source","title":"Register Source","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"snowflake-prod\",\n    \"type\": \"snowflake\",\n    \"connection\": {\n      \"account\": \"abc123.us-east-1\",\n      \"user\": \"BI_SERVICE\",\n      \"password\": \"your-password\",\n      \"warehouse\": \"ANALYTICS_WH\",\n      \"database\": \"ANALYTICS\",\n      \"schema\": \"PUBLIC\",\n      \"role\": \"ANALYST\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/snowflake/#connection-parameters","title":"Connection Parameters","text":"Parameter Description Default <code>account</code> Snowflake account identifier Required <code>user</code> Username Required <code>password</code> Password Required <code>warehouse</code> Warehouse name Required <code>database</code> Database name Required <code>schema</code> Schema name <code>PUBLIC</code> <code>role</code> Role to use User's default"},{"location":"integrations/sources/snowflake/#account-identifier-format","title":"Account Identifier Format","text":"<pre><code># Standard\naccount: xyz12345\n\n# With region\naccount: xyz12345.us-east-1\n\n# With cloud provider\naccount: xyz12345.us-east-1.aws\n</code></pre>"},{"location":"integrations/sources/snowflake/#authentication-methods","title":"Authentication Methods","text":""},{"location":"integrations/sources/snowflake/#password","title":"Password","text":"<pre><code>{\n  \"account\": \"xyz12345\",\n  \"user\": \"BI_SERVICE\",\n  \"password\": \"your-password\"\n}\n</code></pre>"},{"location":"integrations/sources/snowflake/#key-pair","title":"Key Pair","text":"<pre><code>{\n  \"account\": \"xyz12345\",\n  \"user\": \"BI_SERVICE\",\n  \"private_key_path\": \"/path/to/rsa_key.p8\",\n  \"private_key_passphrase\": \"optional-passphrase\"\n}\n</code></pre>"},{"location":"integrations/sources/snowflake/#dataset-configuration","title":"Dataset Configuration","text":"<pre><code># catalog.yaml\ndatasets:\n  - name: sales\n    source: snowflake-prod\n    table: ANALYTICS.FACT_SALES\n\n    dimensions:\n      - name: region\n        type: string\n        expr: REGION_NAME\n\n    metrics:\n      - name: revenue\n        type: number\n        expr: \"SUM(SALE_AMOUNT)\"\n</code></pre>"},{"location":"integrations/sources/snowflake/#snowflake-setup","title":"Snowflake Setup","text":""},{"location":"integrations/sources/snowflake/#create-service-user","title":"Create Service User","text":"<pre><code>-- Create role\nCREATE ROLE BI_READER;\n\n-- Grant warehouse usage\nGRANT USAGE ON WAREHOUSE ANALYTICS_WH TO ROLE BI_READER;\n\n-- Grant database access\nGRANT USAGE ON DATABASE ANALYTICS TO ROLE BI_READER;\nGRANT USAGE ON SCHEMA ANALYTICS.PUBLIC TO ROLE BI_READER;\n\n-- Grant table access\nGRANT SELECT ON ALL TABLES IN SCHEMA ANALYTICS.PUBLIC TO ROLE BI_READER;\nGRANT SELECT ON FUTURE TABLES IN SCHEMA ANALYTICS.PUBLIC TO ROLE BI_READER;\n\n-- Create user\nCREATE USER BI_SERVICE\n  PASSWORD = 'secure-password'\n  DEFAULT_ROLE = BI_READER\n  DEFAULT_WAREHOUSE = ANALYTICS_WH;\n\n-- Assign role\nGRANT ROLE BI_READER TO USER BI_SERVICE;\n</code></pre>"},{"location":"integrations/sources/snowflake/#network-policy-optional","title":"Network Policy (Optional)","text":"<p>Restrict access to connector IPs:</p> <pre><code>CREATE NETWORK POLICY bi_connector_policy\n  ALLOWED_IP_LIST = ('10.0.0.0/8', '192.168.1.100')\n  BLOCKED_IP_LIST = ();\n\nALTER USER BI_SERVICE SET NETWORK_POLICY = bi_connector_policy;\n</code></pre>"},{"location":"integrations/sources/snowflake/#performance","title":"Performance","text":""},{"location":"integrations/sources/snowflake/#warehouse-sizing","title":"Warehouse Sizing","text":"Query Pattern Recommended Size Light dashboards X-Small Standard reports Small Heavy analytics Medium+"},{"location":"integrations/sources/snowflake/#auto-suspend","title":"Auto-Suspend","text":"<p>Configure warehouse to suspend when idle:</p> <pre><code>ALTER WAREHOUSE ANALYTICS_WH SET\n  AUTO_SUSPEND = 60        -- Suspend after 60 seconds\n  AUTO_RESUME = TRUE;      -- Resume on query\n</code></pre>"},{"location":"integrations/sources/snowflake/#result-caching","title":"Result Caching","text":"<p>Snowflake has built-in result caching. Combined with connector caching:</p> <ol> <li>Connector cache hit \u2192 Instant response</li> <li>Connector miss, Snowflake cache hit \u2192 Fast response</li> <li>Both miss \u2192 Full query execution</li> </ol>"},{"location":"integrations/sources/snowflake/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/snowflake/#account-not-found","title":"Account Not Found","text":"<pre><code>250001: Could not connect to Snowflake backend\n</code></pre> <p>Solutions: 1. Verify account identifier format 2. Check account is active 3. Verify region/cloud in account identifier</p>"},{"location":"integrations/sources/snowflake/#warehouse-unavailable","title":"Warehouse Unavailable","text":"<pre><code>Warehouse 'ANALYTICS_WH' is not available\n</code></pre> <p>Solutions: 1. Check warehouse is not suspended 2. Verify user has USAGE privilege 3. Check warehouse size/credits</p>"},{"location":"integrations/sources/snowflake/#access-denied","title":"Access Denied","text":"<pre><code>Object 'ANALYTICS.FACT_SALES' does not exist or not authorized\n</code></pre> <p>Solutions: 1. Verify table exists 2. Check role has SELECT privilege 3. Verify database/schema context</p>"},{"location":"integrations/sources/sqlite/","title":"SQLite","text":"<p>Connect SetuPranali to SQLite databases for local development, testing, and embedded analytics.</p>"},{"location":"integrations/sources/sqlite/#overview","title":"Overview","text":"<p>SQLite is ideal for:</p> <ul> <li>Local development and testing</li> <li>Single-file embedded databases</li> <li>Edge computing and IoT devices</li> <li>Mobile and desktop applications</li> <li>Quick prototyping and demos</li> </ul> <p>Zero Dependencies</p> <p>SQLite is built into Python's standard library - no additional installation required!</p>"},{"location":"integrations/sources/sqlite/#prerequisites","title":"Prerequisites","text":"<p>None! SQLite support is included in Python by default.</p> <pre><code># Verify SQLite is available\npython -c \"import sqlite3; print(sqlite3.sqlite_version)\"\n</code></pre>"},{"location":"integrations/sources/sqlite/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/sqlite/#register-via-api","title":"Register via API","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"my-sqlite\",\n    \"type\": \"sqlite\",\n    \"connection\": {\n      \"database\": \"/path/to/data.db\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/sqlite/#configuration-options","title":"Configuration Options","text":"Option Required Default Description <code>database</code> \u2705 - Path to SQLite file or <code>:memory:</code> <code>read_only</code> <code>true</code> Open in read-only mode <code>timeout</code> <code>30</code> Connection timeout (seconds) <code>journal_mode</code> <code>WAL</code> WAL, DELETE, TRUNCATE, PERSIST, MEMORY, OFF <code>cache_size</code> <code>2000</code> Page cache size in KB <code>foreign_keys</code> <code>true</code> Enable foreign key constraints <code>check_same_thread</code> <code>false</code> Allow multi-threaded access <code>isolation_level</code> <code>None</code> Transaction isolation level <code>create</code> <code>false</code> Create database if not exists <code>extensions</code> <code>[]</code> List of extensions to load"},{"location":"integrations/sources/sqlite/#examples","title":"Examples","text":""},{"location":"integrations/sources/sqlite/#file-based-database","title":"File-Based Database","text":"<pre><code>{\n  \"name\": \"analytics-db\",\n  \"type\": \"sqlite\",\n  \"connection\": {\n    \"database\": \"/data/analytics.db\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#in-memory-database","title":"In-Memory Database","text":"<pre><code>{\n  \"name\": \"memory-db\",\n  \"type\": \"sqlite\",\n  \"connection\": {\n    \"database\": \":memory:\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#read-write-access","title":"Read-Write Access","text":"<pre><code>{\n  \"name\": \"writable-db\",\n  \"type\": \"sqlite\",\n  \"connection\": {\n    \"database\": \"/data/app.db\",\n    \"read_only\": false\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#high-performance-settings","title":"High-Performance Settings","text":"<pre><code>{\n  \"name\": \"fast-db\",\n  \"type\": \"sqlite\",\n  \"connection\": {\n    \"database\": \"/data/large.db\",\n    \"journal_mode\": \"WAL\",\n    \"cache_size\": 10000\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#with-extensions","title":"With Extensions","text":"<pre><code>{\n  \"name\": \"geo-db\",\n  \"type\": \"sqlite\",\n  \"connection\": {\n    \"database\": \"/data/geo.db\",\n    \"extensions\": [\"/usr/lib/mod_spatialite.so\"]\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#dataset-configuration","title":"Dataset Configuration","text":""},{"location":"integrations/sources/sqlite/#catalogyaml-example","title":"catalog.yaml Example","text":"<pre><code>datasets:\n  - id: orders\n    name: Orders\n    description: Order data from SQLite\n    source: my-sqlite\n    table: orders\n    dimensions:\n      - name: status\n        expr: status\n      - name: customer_id\n        expr: customer_id\n      - name: date\n        expr: order_date\n        type: date\n    metrics:\n      - name: total\n        expr: \"SUM(amount)\"\n      - name: count\n        expr: \"COUNT(*)\"\n      - name: avg_value\n        expr: \"AVG(amount)\"\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/sqlite/#using-views","title":"Using Views","text":"<pre><code>datasets:\n  - id: sales_summary\n    source: my-sqlite\n    table: v_sales_summary  # SQLite view\n    dimensions:\n      - name: region\n      - name: product\n    metrics:\n      - name: revenue\n        expr: \"SUM(revenue)\"\n</code></pre>"},{"location":"integrations/sources/sqlite/#use-cases","title":"Use Cases","text":""},{"location":"integrations/sources/sqlite/#local-development","title":"Local Development","text":"<p>Use SQLite for local development with the same schema as production:</p> <pre><code># Export production data sample\npg_dump -t orders production_db | sqlite3 local.db\n\n# Configure SetuPranali\nsetupranali sources add \\\n  --name local-dev \\\n  --type sqlite \\\n  --config '{\"database\":\"local.db\"}'\n</code></pre>"},{"location":"integrations/sources/sqlite/#testing","title":"Testing","text":"<p>Create test fixtures with in-memory SQLite:</p> <pre><code>{\n  \"name\": \"test-db\",\n  \"type\": \"sqlite\",\n  \"connection\": {\n    \"database\": \":memory:\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#edge-analytics","title":"Edge Analytics","text":"<p>Deploy SetuPranali at the edge with embedded SQLite:</p> <pre><code># Docker Compose for edge\nservices:\n  setupranali:\n    image: adeygifting/connector\n    volumes:\n      - ./data:/data\n    environment:\n      - UBI_DEFAULT_SOURCE=edge-db\n</code></pre>"},{"location":"integrations/sources/sqlite/#performance-tips","title":"Performance Tips","text":""},{"location":"integrations/sources/sqlite/#1-use-wal-mode","title":"1. Use WAL Mode","text":"<p>WAL (Write-Ahead Logging) allows concurrent reads:</p> <pre><code>{\n  \"journal_mode\": \"WAL\"\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#2-increase-cache-size","title":"2. Increase Cache Size","text":"<p>For large databases:</p> <pre><code>{\n  \"cache_size\": 10000\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#3-read-only-mode","title":"3. Read-Only Mode","text":"<p>Always use read-only for analytics:</p> <pre><code>{\n  \"read_only\": true\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#4-enable-query-caching","title":"4. Enable Query Caching","text":"<pre><code># values.yaml (Helm)\nconfig:\n  cache:\n    enabled: true\n    ttl: 300\n</code></pre>"},{"location":"integrations/sources/sqlite/#5-analyze-tables","title":"5. Analyze Tables","text":"<p>Keep optimizer statistics updated:</p> <pre><code>ANALYZE;\n</code></pre>"},{"location":"integrations/sources/sqlite/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/sqlite/#database-is-locked","title":"Database is Locked","text":"<pre><code>sqlite3.OperationalError: database is locked\n</code></pre> <p>Solutions: 1. Increase timeout: <code>\"timeout\": 60</code> 2. Use WAL mode: <code>\"journal_mode\": \"WAL\"</code> 3. Close other connections to the database 4. Check for long-running transactions</p>"},{"location":"integrations/sources/sqlite/#read-only-filesystem","title":"Read-Only Filesystem","text":"<pre><code>sqlite3.OperationalError: attempt to write a readonly database\n</code></pre> <p>Solutions: 1. Ensure <code>read_only: true</code> is set 2. Check file permissions 3. Verify the directory is writable (for WAL mode)</p>"},{"location":"integrations/sources/sqlite/#database-not-found","title":"Database Not Found","text":"<pre><code>ConnectionError: Database file not found\n</code></pre> <p>Solutions: 1. Check the path is correct 2. Use absolute paths for reliability 3. Set <code>create: true</code> to create new databases</p>"},{"location":"integrations/sources/sqlite/#corrupted-database","title":"Corrupted Database","text":"<p>Solutions: 1. Run integrity check: <code>PRAGMA integrity_check;</code> 2. Restore from backup 3. Try recovery: <code>sqlite3 corrupt.db \".recover\" | sqlite3 recovered.db</code></p>"},{"location":"integrations/sources/sqlite/#security","title":"Security","text":""},{"location":"integrations/sources/sqlite/#row-level-security","title":"Row-Level Security","text":"<p>SetuPranali automatically applies RLS:</p> <pre><code>datasets:\n  - id: orders\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/sqlite/#file-permissions","title":"File Permissions","text":"<p>Secure your SQLite files:</p> <pre><code># Set restrictive permissions\nchmod 600 /data/analytics.db\n\n# Set owner\nchown app:app /data/analytics.db\n</code></pre>"},{"location":"integrations/sources/sqlite/#read-only-mode","title":"Read-Only Mode","text":"<p>Always use read-only for BI workloads:</p> <pre><code>{\n  \"read_only\": true\n}\n</code></pre>"},{"location":"integrations/sources/sqlite/#cli-usage","title":"CLI Usage","text":"<pre><code># Add SQLite source\nsetupranali sources add \\\n  --name my-sqlite \\\n  --type sqlite \\\n  --config '{\"database\":\"/data/analytics.db\"}'\n\n# Test connection\nsetupranali sources test my-sqlite\n\n# List tables\nsetupranali introspect my-sqlite --tables\n\n# Query\nsetupranali query orders -d status -m count\n</code></pre>"},{"location":"integrations/sources/sqlite/#api-examples","title":"API Examples","text":""},{"location":"integrations/sources/sqlite/#query-via-rest","title":"Query via REST","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"orders\",\n    \"dimensions\": [\"status\"],\n    \"metrics\": [\"total\", \"count\"],\n    \"limit\": 100\n  }'\n</code></pre>"},{"location":"integrations/sources/sqlite/#sql-query","title":"SQL Query","text":"<pre><code>curl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sql\": \"SELECT status, COUNT(*) as cnt FROM orders GROUP BY status\",\n    \"dataset\": \"orders\"\n  }'\n</code></pre>"},{"location":"integrations/sources/sqlite/#comparison-with-duckdb","title":"Comparison with DuckDB","text":"Feature SQLite DuckDB Best For OLTP, small datasets OLAP, analytics File Size Limit 281 TB (theoretical) Unlimited Concurrent Reads Yes (WAL mode) Yes Columnar Storage No Yes Analytical Queries Slower Optimized Dependencies None (built-in) Requires install <p>Recommendation: Use DuckDB for analytics workloads, SQLite for development and testing.</p>"},{"location":"integrations/sources/sqlite/#type-aliases","title":"Type Aliases","text":"Alias Use Case <code>sqlite</code> Standard SQLite <code>sqlite3</code> Alternative name"},{"location":"integrations/sources/sqlserver/","title":"Microsoft SQL Server","text":"<p>Connect SetuPranali to Microsoft SQL Server, Azure SQL Database, and Azure Synapse Analytics.</p>"},{"location":"integrations/sources/sqlserver/#overview","title":"Overview","text":"<p>Microsoft SQL Server is ideal for:</p> <ul> <li>Enterprise Windows environments</li> <li>Azure SQL Database and Azure Synapse</li> <li>Power BI integration (native)</li> <li>Existing Microsoft data warehouses</li> </ul> <p>Azure SQL Support</p> <p>SetuPranali automatically detects Azure SQL connections and configures encryption.</p>"},{"location":"integrations/sources/sqlserver/#prerequisites","title":"Prerequisites","text":"<p>Install the SQL Server Python driver:</p> <pre><code># Recommended (simpler, no ODBC config)\npip install pymssql\n\n# Alternative (requires ODBC driver)\npip install pyodbc\n</code></pre>"},{"location":"integrations/sources/sqlserver/#odbc-driver-for-pyodbc","title":"ODBC Driver (for pyodbc)","text":"<p>If using <code>pyodbc</code>, install the ODBC driver:</p> WindowsmacOSUbuntu/Debian <p>Download from Microsoft</p> <pre><code>brew install microsoft/mssql-release/msodbcsql18\n</code></pre> <pre><code>curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\ncurl https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/prod.list &gt; /etc/apt/sources.list.d/mssql-release.list\napt-get update\nACCEPT_EULA=Y apt-get install -y msodbcsql18\n</code></pre>"},{"location":"integrations/sources/sqlserver/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/sqlserver/#register-via-api","title":"Register via API","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"my-sqlserver\",\n    \"type\": \"sqlserver\",\n    \"connection\": {\n      \"host\": \"sqlserver.company.com\",\n      \"port\": 1433,\n      \"database\": \"analytics\",\n      \"user\": \"bi_user\",\n      \"password\": \"secret\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/sqlserver/#configuration-options","title":"Configuration Options","text":"Option Required Default Description <code>host</code> \u2705 - Server hostname or IP <code>port</code> <code>1433</code> Server port <code>database</code> \u2705 - Database name <code>user</code> \u2705* - Username (not needed for Windows auth) <code>password</code> \u2705* - Password (not needed for Windows auth) <code>trusted_connection</code> <code>false</code> Use Windows Authentication <code>encrypt</code> Auto Encrypt connection <code>trust_server_certificate</code> <code>false</code> Trust self-signed certificates <code>connection_timeout</code> <code>30</code> Connection timeout (seconds) <code>query_timeout</code> <code>0</code> Query timeout (0 = no limit) <code>application_name</code> <code>SetuPranali</code> App name in SQL Server logs <code>read_only</code> <code>true</code> Connect with read-only intent <code>azure</code> Auto Azure SQL mode <code>use_pyodbc</code> <code>false</code> Force pyodbc driver <code>driver</code> Auto ODBC driver name"},{"location":"integrations/sources/sqlserver/#examples","title":"Examples","text":""},{"location":"integrations/sources/sqlserver/#on-premises-sql-server","title":"On-Premises SQL Server","text":"<pre><code>{\n  \"name\": \"sql-analytics\",\n  \"type\": \"sqlserver\",\n  \"connection\": {\n    \"host\": \"sqlserver.company.com\",\n    \"port\": 1433,\n    \"database\": \"analytics\",\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#azure-sql-database","title":"Azure SQL Database","text":"<pre><code>{\n  \"name\": \"azure-analytics\",\n  \"type\": \"azuresql\",\n  \"connection\": {\n    \"host\": \"myserver.database.windows.net\",\n    \"database\": \"analytics\",\n    \"user\": \"bi_user@myserver\",\n    \"password\": \"secure_password\",\n    \"azure\": true\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#windows-authentication","title":"Windows Authentication","text":"<pre><code>{\n  \"name\": \"sql-windows\",\n  \"type\": \"sqlserver\",\n  \"connection\": {\n    \"host\": \"sqlserver.company.com\",\n    \"database\": \"analytics\",\n    \"trusted_connection\": true\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#read-replica-alwayson","title":"Read Replica (AlwaysOn)","text":"<pre><code>{\n  \"name\": \"sql-replica\",\n  \"type\": \"sqlserver\",\n  \"connection\": {\n    \"host\": \"sqlserver-listener.company.com\",\n    \"database\": \"analytics\",\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\",\n    \"read_only\": true\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#with-ssl-encryption","title":"With SSL Encryption","text":"<pre><code>{\n  \"name\": \"sql-encrypted\",\n  \"type\": \"sqlserver\",\n  \"connection\": {\n    \"host\": \"sqlserver.company.com\",\n    \"database\": \"analytics\",\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\",\n    \"encrypt\": true,\n    \"trust_server_certificate\": false\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#dataset-configuration","title":"Dataset Configuration","text":""},{"location":"integrations/sources/sqlserver/#catalogyaml-example","title":"catalog.yaml Example","text":"<pre><code>datasets:\n  - id: sales\n    name: Sales Analytics\n    description: Sales data from SQL Server\n    source: my-sqlserver\n    table: dbo.fact_sales\n    dimensions:\n      - name: region\n        expr: region_name\n      - name: product\n        expr: product_category\n      - name: date\n        expr: sale_date\n        type: date\n    metrics:\n      - name: revenue\n        expr: \"SUM(amount)\"\n      - name: orders\n        expr: \"COUNT(*)\"\n      - name: avg_order_value\n        expr: \"AVG(amount)\"\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/sqlserver/#using-schema-prefix","title":"Using Schema Prefix","text":"<pre><code>datasets:\n  - id: customers\n    source: my-sqlserver\n    table: analytics.dim_customers  # schema.table format\n    dimensions:\n      - name: customer_id\n      - name: name\n      - name: segment\n</code></pre>"},{"location":"integrations/sources/sqlserver/#azure-sql-specific","title":"Azure SQL Specific","text":""},{"location":"integrations/sources/sqlserver/#azure-active-directory","title":"Azure Active Directory","text":"<p>For AAD authentication, use the <code>pyodbc</code> driver with the appropriate connection string:</p> <pre><code>{\n  \"name\": \"azure-aad\",\n  \"type\": \"sqlserver\",\n  \"connection\": {\n    \"host\": \"myserver.database.windows.net\",\n    \"database\": \"analytics\",\n    \"user\": \"user@domain.com\",\n    \"password\": \"password\",\n    \"azure\": true,\n    \"use_pyodbc\": true,\n    \"driver\": \"ODBC Driver 18 for SQL Server\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#azure-synapse-analytics","title":"Azure Synapse Analytics","text":"<pre><code>{\n  \"name\": \"synapse\",\n  \"type\": \"sqlserver\",\n  \"connection\": {\n    \"host\": \"mysynapse.sql.azuresynapse.net\",\n    \"port\": 1433,\n    \"database\": \"sqlpool\",\n    \"user\": \"sqladmin\",\n    \"password\": \"secure_password\",\n    \"azure\": true\n  }\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#performance-tips","title":"Performance Tips","text":""},{"location":"integrations/sources/sqlserver/#1-use-read-only-intent","title":"1. Use Read-Only Intent","text":"<p>For analytics workloads, use read-only connections:</p> <pre><code>{\n  \"read_only\": true\n}\n</code></pre> <p>This routes queries to read replicas in AlwaysOn configurations.</p>"},{"location":"integrations/sources/sqlserver/#2-enable-query-caching","title":"2. Enable Query Caching","text":"<pre><code># values.yaml (Helm)\nconfig:\n  cache:\n    enabled: true\n    ttl: 300\n</code></pre>"},{"location":"integrations/sources/sqlserver/#3-use-appropriate-indexes","title":"3. Use Appropriate Indexes","text":"<p>Ensure your tables have indexes on: - Dimension columns used in GROUP BY - Tenant columns for RLS - Date columns for incremental refresh</p>"},{"location":"integrations/sources/sqlserver/#4-connection-pooling","title":"4. Connection Pooling","text":"<p>The adapter maintains connections efficiently. For high-load scenarios:</p> <pre><code>{\n  \"connection_timeout\": 60,\n  \"query_timeout\": 120\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/sqlserver/#connection-refused","title":"Connection Refused","text":"<pre><code>ConnectionError: Failed to connect to SQL Server\n</code></pre> <p>Solutions: 1. Verify SQL Server is running and accessible 2. Check firewall allows port 1433 3. For Azure, ensure firewall rule includes your IP 4. Verify SQL Server Browser service is running</p>"},{"location":"integrations/sources/sqlserver/#login-failed","title":"Login Failed","text":"<pre><code>Login failed for user 'bi_user'\n</code></pre> <p>Solutions: 1. Verify username and password 2. Check user has access to the database 3. For Azure, use <code>user@server</code> format 4. Verify SQL Server authentication is enabled</p>"},{"location":"integrations/sources/sqlserver/#sslencryption-errors","title":"SSL/Encryption Errors","text":"<pre><code>SSL Provider: error:1416F086\n</code></pre> <p>Solutions: 1. Set <code>trust_server_certificate: true</code> for self-signed certs 2. Update ODBC driver to version 17+ 3. For Azure, ensure <code>encrypt: true</code></p>"},{"location":"integrations/sources/sqlserver/#timeout-errors","title":"Timeout Errors","text":"<pre><code>Query timeout expired\n</code></pre> <p>Solutions: 1. Increase <code>query_timeout</code> setting 2. Add filters to reduce data volume 3. Check query execution plan 4. Verify network latency</p>"},{"location":"integrations/sources/sqlserver/#odbc-driver-not-found","title":"ODBC Driver Not Found","text":"<pre><code>Can't open lib 'ODBC Driver 17 for SQL Server'\n</code></pre> <p>Solutions: 1. Install ODBC driver (see Prerequisites) 2. Use <code>pymssql</code> instead: <code>use_pyodbc: false</code> 3. Specify driver name: <code>driver: \"SQL Server Native Client 11.0\"</code></p>"},{"location":"integrations/sources/sqlserver/#security","title":"Security","text":""},{"location":"integrations/sources/sqlserver/#row-level-security","title":"Row-Level Security","text":"<p>SetuPranali automatically applies RLS:</p> <pre><code>datasets:\n  - id: sales\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/sqlserver/#minimal-permissions","title":"Minimal Permissions","text":"<p>Grant only necessary permissions:</p> <pre><code>-- Create a read-only user\nCREATE LOGIN bi_user WITH PASSWORD = 'secure_password';\nCREATE USER bi_user FOR LOGIN bi_user;\n\n-- Grant read access to specific tables\nGRANT SELECT ON schema_name.table_name TO bi_user;\n\n-- Or grant db_datareader role\nALTER ROLE db_datareader ADD MEMBER bi_user;\n</code></pre>"},{"location":"integrations/sources/sqlserver/#encrypted-connections","title":"Encrypted Connections","text":"<p>For production, always use encryption:</p> <pre><code>{\n  \"encrypt\": true,\n  \"trust_server_certificate\": false\n}\n</code></pre>"},{"location":"integrations/sources/sqlserver/#cli-usage","title":"CLI Usage","text":"<pre><code># Add SQL Server source\nsetupranali sources add \\\n  --name my-sqlserver \\\n  --type sqlserver \\\n  --config '{\"host\":\"sqlserver.example.com\",\"database\":\"analytics\",\"user\":\"bi_user\",\"password\":\"secret\"}'\n\n# Test connection\nsetupranali sources test my-sqlserver\n\n# Query\nsetupranali query sales -d region -m revenue\n</code></pre>"},{"location":"integrations/sources/sqlserver/#api-examples","title":"API Examples","text":""},{"location":"integrations/sources/sqlserver/#query-via-rest","title":"Query via REST","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\", \"orders\"],\n    \"limit\": 100\n  }'\n</code></pre>"},{"location":"integrations/sources/sqlserver/#sql-with-rls","title":"SQL with RLS","text":"<pre><code>curl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: tenant-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sql\": \"SELECT region, SUM(amount) as revenue FROM dbo.fact_sales GROUP BY region\",\n    \"dataset\": \"sales\"\n  }'\n</code></pre>"},{"location":"integrations/sources/timescaledb/","title":"TimescaleDB","text":"<p>Connect SetuPranali to TimescaleDB for time-series analytics, IoT data, and real-time monitoring.</p>"},{"location":"integrations/sources/timescaledb/#overview","title":"Overview","text":"<p>TimescaleDB is ideal for:</p> <ul> <li>Time-series data and IoT analytics</li> <li>Real-time monitoring and observability</li> <li>Financial tick data and metrics</li> <li>Sensor data and telemetry</li> <li>Log analytics and events</li> </ul> <p>PostgreSQL Compatible</p> <p>TimescaleDB is a PostgreSQL extension - all PostgreSQL features work seamlessly!</p>"},{"location":"integrations/sources/timescaledb/#prerequisites","title":"Prerequisites","text":"<p>Install the PostgreSQL Python driver:</p> <pre><code>pip install psycopg2-binary\n# or for better performance:\npip install psycopg[binary]\n</code></pre>"},{"location":"integrations/sources/timescaledb/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/timescaledb/#register-via-api","title":"Register via API","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"my-timescale\",\n    \"type\": \"timescaledb\",\n    \"connection\": {\n      \"host\": \"timescale.company.com\",\n      \"database\": \"metrics\",\n      \"user\": \"analytics\",\n      \"password\": \"secret\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/timescaledb/#configuration-options","title":"Configuration Options","text":"Option Required Default Description <code>host</code> \u2705 - Server hostname or IP <code>port</code> <code>5432</code> Server port <code>database</code> \u2705 - Database name <code>user</code> \u2705 - Username <code>password</code> \u2705 - Password <code>schema</code> <code>public</code> Default schema <code>sslmode</code> <code>prefer</code> SSL mode (disable, allow, prefer, require) <code>connect_timeout</code> <code>30</code> Connection timeout (seconds) <code>application_name</code> <code>SetuPranali</code> Application identifier <code>compression_enabled</code> <code>true</code> Query compressed chunks"},{"location":"integrations/sources/timescaledb/#examples","title":"Examples","text":""},{"location":"integrations/sources/timescaledb/#self-hosted-timescaledb","title":"Self-Hosted TimescaleDB","text":"<pre><code>{\n  \"name\": \"timescale-metrics\",\n  \"type\": \"timescaledb\",\n  \"connection\": {\n    \"host\": \"timescale.company.com\",\n    \"port\": 5432,\n    \"database\": \"metrics\",\n    \"user\": \"analytics\",\n    \"password\": \"secure_password\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/timescaledb/#timescale-cloud","title":"Timescale Cloud","text":"<pre><code>{\n  \"name\": \"timescale-cloud\",\n  \"type\": \"tsdb\",\n  \"connection\": {\n    \"host\": \"xxx.tsdb.cloud.timescale.com\",\n    \"port\": 5432,\n    \"database\": \"tsdb\",\n    \"user\": \"tsdbadmin\",\n    \"password\": \"secure_password\",\n    \"sslmode\": \"require\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/timescaledb/#with-ssl-certificate","title":"With SSL Certificate","text":"<pre><code>{\n  \"name\": \"timescale-ssl\",\n  \"type\": \"timescaledb\",\n  \"connection\": {\n    \"host\": \"timescale.company.com\",\n    \"database\": \"metrics\",\n    \"user\": \"analytics\",\n    \"password\": \"secure_password\",\n    \"sslmode\": \"verify-full\",\n    \"sslrootcert\": \"/path/to/ca.crt\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/timescaledb/#dataset-configuration","title":"Dataset Configuration","text":""},{"location":"integrations/sources/timescaledb/#time-series-dataset","title":"Time-Series Dataset","text":"<pre><code>datasets:\n  - id: sensor_metrics\n    name: Sensor Metrics\n    description: IoT sensor data from TimescaleDB\n    source: my-timescale\n    table: sensor_data\n    dimensions:\n      - name: device_id\n        expr: device_id\n      - name: location\n        expr: location\n      - name: time\n        expr: time\n        type: timestamp\n    metrics:\n      - name: avg_temperature\n        expr: \"AVG(temperature)\"\n      - name: max_temperature\n        expr: \"MAX(temperature)\"\n      - name: readings\n        expr: \"COUNT(*)\"\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/timescaledb/#using-continuous-aggregates","title":"Using Continuous Aggregates","text":"<pre><code>datasets:\n  - id: hourly_metrics\n    name: Hourly Metrics\n    description: Pre-aggregated hourly metrics\n    source: my-timescale\n    table: hourly_metrics_view  # Continuous aggregate\n    dimensions:\n      - name: device_id\n      - name: bucket\n        expr: bucket\n        type: timestamp\n    metrics:\n      - name: avg_value\n        expr: \"AVG(avg_value)\"\n      - name: total_readings\n        expr: \"SUM(count)\"\n</code></pre>"},{"location":"integrations/sources/timescaledb/#using-time_bucket","title":"Using time_bucket","text":"<pre><code>datasets:\n  - id: bucketed_metrics\n    name: Bucketed Metrics\n    source: my-timescale\n    sql: |\n      SELECT \n        time_bucket('1 hour', time) AS hour,\n        device_id,\n        AVG(value) AS avg_value,\n        COUNT(*) AS readings\n      FROM sensor_data\n      WHERE time &gt; NOW() - INTERVAL '7 days'\n      GROUP BY hour, device_id\n    dimensions:\n      - name: hour\n        type: timestamp\n      - name: device_id\n    metrics:\n      - name: avg_value\n      - name: readings\n</code></pre>"},{"location":"integrations/sources/timescaledb/#timescaledb-features","title":"TimescaleDB Features","text":""},{"location":"integrations/sources/timescaledb/#hypertables","title":"Hypertables","text":"<p>Hypertables automatically partition time-series data:</p> <pre><code>-- Create a hypertable\nSELECT create_hypertable('sensor_data', 'time');\n\n-- View hypertables\nSELECT * FROM timescaledb_information.hypertables;\n</code></pre>"},{"location":"integrations/sources/timescaledb/#continuous-aggregates","title":"Continuous Aggregates","text":"<p>Pre-compute aggregations for fast queries:</p> <pre><code>-- Create continuous aggregate\nCREATE MATERIALIZED VIEW hourly_metrics\nWITH (timescaledb.continuous) AS\nSELECT \n    time_bucket('1 hour', time) AS bucket,\n    device_id,\n    AVG(value) AS avg_value,\n    COUNT(*) AS count\nFROM sensor_data\nGROUP BY bucket, device_id;\n\n-- Add refresh policy\nSELECT add_continuous_aggregate_policy('hourly_metrics',\n    start_offset =&gt; INTERVAL '1 day',\n    end_offset =&gt; INTERVAL '1 hour',\n    schedule_interval =&gt; INTERVAL '1 hour');\n</code></pre>"},{"location":"integrations/sources/timescaledb/#compression","title":"Compression","text":"<p>Reduce storage with compression:</p> <pre><code>-- Enable compression\nALTER TABLE sensor_data SET (\n    timescaledb.compress,\n    timescaledb.compress_segmentby = 'device_id'\n);\n\n-- Add compression policy\nSELECT add_compression_policy('sensor_data', INTERVAL '7 days');\n</code></pre>"},{"location":"integrations/sources/timescaledb/#data-retention","title":"Data Retention","text":"<p>Automatically drop old data:</p> <pre><code>-- Add retention policy\nSELECT add_retention_policy('sensor_data', INTERVAL '90 days');\n</code></pre>"},{"location":"integrations/sources/timescaledb/#performance-tips","title":"Performance Tips","text":""},{"location":"integrations/sources/timescaledb/#1-use-continuous-aggregates","title":"1. Use Continuous Aggregates","text":"<p>Pre-aggregate data for common query patterns:</p> <pre><code>CREATE MATERIALIZED VIEW daily_summary\nWITH (timescaledb.continuous) AS\nSELECT \n    time_bucket('1 day', time) AS day,\n    COUNT(*),\n    AVG(value)\nFROM metrics\nGROUP BY day;\n</code></pre>"},{"location":"integrations/sources/timescaledb/#2-enable-compression","title":"2. Enable Compression","text":"<p>Compress old chunks:</p> <pre><code>SELECT add_compression_policy('metrics', INTERVAL '7 days');\n</code></pre>"},{"location":"integrations/sources/timescaledb/#3-proper-chunk-intervals","title":"3. Proper Chunk Intervals","text":"<p>Size chunks appropriately (1-2 days of data per chunk):</p> <pre><code>SELECT set_chunk_time_interval('metrics', INTERVAL '1 day');\n</code></pre>"},{"location":"integrations/sources/timescaledb/#4-use-time_bucket-for-grouping","title":"4. Use time_bucket for Grouping","text":"<pre><code>SELECT \n    time_bucket('1 hour', time) AS hour,\n    AVG(value)\nFROM metrics\nWHERE time &gt; NOW() - INTERVAL '1 day'\nGROUP BY hour;\n</code></pre>"},{"location":"integrations/sources/timescaledb/#5-enable-query-caching","title":"5. Enable Query Caching","text":"<pre><code># values.yaml (Helm)\nconfig:\n  cache:\n    enabled: true\n    ttl: 60  # Short TTL for real-time data\n</code></pre>"},{"location":"integrations/sources/timescaledb/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/timescaledb/#extension-not-found","title":"Extension Not Found","text":"<pre><code>WARNING: TimescaleDB extension not found\n</code></pre> <p>Solutions: 1. Install TimescaleDB extension: <code>CREATE EXTENSION timescaledb;</code> 2. Verify package is installed on server 3. Check user has permissions</p>"},{"location":"integrations/sources/timescaledb/#slow-queries","title":"Slow Queries","text":"<p>Solutions: 1. Use continuous aggregates for common patterns 2. Add indexes on frequently filtered columns 3. Check chunk sizes aren't too large 4. Enable compression on old data 5. Use <code>EXPLAIN ANALYZE</code> to debug</p>"},{"location":"integrations/sources/timescaledb/#out-of-memory","title":"Out of Memory","text":"<p>Solutions: 1. Reduce <code>work_mem</code> for parallel queries 2. Limit concurrent connections 3. Use streaming aggregates 4. Reduce chunk size</p>"},{"location":"integrations/sources/timescaledb/#connection-timeout","title":"Connection Timeout","text":"<p>Solutions: 1. Increase <code>connect_timeout</code> 2. Check network connectivity 3. Verify firewall rules 4. For cloud, ensure IP is whitelisted</p>"},{"location":"integrations/sources/timescaledb/#security","title":"Security","text":""},{"location":"integrations/sources/timescaledb/#row-level-security","title":"Row-Level Security","text":"<pre><code>datasets:\n  - id: sensor_data\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/timescaledb/#minimal-permissions","title":"Minimal Permissions","text":"<pre><code>-- Create read-only user\nCREATE USER bi_reader WITH PASSWORD 'secure_password';\n\n-- Grant access\nGRANT CONNECT ON DATABASE metrics TO bi_reader;\nGRANT USAGE ON SCHEMA public TO bi_reader;\nGRANT SELECT ON ALL TABLES IN SCHEMA public TO bi_reader;\n\n-- For hypertable chunks\nGRANT SELECT ON ALL TABLES IN SCHEMA _timescaledb_internal TO bi_reader;\n</code></pre>"},{"location":"integrations/sources/timescaledb/#cli-usage","title":"CLI Usage","text":"<pre><code># Add TimescaleDB source\nsetupranali sources add \\\n  --name my-timescale \\\n  --type timescaledb \\\n  --config '{\"host\":\"timescale.example.com\",\"database\":\"metrics\",\"user\":\"analytics\",\"password\":\"secret\"}'\n\n# Test connection\nsetupranali sources test my-timescale\n\n# Query\nsetupranali query sensor_metrics -d device_id -m avg_temperature\n</code></pre>"},{"location":"integrations/sources/timescaledb/#api-examples","title":"API Examples","text":""},{"location":"integrations/sources/timescaledb/#query-via-rest","title":"Query via REST","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sensor_metrics\",\n    \"dimensions\": [\"device_id\"],\n    \"metrics\": [\"avg_temperature\", \"readings\"],\n    \"filters\": [\n      {\"dimension\": \"time\", \"operator\": \"&gt;=\", \"value\": \"2024-01-01\"}\n    ],\n    \"limit\": 100\n  }'\n</code></pre>"},{"location":"integrations/sources/timescaledb/#sql-with-time-functions","title":"SQL with Time Functions","text":"<pre><code>curl -X POST http://localhost:8080/v1/sql \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sql\": \"SELECT time_bucket('\\''1 hour'\\'', time) AS hour, device_id, AVG(value) FROM sensor_data WHERE time &gt; NOW() - INTERVAL '\\''1 day'\\'' GROUP BY hour, device_id\",\n    \"dataset\": \"sensor_metrics\"\n  }'\n</code></pre>"},{"location":"integrations/sources/timescaledb/#comparison-with-clickhouse","title":"Comparison with ClickHouse","text":"Feature TimescaleDB ClickHouse Base PostgreSQL Custom engine SQL Compatibility Full PostgreSQL ClickHouse SQL Best For Time-series with relations Pure analytics Compression Good Excellent JOINs Full support Limited Updates/Deletes Full support Limited Learning Curve Low (PostgreSQL) Medium"},{"location":"integrations/sources/timescaledb/#type-aliases","title":"Type Aliases","text":"Alias Use Case <code>timescaledb</code> Standard TimescaleDB <code>timescale</code> Alternative name <code>tsdb</code> Short alias"},{"location":"integrations/sources/trino/","title":"Trino / Presto","text":"<p>Connect SetuPranali to Trino or Presto for federated SQL queries across multiple data sources.</p>"},{"location":"integrations/sources/trino/#overview","title":"Overview","text":"<p>Trino (formerly PrestoSQL) and Presto are distributed SQL query engines optimized for:</p> <ul> <li>Interactive analytics on large datasets</li> <li>Federated queries across multiple data sources</li> <li>Data lake analytics (HDFS, S3, Azure Blob)</li> <li>Real-time data exploration</li> </ul> <p>Trino vs Presto</p> <p>Trino is the community fork of PrestoSQL. Both are supported by SetuPranali. Use <code>mode: trino</code> (default) or <code>mode: presto</code> in your configuration.</p>"},{"location":"integrations/sources/trino/#prerequisites","title":"Prerequisites","text":"<p>Install the Trino Python client:</p> <pre><code># For Trino (recommended)\npip install trino\n\n# For legacy Presto\npip install presto-python-client\n</code></pre>"},{"location":"integrations/sources/trino/#configuration","title":"Configuration","text":""},{"location":"integrations/sources/trino/#register-via-api","title":"Register via API","text":"<pre><code>curl -X POST http://localhost:8080/v1/sources \\\n  -H \"X-API-Key: admin-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"my-trino\",\n    \"type\": \"trino\",\n    \"connection\": {\n      \"host\": \"trino.example.com\",\n      \"port\": 8443,\n      \"user\": \"analyst\",\n      \"password\": \"secret\",\n      \"catalog\": \"hive\",\n      \"schema\": \"default\",\n      \"http_scheme\": \"https\"\n    }\n  }'\n</code></pre>"},{"location":"integrations/sources/trino/#configuration-options","title":"Configuration Options","text":"Option Required Default Description <code>host</code> \u2705 - Trino/Presto coordinator host <code>port</code> <code>8080</code> / <code>8443</code> Coordinator port <code>user</code> \u2705 - Username <code>password</code> - Password for basic auth <code>catalog</code> \u2705 - Default catalog <code>schema</code> <code>default</code> Default schema <code>mode</code> <code>trino</code> Engine mode: <code>trino</code> or <code>presto</code> <code>http_scheme</code> <code>https</code> <code>http</code> or <code>https</code> <code>source</code> <code>setupranali</code> Query source identifier <code>auth_type</code> <code>basic</code> Auth type: <code>none</code>, <code>basic</code>, <code>jwt</code> <code>jwt_token</code> - JWT token (for jwt auth) <code>verify_ssl</code> <code>true</code> Verify SSL certificates <code>request_timeout</code> <code>30</code> Request timeout (seconds) <code>query_timeout</code> <code>300</code> Query timeout (seconds)"},{"location":"integrations/sources/trino/#examples","title":"Examples","text":""},{"location":"integrations/sources/trino/#basic-trino-connection","title":"Basic Trino Connection","text":"<pre><code>{\n  \"name\": \"trino-analytics\",\n  \"type\": \"trino\",\n  \"connection\": {\n    \"host\": \"trino.company.com\",\n    \"port\": 8443,\n    \"user\": \"bi_user\",\n    \"password\": \"secure_password\",\n    \"catalog\": \"hive\",\n    \"schema\": \"analytics\",\n    \"http_scheme\": \"https\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/trino/#presto-mode","title":"Presto Mode","text":"<pre><code>{\n  \"name\": \"presto-legacy\",\n  \"type\": \"presto\",\n  \"connection\": {\n    \"host\": \"presto.company.com\",\n    \"port\": 8080,\n    \"user\": \"analyst\",\n    \"catalog\": \"hive\",\n    \"schema\": \"default\",\n    \"mode\": \"presto\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/trino/#jwt-authentication","title":"JWT Authentication","text":"<pre><code>{\n  \"name\": \"trino-jwt\",\n  \"type\": \"trino\",\n  \"connection\": {\n    \"host\": \"trino.company.com\",\n    \"port\": 8443,\n    \"user\": \"service_account\",\n    \"catalog\": \"iceberg\",\n    \"schema\": \"analytics\",\n    \"http_scheme\": \"https\",\n    \"auth_type\": \"jwt\",\n    \"jwt_token\": \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\"\n  }\n}\n</code></pre>"},{"location":"integrations/sources/trino/#no-authentication-development","title":"No Authentication (Development)","text":"<pre><code>{\n  \"name\": \"trino-dev\",\n  \"type\": \"trino\",\n  \"connection\": {\n    \"host\": \"localhost\",\n    \"port\": 8080,\n    \"user\": \"developer\",\n    \"catalog\": \"memory\",\n    \"schema\": \"default\",\n    \"http_scheme\": \"http\",\n    \"auth_type\": \"none\",\n    \"verify_ssl\": false\n  }\n}\n</code></pre>"},{"location":"integrations/sources/trino/#dataset-configuration","title":"Dataset Configuration","text":""},{"location":"integrations/sources/trino/#catalogyaml-example","title":"catalog.yaml Example","text":"<pre><code>datasets:\n  - id: sales\n    name: Sales Analytics\n    description: Sales data from data lake\n    source: my-trino\n    table: hive.analytics.fact_sales\n    dimensions:\n      - name: region\n        expr: region_name\n      - name: product\n        expr: product_category\n      - name: date\n        expr: sale_date\n        type: date\n    metrics:\n      - name: revenue\n        expr: \"SUM(amount)\"\n      - name: orders\n        expr: \"COUNT(*)\"\n      - name: avg_order_value\n        expr: \"AVG(amount)\"\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre>"},{"location":"integrations/sources/trino/#cross-catalog-queries","title":"Cross-Catalog Queries","text":"<p>Trino supports querying across multiple catalogs:</p> <pre><code>datasets:\n  - id: unified_customers\n    name: Unified Customer View\n    source: my-trino\n    # Join data from multiple catalogs\n    sql: |\n      SELECT \n        c.customer_id,\n        c.name,\n        c.email,\n        p.total_purchases,\n        s.support_tickets\n      FROM hive.customers.customer c\n      LEFT JOIN postgresql.sales.customer_summary p \n        ON c.customer_id = p.customer_id\n      LEFT JOIN mysql.support.ticket_counts s\n        ON c.customer_id = s.customer_id\n    dimensions:\n      - name: customer_id\n      - name: name\n      - name: email\n    metrics:\n      - name: total_purchases\n      - name: support_tickets\n</code></pre>"},{"location":"integrations/sources/trino/#catalogs-and-connectors","title":"Catalogs and Connectors","text":"<p>Trino supports many catalogs/connectors:</p> Catalog Type Use Case <code>hive</code> Hive Metastore (HDFS, S3) <code>iceberg</code> Apache Iceberg tables <code>delta</code> Delta Lake <code>postgresql</code> PostgreSQL databases <code>mysql</code> MySQL databases <code>mongodb</code> MongoDB collections <code>elasticsearch</code> Elasticsearch indices <code>kafka</code> Kafka topics <code>memory</code> In-memory (testing)"},{"location":"integrations/sources/trino/#example-multiple-catalogs","title":"Example: Multiple Catalogs","text":"<pre><code># Register Trino with access to multiple catalogs\nconnection:\n  host: trino.company.com\n  catalog: hive  # Default catalog\n  schema: default\n\n# Query across catalogs in your datasets\ndatasets:\n  - id: data_lake_sales\n    source: my-trino\n    table: hive.analytics.sales  # Hive catalog\n\n  - id: operational_orders\n    source: my-trino\n    table: postgresql.orders.order_summary  # PostgreSQL catalog\n</code></pre>"},{"location":"integrations/sources/trino/#performance-tips","title":"Performance Tips","text":""},{"location":"integrations/sources/trino/#1-use-appropriate-catalogs","title":"1. Use Appropriate Catalogs","text":"<pre><code>-- Good: Use Hive/Iceberg for large scans\nSELECT region, SUM(amount) FROM hive.analytics.sales GROUP BY region\n\n-- Good: Use PostgreSQL for small lookups\nSELECT * FROM postgresql.dims.regions WHERE active = true\n</code></pre>"},{"location":"integrations/sources/trino/#2-enable-caching","title":"2. Enable Caching","text":"<pre><code># values.yaml (Helm)\nconfig:\n  cache:\n    enabled: true\n    ttl: 300  # 5 minutes\n</code></pre>"},{"location":"integrations/sources/trino/#3-limit-result-sets","title":"3. Limit Result Sets","text":"<pre><code>datasets:\n  - id: sales\n    # ...\n    defaultLimit: 10000\n</code></pre>"},{"location":"integrations/sources/trino/#4-use-partitioning","title":"4. Use Partitioning","text":"<pre><code>datasets:\n  - id: sales\n    source: my-trino\n    table: hive.analytics.fact_sales\n    incremental:\n      enabled: true\n      column: sale_date\n      partitionField: sale_date\n</code></pre>"},{"location":"integrations/sources/trino/#troubleshooting","title":"Troubleshooting","text":""},{"location":"integrations/sources/trino/#connection-refused","title":"Connection Refused","text":"<pre><code>ConnectionError: Failed to connect to Trino\n</code></pre> <p>Solutions: 1. Verify host and port are correct 2. Check firewall rules 3. Verify Trino coordinator is running</p>"},{"location":"integrations/sources/trino/#authentication-failed","title":"Authentication Failed","text":"<pre><code>QueryError: Authentication failed\n</code></pre> <p>Solutions: 1. Check username and password 2. Verify auth_type matches server config 3. For JWT, ensure token is not expired</p>"},{"location":"integrations/sources/trino/#catalog-not-found","title":"Catalog Not Found","text":"<pre><code>QueryError: Catalog 'xyz' not found\n</code></pre> <p>Solutions: 1. List available catalogs: <code>SHOW CATALOGS</code> 2. Check catalog configuration in Trino 3. Verify user has access to the catalog</p>"},{"location":"integrations/sources/trino/#query-timeout","title":"Query Timeout","text":"<pre><code>QueryError: Query exceeded timeout\n</code></pre> <p>Solutions: 1. Increase <code>query_timeout</code> in config 2. Add filters to reduce data scanned 3. Check cluster resources</p>"},{"location":"integrations/sources/trino/#security","title":"Security","text":""},{"location":"integrations/sources/trino/#ssltls","title":"SSL/TLS","text":"<p>For production, always use HTTPS:</p> <pre><code>{\n  \"http_scheme\": \"https\",\n  \"verify_ssl\": true\n}\n</code></pre>"},{"location":"integrations/sources/trino/#row-level-security","title":"Row-Level Security","text":"<p>SetuPranali automatically applies RLS:</p> <pre><code>datasets:\n  - id: sales\n    rls:\n      mode: tenant_column\n      field: tenant_id\n</code></pre> <p>This adds a <code>WHERE tenant_id = 'your_tenant'</code> filter to all queries.</p>"},{"location":"integrations/sources/trino/#cli-usage","title":"CLI Usage","text":"<pre><code># Add Trino source\nsetupranali sources add \\\n  --name my-trino \\\n  --type trino \\\n  --config '{\"host\":\"trino.example.com\",\"port\":8443,\"user\":\"analyst\",\"password\":\"secret\",\"catalog\":\"hive\",\"schema\":\"default\"}'\n\n# Test connection\nsetupranali sources test my-trino\n\n# Query\nsetupranali query sales -d region -m revenue\n</code></pre>"},{"location":"integrations/sources/trino/#api-examples","title":"API Examples","text":""},{"location":"integrations/sources/trino/#query-via-rest","title":"Query via REST","text":"<pre><code>curl -X POST http://localhost:8080/v1/query \\\n  -H \"X-API-Key: your-key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"dataset\": \"sales\",\n    \"dimensions\": [\"region\"],\n    \"metrics\": [\"revenue\", \"orders\"],\n    \"limit\": 100\n  }'\n</code></pre>"},{"location":"integrations/sources/trino/#query-via-graphql","title":"Query via GraphQL","text":"<pre><code>query {\n  query(input: {\n    dataset: \"sales\"\n    dimensions: [\"region\"]\n    metrics: [\"revenue\"]\n  }) {\n    columns { name type }\n    data\n    stats { rowCount executionTimeMs cached }\n  }\n}\n</code></pre>"},{"location":"sdks/","title":"SDKs &amp; Libraries","text":"<p>Official SDKs for integrating with SetuPranali.</p>"},{"location":"sdks/#available-sdks","title":"Available SDKs","text":"<ul> <li> <p> Python SDK</p> <p>Full-featured Python client with sync/async support, pandas integration, and Jupyter widgets.</p> <p> Python SDK</p> </li> <li> <p> JavaScript/TypeScript SDK</p> <p>Modern TypeScript SDK for Node.js and browsers with full type definitions.</p> <p> JavaScript SDK</p> </li> <li> <p> Jupyter Widget</p> <p>Interactive dataset explorer for Jupyter notebooks.</p> <p> Jupyter Widget</p> </li> </ul>"},{"location":"sdks/#quick-comparison","title":"Quick Comparison","text":"Feature Python JavaScript Sync Client \u2705 \u2705 Async Client \u2705 \u2705 DataFrame Support \u2705 pandas - GraphQL Support \u2705 \u2705 TypeScript Types - \u2705 Jupyter Integration \u2705 - Browser Support - \u2705 Node.js Support - \u2705"},{"location":"sdks/#installation","title":"Installation","text":"PythonJavaScriptYarn <pre><code>pip install setupranali\n\n# With all extras\npip install setupranali[all]\n</code></pre> <pre><code>npm install @setupranali/client\n</code></pre> <pre><code>yarn add @setupranali/client\n</code></pre>"},{"location":"sdks/#quick-start","title":"Quick Start","text":"PythonJavaScript <pre><code>from setupranali import SetuPranali\n\nclient = SetuPranali(\n    url=\"http://localhost:8080\",\n    api_key=\"your-api-key\"\n)\n\n# Query data\nresult = client.query(\n    dataset=\"orders\",\n    dimensions=[\"city\"],\n    metrics=[\"total_revenue\"]\n)\n\n# Convert to DataFrame\ndf = result.to_dataframe()\nprint(df.head())\n</code></pre> <pre><code>import { SetuPranali } from '@setupranali/client';\n\nconst client = new SetuPranali({\n  url: 'http://localhost:8080',\n  apiKey: 'your-api-key'\n});\n\n// Query data\nconst result = await client.query({\n  dataset: 'orders',\n  dimensions: ['city'],\n  metrics: ['total_revenue']\n});\n\nconsole.log(result.data);\n</code></pre>"},{"location":"sdks/#coming-soon","title":"Coming Soon","text":"<ul> <li>Go SDK - For Go applications</li> <li>Rust SDK - For Rust applications  </li> <li>R Package - For R and RStudio</li> <li>Excel Add-in - Native Excel integration</li> <li>Google Sheets - Apps Script add-on</li> </ul>"},{"location":"sdks/#contributing-sdks","title":"Contributing SDKs","text":"<p>Want to contribute an SDK for another language? See our Contributing Guide.</p> <p>Requirements: - Follow the API patterns established in Python/JS SDKs - Include comprehensive tests - Provide documentation - Support all major endpoints</p>"},{"location":"sdks/javascript/","title":"JavaScript/TypeScript SDK","text":"<p>Modern TypeScript SDK for Node.js and browsers.</p>"},{"location":"sdks/javascript/#installation","title":"Installation","text":"<pre><code>npm install @setupranali/client\n# or\nyarn add @setupranali/client\n# or\npnpm add @setupranali/client\n</code></pre>"},{"location":"sdks/javascript/#quick-start","title":"Quick Start","text":"<pre><code>import { SetuPranali } from '@setupranali/client';\n\nconst client = new SetuPranali({\n  url: 'http://localhost:8080',\n  apiKey: 'your-api-key'\n});\n\n// List datasets\nconst datasets = await client.datasets();\nconsole.log(datasets);\n\n// Query data\nconst result = await client.query({\n  dataset: 'orders',\n  dimensions: ['city', 'product'],\n  metrics: ['total_revenue', 'order_count'],\n  filters: [\n    { field: 'order_date', operator: 'gte', value: '2024-01-01' }\n  ],\n  orderBy: [{ field: 'total_revenue', direction: 'desc' }],\n  limit: 100\n});\n\nconsole.log(result.data);\n</code></pre>"},{"location":"sdks/javascript/#factory-function","title":"Factory Function","text":"<pre><code>import { createClient } from '@setupranali/client';\n\nconst client = createClient({\n  url: 'http://localhost:8080',\n  apiKey: 'your-api-key'\n});\n</code></pre>"},{"location":"sdks/javascript/#configuration","title":"Configuration","text":"<pre><code>const client = new SetuPranali({\n  url: 'https://api.example.com',  // Server URL (required)\n  apiKey: 'sk_live_xxx',           // API key (optional for public endpoints)\n  timeout: 30000,                  // Request timeout in ms (default: 30000)\n  headers: {                       // Additional headers\n    'X-Custom-Header': 'value'\n  }\n});\n</code></pre>"},{"location":"sdks/javascript/#api-reference","title":"API Reference","text":""},{"location":"sdks/javascript/#clienthealth","title":"<code>client.health()</code>","text":"<p>Check server health.</p> <pre><code>const health = await client.health();\nconsole.log(health.status);   // 'ok'\nconsole.log(health.version);  // '1.0.0'\n</code></pre>"},{"location":"sdks/javascript/#clientdatasets","title":"<code>client.datasets()</code>","text":"<p>List available datasets.</p> <pre><code>const datasets = await client.datasets();\ndatasets.forEach(ds =&gt; {\n  console.log(`${ds.id}: ${ds.name}`);\n});\n</code></pre>"},{"location":"sdks/javascript/#clientdatasetid","title":"<code>client.dataset(id)</code>","text":"<p>Get dataset details.</p> <pre><code>const dataset = await client.dataset('orders');\nconsole.log(dataset.dimensions);\nconsole.log(dataset.metrics);\n</code></pre>"},{"location":"sdks/javascript/#clientqueryoptions","title":"<code>client.query(options)</code>","text":"<p>Execute semantic query.</p> <pre><code>const result = await client.query({\n  dataset: 'orders',\n  dimensions: ['city'],\n  metrics: ['total_revenue'],\n  filters: [\n    { field: 'status', operator: 'eq', value: 'completed' }\n  ],\n  orderBy: [{ field: 'total_revenue', direction: 'desc' }],\n  limit: 100,\n  offset: 0\n});\n\nconsole.log(result.data);\nconsole.log(result.rowCount);\nconsole.log(result.cached);\n</code></pre>"},{"location":"sdks/javascript/#clientgraphqlquery-variables","title":"<code>client.graphql(query, variables)</code>","text":"<p>Execute GraphQL query.</p> <pre><code>const result = await client.graphql(`\n  query GetData($input: QueryInput!) {\n    query(input: $input) {\n      data\n      rowCount\n    }\n  }\n`, {\n  input: {\n    dataset: 'orders',\n    dimensions: [{ name: 'city' }],\n    metrics: [{ name: 'total_revenue' }]\n  }\n});\n</code></pre>"},{"location":"sdks/javascript/#typescript-types","title":"TypeScript Types","text":"<p>Full type definitions included:</p> <pre><code>import type {\n  Dataset,\n  DatasetSummary,\n  Dimension,\n  Metric,\n  QueryResult,\n  QueryOptions,\n  Filter,\n  OrderBy,\n  HealthStatus,\n  ClientConfig\n} from '@setupranali/client';\n\n// Typed query result\ninterface OrderRow {\n  city: string;\n  total_revenue: number;\n}\n\nconst result: QueryResult&lt;OrderRow&gt; = await client.query({\n  dataset: 'orders',\n  dimensions: ['city'],\n  metrics: ['total_revenue']\n});\n\nresult.data.forEach(row =&gt; {\n  console.log(row.city, row.total_revenue);\n});\n</code></pre>"},{"location":"sdks/javascript/#filter-operators","title":"Filter Operators","text":"Operator Description Example <code>eq</code> Equal <code>{ field: 'city', operator: 'eq', value: 'Mumbai' }</code> <code>ne</code> Not equal <code>{ field: 'status', operator: 'ne', value: 'cancelled' }</code> <code>gt</code> Greater than <code>{ field: 'amount', operator: 'gt', value: 100 }</code> <code>gte</code> Greater or equal <code>{ field: 'date', operator: 'gte', value: '2024-01-01' }</code> <code>lt</code> Less than <code>{ field: 'qty', operator: 'lt', value: 10 }</code> <code>lte</code> Less or equal <code>{ field: 'price', operator: 'lte', value: 500 }</code> <code>in</code> In list <code>{ field: 'city', operator: 'in', value: ['Mumbai', 'Delhi'] }</code> <code>like</code> Pattern match <code>{ field: 'name', operator: 'like', value: '%Corp%' }</code>"},{"location":"sdks/javascript/#error-handling","title":"Error Handling","text":"<pre><code>import {\n  SetuPranali,\n  AuthenticationError,\n  DatasetNotFoundError,\n  QueryError,\n  RateLimitError,\n  ConnectionError\n} from '@setupranali/client';\n\ntry {\n  const result = await client.query({ dataset: 'orders', metrics: ['revenue'] });\n} catch (error) {\n  if (error instanceof AuthenticationError) {\n    console.error('Invalid API key');\n  } else if (error instanceof DatasetNotFoundError) {\n    console.error('Dataset not found');\n  } else if (error instanceof RateLimitError) {\n    console.error(`Rate limited. Retry after ${error.retryAfter}s`);\n  } else if (error instanceof QueryError) {\n    console.error('Query failed:', error.message);\n  } else if (error instanceof ConnectionError) {\n    console.error('Connection failed');\n  }\n}\n</code></pre>"},{"location":"sdks/javascript/#browser-usage","title":"Browser Usage","text":"<p>Works in modern browsers with native <code>fetch</code>:</p> <pre><code>&lt;script type=\"module\"&gt;\n  import { SetuPranali } from 'https://cdn.jsdelivr.net/npm/@setupranali/client/dist/index.mjs';\n\n  const client = new SetuPranali({\n    url: 'http://localhost:8080',\n    apiKey: 'your-key'\n  });\n\n  const datasets = await client.datasets();\n  console.log(datasets);\n&lt;/script&gt;\n</code></pre>"},{"location":"sdks/javascript/#nodejs-usage","title":"Node.js Usage","text":"<p>Works in Node.js 18+ (native fetch):</p> <pre><code>const { SetuPranali } = require('@setupranali/client');\n\nconst client = new SetuPranali({\n  url: 'http://localhost:8080',\n  apiKey: 'your-key'\n});\n\nconst result = await client.query({\n  dataset: 'orders',\n  metrics: ['revenue']\n});\n</code></pre> <p>For Node.js &lt; 18, use a fetch polyfill:</p> <pre><code>const fetch = require('node-fetch');\nglobalThis.fetch = fetch;\n\nconst { SetuPranali } = require('@setupranali/client');\n</code></pre>"},{"location":"sdks/javascript/#react-example","title":"React Example","text":"<pre><code>import { useEffect, useState } from 'react';\nimport { SetuPranali, QueryResult } from '@setupranali/client';\n\nconst client = new SetuPranali({\n  url: process.env.REACT_APP_API_URL!,\n  apiKey: process.env.REACT_APP_API_KEY!\n});\n\nfunction RevenueChart() {\n  const [data, setData] = useState&lt;QueryResult | null&gt;(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() =&gt; {\n    client.query({\n      dataset: 'orders',\n      dimensions: ['month'],\n      metrics: ['revenue']\n    })\n    .then(setData)\n    .finally(() =&gt; setLoading(false));\n  }, []);\n\n  if (loading) return &lt;div&gt;Loading...&lt;/div&gt;;\n\n  return (\n    &lt;ul&gt;\n      {data?.data.map((row, i) =&gt; (\n        &lt;li key={i}&gt;{row.month}: ${row.revenue}&lt;/li&gt;\n      ))}\n    &lt;/ul&gt;\n  );\n}\n</code></pre>"},{"location":"sdks/javascript/#next-steps","title":"Next Steps","text":"<ul> <li>API Reference</li> <li>GraphQL API</li> <li>Examples</li> </ul>"},{"location":"sdks/jupyter/","title":"Jupyter Widget","text":"<p>Interactive dataset explorer for Jupyter notebooks.</p>"},{"location":"sdks/jupyter/#installation","title":"Installation","text":"<pre><code>pip install setupranali[jupyter]\n\n# Or with all extras\npip install setupranali[all]\n</code></pre> <p>Required dependencies: - <code>ipywidgets</code> - <code>pandas</code> (optional, for DataFrame export)</p>"},{"location":"sdks/jupyter/#quick-start","title":"Quick Start","text":"<pre><code>from setupranali.jupyter import explore\n\n# Launch interactive explorer\nexplorer = explore(\"http://localhost:8080\", \"your-api-key\")\n</code></pre> <p>This opens an interactive widget with: - Dataset selector - Dimension/metric multi-select - Query execution - Results display - DataFrame export</p>"},{"location":"sdks/jupyter/#datasetexplorer","title":"DatasetExplorer","text":"<p>Full-featured explorer widget:</p> <pre><code>from setupranali.jupyter import DatasetExplorer\n\nexplorer = DatasetExplorer(\n    url=\"http://localhost:8080\",\n    api_key=\"your-api-key\"\n)\nexplorer.show()\n</code></pre>"},{"location":"sdks/jupyter/#features","title":"Features","text":"<ul> <li>Dataset dropdown - Select from available datasets</li> <li>Dimensions select - Multi-select dimensions to group by</li> <li>Metrics select - Multi-select metrics to aggregate</li> <li>Limit input - Control result size</li> <li>Run Query - Execute and display results</li> <li>Export to DataFrame - Save results to <code>df</code> variable</li> </ul>"},{"location":"sdks/jupyter/#quickquery","title":"QuickQuery","text":"<p>Programmatic interface for quick queries:</p> <pre><code>from setupranali.jupyter import QuickQuery\n\nqq = QuickQuery(\"http://localhost:8080\", \"your-api-key\")\n\n# Query and get DataFrame directly\ndf = qq.run(\n    dataset=\"orders\",\n    dimensions=[\"city\", \"product\"],\n    metrics=[\"total_revenue\"],\n    filters=[{\"field\": \"order_date\", \"operator\": \"gte\", \"value\": \"2024-01-01\"}],\n    limit=1000\n)\n\n# Display\ndf.head()\n</code></pre>"},{"location":"sdks/jupyter/#sql-queries","title":"SQL Queries","text":"<pre><code>df = qq.sql(\n    \"SELECT city, SUM(revenue) as total FROM orders GROUP BY city\",\n    dataset=\"orders\"\n)\n</code></pre>"},{"location":"sdks/jupyter/#using-with-existing-client","title":"Using with Existing Client","text":"<p>Pass an existing client:</p> <pre><code>from setupranali import SetuPranali\nfrom setupranali.jupyter import DatasetExplorer\n\nclient = SetuPranali(url=\"http://localhost:8080\", api_key=\"key\")\n\nexplorer = DatasetExplorer(client=client)\nexplorer.show()\n</code></pre>"},{"location":"sdks/jupyter/#programmatic-access","title":"Programmatic Access","text":"<p>The explorer also supports programmatic queries:</p> <pre><code>from setupranali.jupyter import DatasetExplorer\n\nexplorer = DatasetExplorer(url=\"http://localhost:8080\", api_key=\"key\")\n\n# Query without showing widget\nresult = explorer.query(\n    dataset=\"orders\",\n    dimensions=[\"city\"],\n    metrics=[\"revenue\"]\n)\n\ndf = result.to_dataframe()\n</code></pre>"},{"location":"sdks/jupyter/#example-notebook","title":"Example Notebook","text":"<pre><code># Cell 1: Setup\nfrom setupranali.jupyter import explore, QuickQuery\n\n# Cell 2: Interactive exploration\nexplorer = explore(\"http://localhost:8080\", \"your-api-key\")\n\n# Cell 3: After running query in widget, access the DataFrame\nprint(df.head())  # 'df' is auto-exported\n\n# Cell 4: Quick programmatic query\nqq = QuickQuery(\"http://localhost:8080\", \"your-api-key\")\nrevenue_by_city = qq.run(\"orders\", dimensions=[\"city\"], metrics=[\"total_revenue\"])\n\n# Cell 5: Visualization\nimport matplotlib.pyplot as plt\n\nrevenue_by_city.plot(kind='bar', x='city', y='total_revenue')\nplt.title('Revenue by City')\nplt.show()\n</code></pre>"},{"location":"sdks/jupyter/#widget-screenshot","title":"Widget Screenshot","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udd0d SetuPranali Dataset Explorer                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Dataset: [Orders (orders)        \u25bc]             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Dimensions:          \u2502 Metrics:                 \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502 \u2502 \u2611 City (string) \u2502  \u2502 \u2502 \u2611 Revenue       \u2502      \u2502\n\u2502 \u2502 \u2610 Product       \u2502  \u2502 \u2502 \u2611 Order Count   \u2502      \u2502\n\u2502 \u2502 \u2610 Order Date    \u2502  \u2502 \u2502 \u2610 Avg Value     \u2502      \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Limit: [100  ]  [\u25b6 Run Query] [\ud83d\udcca Export]       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u2705 Returned 10 rows                              \u2502\n\u2502 \u23f1\ufe0f Execution time: 45ms                          \u2502\n\u2502 \ud83d\udcbe Cached: False                                 \u2502\n\u2502                                                 \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502   city      revenue    order_count          \u2502 \u2502\n\u2502 \u2502   Mumbai    150000     245                  \u2502 \u2502\n\u2502 \u2502   Delhi     120000     198                  \u2502 \u2502\n\u2502 \u2502   ...       ...        ...                  \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"sdks/jupyter/#troubleshooting","title":"Troubleshooting","text":""},{"location":"sdks/jupyter/#widget-not-displaying","title":"Widget Not Displaying","text":"<pre><code># Enable widget extension\n!jupyter nbextension enable --py widgetsnbextension\n\n# For JupyterLab\n!jupyter labextension install @jupyter-widgets/jupyterlab-manager\n</code></pre>"},{"location":"sdks/jupyter/#import-error","title":"Import Error","text":"<pre><code># Check if ipywidgets is installed\n!pip install ipywidgets\n\n# Restart kernel after installation\n</code></pre>"},{"location":"sdks/jupyter/#connection-issues","title":"Connection Issues","text":"<pre><code># Test connection first\nfrom setupranali import SetuPranali\n\nclient = SetuPranali(url=\"http://localhost:8080\", api_key=\"key\")\nprint(client.health())  # Should print status\n</code></pre>"},{"location":"sdks/jupyter/#next-steps","title":"Next Steps","text":"<ul> <li>Python SDK</li> <li>Query API</li> <li>Examples</li> </ul>"},{"location":"sdks/python/","title":"Python SDK","text":"<p>Full-featured Python client for SetuPranali.</p>"},{"location":"sdks/python/#installation","title":"Installation","text":"<pre><code>pip install setupranali\n</code></pre> <p>With optional dependencies:</p> <pre><code># Async support\npip install setupranali[async]\n\n# Pandas DataFrames\npip install setupranali[pandas]\n\n# Jupyter widgets\npip install setupranali[jupyter]\n\n# Everything\npip install setupranali[all]\n</code></pre>"},{"location":"sdks/python/#quick-start","title":"Quick Start","text":"<pre><code>from setupranali import SetuPranali\n\nclient = SetuPranali(\n    url=\"http://localhost:8080\",\n    api_key=\"your-api-key\"\n)\n\n# List datasets\ndatasets = client.datasets()\nfor ds in datasets:\n    print(f\"{ds.id}: {ds.name}\")\n\n# Query data\nresult = client.query(\n    dataset=\"orders\",\n    dimensions=[\"city\", \"product\"],\n    metrics=[\"total_revenue\", \"order_count\"],\n    filters=[\n        {\"field\": \"order_date\", \"operator\": \"gte\", \"value\": \"2024-01-01\"}\n    ],\n    limit=100\n)\n\n# Get as DataFrame\ndf = result.to_dataframe()\nprint(df.head())\n</code></pre>"},{"location":"sdks/python/#client-configuration","title":"Client Configuration","text":"<pre><code>client = SetuPranali(\n    url=\"https://api.example.com\",  # Server URL\n    api_key=\"sk_live_xxx\",          # API key\n    timeout=60,                      # Timeout in seconds\n    verify_ssl=True                  # SSL verification\n)\n</code></pre>"},{"location":"sdks/python/#async-client","title":"Async Client","text":"<pre><code>import asyncio\nfrom setupranali import SetuPranaliAsync\n\nasync def main():\n    async with SetuPranaliAsync(\n        url=\"http://localhost:8080\",\n        api_key=\"your-api-key\"\n    ) as client:\n        # List datasets\n        datasets = await client.datasets()\n\n        # Query data\n        result = await client.query(\n            dataset=\"orders\",\n            dimensions=[\"city\"],\n            metrics=[\"revenue\"]\n        )\n\n        print(result.to_dataframe())\n\nasyncio.run(main())\n</code></pre>"},{"location":"sdks/python/#api-reference","title":"API Reference","text":""},{"location":"sdks/python/#clienthealth","title":"<code>client.health()</code>","text":"<p>Check server health.</p> <pre><code>health = client.health()\nprint(health.status)        # 'ok'\nprint(health.version)       # '1.0.0'\nprint(health.is_healthy)    # True\n</code></pre>"},{"location":"sdks/python/#clientdatasets","title":"<code>client.datasets()</code>","text":"<p>List available datasets.</p> <pre><code>datasets = client.datasets()\nfor ds in datasets:\n    print(f\"{ds.id}: {ds.name}\")\n    print(f\"  Dimensions: {ds.dimension_names()}\")\n    print(f\"  Metrics: {ds.metric_names()}\")\n</code></pre>"},{"location":"sdks/python/#clientdatasetid","title":"<code>client.dataset(id)</code>","text":"<p>Get dataset details.</p> <pre><code>ds = client.dataset(\"orders\")\nprint(ds.description)\nprint(ds.dimensions)\nprint(ds.metrics)\n</code></pre>"},{"location":"sdks/python/#clientquery","title":"<code>client.query(...)</code>","text":"<p>Execute semantic query.</p> <pre><code>result = client.query(\n    dataset=\"orders\",\n    dimensions=[\"city\", \"product\"],\n    metrics=[\"revenue\", \"quantity\"],\n    filters=[\n        {\"field\": \"date\", \"operator\": \"gte\", \"value\": \"2024-01-01\"},\n        {\"field\": \"status\", \"operator\": \"eq\", \"value\": \"completed\"}\n    ],\n    order_by=[\n        {\"field\": \"revenue\", \"direction\": \"desc\"}\n    ],\n    limit=100,\n    offset=0\n)\n</code></pre>"},{"location":"sdks/python/#clientquery_graphqlquery-variables","title":"<code>client.query_graphql(query, variables)</code>","text":"<p>Execute GraphQL query.</p> <pre><code>result = client.query_graphql('''\n    query GetData($input: QueryInput!) {\n        query(input: $input) {\n            data\n            rowCount\n        }\n    }\n''', variables={\n    \"input\": {\n        \"dataset\": \"orders\",\n        \"dimensions\": [{\"name\": \"city\"}],\n        \"metrics\": [{\"name\": \"revenue\"}]\n    }\n})\n</code></pre>"},{"location":"sdks/python/#working-with-results","title":"Working with Results","text":""},{"location":"sdks/python/#queryresult-object","title":"QueryResult Object","text":"<pre><code>result = client.query(dataset=\"orders\", metrics=[\"revenue\"])\n\n# Properties\nprint(result.row_count)        # Number of rows\nprint(result.cached)           # Was result cached?\nprint(result.execution_time_ms) # Execution time\nprint(result.columns)          # Column definitions\n\n# Methods\ndf = result.to_dataframe()     # Convert to pandas\nrecords = result.to_records()  # List of dicts\ntuples = result.to_tuples()    # List of tuples\nnames = result.column_names()  # Column names\n\n# Iteration\nfor row in result:\n    print(row['city'], row['revenue'])\n\n# Indexing\nfirst_row = result[0]\n</code></pre>"},{"location":"sdks/python/#filter-operators","title":"Filter Operators","text":"Operator Description Example <code>eq</code> Equal <code>{\"field\": \"city\", \"operator\": \"eq\", \"value\": \"Mumbai\"}</code> <code>ne</code> Not equal <code>{\"field\": \"status\", \"operator\": \"ne\", \"value\": \"cancelled\"}</code> <code>gt</code> Greater than <code>{\"field\": \"amount\", \"operator\": \"gt\", \"value\": 100}</code> <code>gte</code> Greater or equal <code>{\"field\": \"date\", \"operator\": \"gte\", \"value\": \"2024-01-01\"}</code> <code>lt</code> Less than <code>{\"field\": \"qty\", \"operator\": \"lt\", \"value\": 10}</code> <code>lte</code> Less or equal <code>{\"field\": \"price\", \"operator\": \"lte\", \"value\": 500}</code> <code>in</code> In list <code>{\"field\": \"city\", \"operator\": \"in\", \"value\": [\"Mumbai\", \"Delhi\"]}</code> <code>like</code> Pattern <code>{\"field\": \"name\", \"operator\": \"like\", \"value\": \"%Corp%\"}</code>"},{"location":"sdks/python/#error-handling","title":"Error Handling","text":"<pre><code>from setupranali import SetuPranali\nfrom setupranali.exceptions import (\n    AuthenticationError,\n    DatasetNotFoundError,\n    QueryError,\n    RateLimitError,\n    ConnectionError\n)\n\nclient = SetuPranali(url=\"http://localhost:8080\", api_key=\"key\")\n\ntry:\n    result = client.query(dataset=\"orders\", metrics=[\"revenue\"])\nexcept AuthenticationError:\n    print(\"Invalid API key\")\nexcept DatasetNotFoundError:\n    print(\"Dataset doesn't exist\")\nexcept RateLimitError as e:\n    print(f\"Rate limited. Retry after {e.retry_after}s\")\nexcept QueryError as e:\n    print(f\"Query failed: {e.message}\")\nexcept ConnectionError:\n    print(\"Cannot connect to server\")\n</code></pre>"},{"location":"sdks/python/#context-manager","title":"Context Manager","text":"<pre><code>with SetuPranali(url=\"http://localhost:8080\", api_key=\"key\") as client:\n    result = client.query(dataset=\"orders\", metrics=[\"revenue\"])\n# Connection automatically closed\n</code></pre>"},{"location":"sdks/python/#jupyter-integration","title":"Jupyter Integration","text":"<p>See Jupyter Widget for interactive exploration.</p> <pre><code>from setupranali.jupyter import explore\n\n# Launch interactive explorer\nexplore(\"http://localhost:8080\", \"your-api-key\")\n</code></pre>"},{"location":"sdks/python/#next-steps","title":"Next Steps","text":"<ul> <li>Jupyter Widget</li> <li>API Reference</li> <li>Examples</li> </ul>"}]}